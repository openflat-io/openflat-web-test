var E2=Object.defineProperty;var w2=(e,t,n)=>t in e?E2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var jc=(e,t,n)=>(w2(e,typeof t!="symbol"?t+"":t,n),n);import{g as generateRTMToken}from"./agora.7ea1cd24.js";import{S as SideEffectManager,R as Remitter,c as commonjsGlobal,g as getDefaultExportFromCjs,v as v4}from"./index.43c4ffc0.js";class IServiceTextChat{constructor(){jc(this,"sideEffect",new SideEffectManager);jc(this,"events",new Remitter)}async destroy(){this.sideEffect.flushAll(),this.events.destroy()}}var agoraRtmSdk={exports:{}};/*
 @preserve
 AgoraRTM Web SDK 1.6.0 - commit: v1.5.1-20-gbcf9f2a0
 Copyright (C) 2018-2022 Agora Lab.
 This file is licensed under the AGORA, INC. SDK LICENSE AGREEMENT
 A copy of this license may be found at https://www.agora.io/en/sdk-license-agreement/
*/(function(module,exports){(function(e,t){module.exports=t()})(commonjsGlobal,function(){function Dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Jb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dg(Object(n),!0).forEach(function(r){E(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ka(e){return(Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sq(e,t,n,r,o,i,s){try{var l=e[i](s),u=l.value}catch(f){return void n(f)}l.done?t(u):Promise.resolve(u).then(r,o)}function Aa(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(u){Sq(l,r,o,i,s,"next",u)}function s(u){Sq(l,r,o,i,s,"throw",u)}var l=e.apply(t,n);i(void 0)})}}function Za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nb(e,t,n){return t&&Tq(e.prototype,t),n&&Tq(e,n),e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zh(e,t)}function Nf(e){return(Nf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Zh(e,t){return(Zh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Uq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $l(e,t,n){return($l=Uq()?Reflect.construct:function(r,o,i){var s=[null];return s.push.apply(s,o),r=new(Function.bind.apply(r,s)),i&&Zh(r,i.prototype),r}).apply(null,arguments)}function $h(e){var t=typeof Map=="function"?new Map:void 0;return($h=function(n){function r(){return $l(n,arguments,Nf(this).constructor)}if(n===null||Function.toString.call(n).indexOf("[native code]")===-1)return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Zh(r,n)})(e)}function am(e,t){if(e==null)return{};if(e==null)var n={};else{n={};var r,o=Object.keys(e);for(r=0;r<o.length;r++){var i=o[r];0<=t.indexOf(i)||(n[i]=e[i])}}if(Object.getOwnPropertySymbols)for(r=Object.getOwnPropertySymbols(e),i=0;i<r.length;i++)o=r[i],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o]);return n}function K(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nb(e){var t=Uq();return function(){var n=Nf(e);if(t){var r=Nf(this).constructor;n=Reflect.construct(n,arguments,r)}else n=n.apply(this,arguments);return n=!n||typeof n!="object"&&typeof n!="function"?K(this):n}}function bm(e,t,n){return(bm=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,o,i){for(;!Object.prototype.hasOwnProperty.call(r,o)&&(r=Nf(r))!==null;);if(r)return(o=Object.getOwnPropertyDescriptor(r,o)).get?o.get.call(i):o.value})(e,t,n||e)}function Ob(e,t){var n=Array.isArray(e)?e:void 0;if(!n)if((n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]))==null)n=void 0;else{var r,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){s=!0;var l=u}finally{try{i||n.return==null||n.return()}finally{if(s)throw l}}n=o}if(!(e=n||Vq(e,t)))throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);return e}function ra(e){var t=Array.isArray(e)?cm(e):void 0;if(t||(t=typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null?Array.from(e):void 0),!(e=t||Vq(e)))throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);return e}function Vq(e,t){if(e){if(typeof e=="string")return cm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cm(e,t)}}function cm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Oa(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,l){return l(e,t,s)||s},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}function lc(e){var t={exports:{}};return e(t,t.exports),t.exports}function Eg(e){e||(e={});var t=e.ua;if(t||typeof navigator>"u"||(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;var n=CA.test(t)&&!DA.test(t)||!!e.tablet&&EA.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&1<navigator.maxTouchPoints&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}function Wq(e,t){var n,r=3>arguments.length?e:arguments[2];return sb(e)===r?e[t]:(n=ld.f(e,t))?Fa(n,"value")?n.value:n.get===void 0?void 0:n.get.call(r):db(n=Hd(e))?Wq(n,t,r):void 0}function FA(e){var t=e.charCodeAt(0)<<24,n=0|GA(~t),r=0,o=0|e.length,i="";if(5>n&&o>=n){for(t=t<<n>>>24+n,r=1;r<n;r=r+1|0)t=t<<6|63&e.charCodeAt(r);65535>=t?i+=Of(t):1114111>=t?i+=Of(55296+((t=t-65536|0)>>10)|0,56320+(1023&t)|0):r=0}for(;r<o;r=r+1|0)i+="\uFFFD";return i}function Xq(){}function HA(e){var t=0|e.charCodeAt(0);if(55296<=t&&56319>=t){var n=0|e.charCodeAt(1);if(!(n==n&&56320<=n&&57343>=n))return Of(239,191,189);if(65535<(t=(t-55296<<10)+n-56320+65536|0))return Of(240|t>>>18,128|t>>>12&63,128|t>>>6&63,128|63&t)}return 127>=t?e:2047>=t?Of(192|t>>>6,128|63&t):Of(224|t>>>12,128|t>>>6&63,128|63&t)}function Yq(){}function ib(){ib.init.call(this)}function yj(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+Ka(e))}function Zq(e,t,n,r){yj(n);var o=e._events;if(o===void 0)o=e._events=Object.create(null),e._eventsCount=0;else{o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events);var i=o[t]}return i===void 0?(o[t]=n,++e._eventsCount):(typeof i=="function"?i=o[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),0<(n=e._maxListeners===void 0?ib.defaultMaxListeners:e._maxListeners)&&i.length>n&&!i.warned&&(i.warned=!0,(n=Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=i.length,console&&console.warn&&console.warn(n))),e}function IA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function $q(e,t,n){return e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},(t=IA.bind(e)).listener=n,e.wrapFn=t}function ar(e,t,n){if((e=e._events)===void 0)return[];if((t=e[t])===void 0)return[];if(typeof t=="function")return n?[t.listener||t]:[t];if(n)for(n=Array(t.length),e=0;e<n.length;++e)n[e]=t[e].listener||t[e];else n=br(t,t.length);return n}function cr(e){var t=this._events;if(t!==void 0){if(typeof(e=t[e])=="function")return 1;if(e!==void 0)return e.length}return 0}function br(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function JA(e,t,n){typeof e.on=="function"&&dr(e,"error",t,n)}function dr(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else{if(typeof e.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+Ka(e));e.addEventListener(t,function o(i){r.once&&e.removeEventListener(t,o),n(i)})}}function KA(e){return e?ra(e):LA(function(){return[]},function(t,n){return t.push(n),t})}function er(e,t){var n,r,o,i;return X.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n=fr(e)([gr,gr,function(l,u){return u}])[2],r=0;case 2:if(!(r<t.length)){s.next=17;break}if(o=t[r],!((i=n(dm,o))instanceof zj)){s.next=11;break}if((i=em(i.deref()))===dm){s.next=10;break}return s.next=10,i;case 10:return s.abrupt("return");case 11:if(i===dm){s.next=14;break}return s.next=14,i;case 14:r++,s.next=2;break;case 17:case"end":return s.stop()}},MA)}function Aj(e,t){return t!=null&&typeof t[Symbol.iterator]=="function"?er(Aj(e),t):function(n){var r=n[2];return NA(n,function(o,i){return r(o,e(i))})}}function xe(e){return Object.prototype.toString.call(e).slice(8,-1)}function Fg(e){return xe(e)==="Object"&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function hr(e){var t;return(t=xe(e)==="Boolean"||xe(e)==="Null"||xe(e)==="Undefined")||(t=xe(e)==="Number"&&!isNaN(e)),t||xe(e)==="String"||xe(e)==="Symbol"}function Pf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ai(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Bj;++t<n;)this.add(e[t])}function Ig(e){this.size=(this.__data__=new Cj(e)).size}function Jg(e,t,n,r,o,i){var s,l=1&t,u=2&t,f=4&t;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!Ic(e))return e;if(r=mc(e)){if(s=OA(e),!l)return fm(e,s)}else{var h=bi(e),g=h=="[object Function]"||h=="[object GeneratorFunction]";if(ci(e))return ir(e,l);if(h=="[object Object]"||h=="[object Arguments]"||g&&!o){if(s=u||g?{}:jr(e),!l)return u?PA(e,QA(s,e)):RA(e,SA(s,e))}else{if(!xb[h])return o?e:{};s=TA(e,h,l)}}if(i||(i=new Kg),o=i.get(e))return o;i.set(e,s),UA(e)?e.forEach(function(m){s.add(Jg(m,t,n,m,e,i))}):VA(e)&&e.forEach(function(m,R){s.set(R,Jg(m,t,n,R,e,i))}),u=f?u?kr:gm:u?di:Qf;var y=r?void 0:u(e);return WA(y||e,function(m,R){y&&(m=e[R=m]),lr(s,R,Jg(m,t,n,R,e,i))}),s}function hm(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function r(){var o=arguments,i=t?t.apply(this,o):o[0],s=r.cache;return s.has(i)?s.get(i):(o=e.apply(this,o),r.cache=s.set(i,o)||s,o)};return n.cache=new(hm.Cache||Bj),n}function mr(e){if(typeof e=="string")return e;if(mc(e))return Lg(e,mr)+"";if(Mg(e))return nr?nr.call(e):"";var t=e+"";return t=="0"&&1/e==-XA?"-0":t}function im(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=YA),o||(o=[]);++i<s;){var l=e[i];0<t&&n(l)?1<t?im(l,t-1,n,r,o):jm(o,l):r||(o[o.length]=l)}return o}function Ng(e,t,n,r,o){if(e===t)t=!0;else if(e==null||t==null||!Zd(e)&&!Zd(t))t=e!=e&&t!=t;else t:{var i=mc(e),s=mc(t),l=i?"[object Array]":bi(e),u=s?"[object Array]":bi(t),f=(l=l=="[object Arguments]"?"[object Object]":l)=="[object Object]";if(s=(u=u=="[object Arguments]"?"[object Object]":u)=="[object Object]",(u=l==u)&&ci(e)){if(!ci(t)){t=!1;break t}i=!0,f=!1}if(u&&!f)o||(o=new Kg),t=i||km(e)?or(e,t,n,r,Ng,o):ZA(e,t,l,n,r,Ng,o);else{if(!(1&n)&&(i=f&&pr.call(e,"__wrapped__"),l=s&&pr.call(t,"__wrapped__"),i||l)){e=i?e.value():e,t=l?t.value():t,o||(o=new Kg),t=Ng(e,t,n,r,o);break t}if(u)e:if(o||(o=new Kg),i=1&n,l=gm(e),s=l.length,u=gm(t).length,s==u||i){for(u=s;u--;){var h=l[u];if(!(i?h in t:$A.call(t,h))){t=!1;break e}}if(f=o.get(e),h=o.get(t),f&&h)t=f==t&&h==e;else{f=!0,o.set(e,t),o.set(t,e);for(var g=i;++u<s;){var y=e[h=l[u]],m=t[h];if(r)var R=i?r(m,y,h,t,e,o):r(y,m,h,e,t,o);if(R===void 0?y!==m&&!Ng(y,m,n,r,o):!R){f=!1;break}g||(g=h=="constructor")}f&&!g&&(n=e.constructor)!=(r=t.constructor)&&"constructor"in e&&"constructor"in t&&!(typeof n=="function"&&n instanceof n&&typeof r=="function"&&r instanceof r)&&(f=!1),o.delete(e),o.delete(t),t=f}}else t=!1;else t=!1}}return t}function yb(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function Jc(e){return(e&&e.__isLong__)===!0}function Rf(e,t){var n;if(t){if((t=0<=(e>>>=0)&&256>e)&&(n=qr[e]))return n;n=zb(e,0>(0|e)?-1:0,!0),t&&(qr[e]=n)}else{if((t=-128<=(e|=0)&&128>e)&&(n=rr[e]))return n;n=zb(e,0>e?-1:0,!1),t&&(rr[e]=n)}return n}function md(e,t){if(isNaN(e))return t?Sf:nd;if(t){if(0>e)return Sf;if(e>=sr)return tr}else{if(e<=-ur)return Kc;if(e+1>=ur)return vr}return 0>e?md(-e,t).neg():zb(e%Og|0,e/Og|0,t)}function zb(e,t,n){return new yb(e,t,n)}function lm(e,t,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return nd;if(typeof t=="number"?(n=t,t=!1):t=!!t,2>(n=n||10)||36<n)throw RangeError("radix");var r;if(0<(r=e.indexOf("-")))throw Error("interior hyphen");if(r===0)return lm(e.substring(1),t,n).neg();r=md(Dj(n,8));for(var o=nd,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),l=parseInt(e.substring(i,i+s),n);8>s?(s=md(Dj(n,s)),o=o.mul(s).add(md(l))):o=(o=o.mul(r)).add(md(l))}return o.unsigned=t,o}function Id(e,t){return typeof e=="number"?md(e,t):typeof e=="string"?lm(e,t):zb(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}function Ca(e,t){function n(){this.constructor=e}mm(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Pg(e){return typeof e=="function"}function Qg(e){setTimeout(function(){throw e},0)}function nm(e){return e!==null&&Ka(e)==="object"}function wr(e){return e.reduce(function(t,n){return t.concat(n instanceof ei?n.errors:n)},[])}function om(e){for(;e;){var t=e.destination,n=e.isStopped;if(e.closed||n)return!1;e=t&&t instanceof fb?t:null}return!0}function ef(e){return e}function pm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xr(e)}function xr(e){return e.length===0?ef:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}function yr(e){if(e||(e=od.Promise||Promise),!e)throw Error("no Promise impl found");return e}function zr(){return function(e){return e.lift(new aB(e))}}function fi(e){return e?bB(e):Wc}function bB(e){return new Ya(function(t){return e.schedule(function(){return t.complete()})})}function ye(e){return e&&typeof e.schedule=="function"}function qm(e,t){return new Ya(function(n){var r=new cc,o=0;return r.add(t.schedule(function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||r.add(this.schedule()))})),r})}function gi(e,t){return t?qm(e,t):new Ya(Ar(e))}function dc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ye(t=e[e.length-1])?(e.pop(),qm(e,t)):gi(e)}function Ua(e,t){return new Ya(t?function(n){return t.schedule(cB,0,{error:e,subscriber:n})}:function(n){return n.error(e)})}function cB(e){e.subscriber.error(e.error)}function dB(e,t){return t===void 0&&(t=0),function(n){return n.lift(new eB(e,t))}}function Br(e){return e in rm&&(delete rm[e],!0)}function $d(){}function jb(e,t){return function(n){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new fB(e,t))}}function Cr(e,t,n){if(t){if(!ye(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Cr(e,n).apply(void 0,r).pipe(jb(function(i){return pd(i)?t.apply(void 0,i):t(i)}))};n=t}return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i,s=this,l={context:s,subject:i,callbackFunc:e,scheduler:n};return new Ya(function(u){if(n)return n.schedule(gB,0,{args:r,subscriber:u,params:l});if(!i){i=new hi;try{e.apply(s,r.concat([function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];i.next(1>=f.length?f[0]:f),i.complete()}]))}catch(f){om(i)?i.error(f):console.warn(f)}}return i.subscribe(u)})}}function gB(e){var t=this,n=e.args,r=e.subscriber,o=e.params;e=o.callbackFunc;var i=o.context,s=o.scheduler,l=o.subject;if(!l){l=o.subject=new hi,o=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];t.add(s.schedule(hB,0,{value:1>=u.length?u[0]:u,subject:l}))};try{e.apply(i,n.concat([o]))}catch(u){l.error(u)}}this.add(l.subscribe(r))}function hB(e){var t=e.subject;t.next(e.value),t.complete()}function Dr(e,t,n){if(t){if(!ye(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Dr(e,n).apply(void 0,r).pipe(jb(function(i){return pd(i)?t.apply(void 0,i):t(i)}))};n=t}return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i={subject:void 0,args:r,callbackFunc:e,scheduler:n,context:this};return new Ya(function(s){var l=i.context,u=i.subject;if(n)return n.schedule(iB,0,{params:i,subscriber:s,context:l});if(!u){u=i.subject=new hi;try{e.apply(l,r.concat([function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];(h=f.shift())?u.error(h):(u.next(1>=f.length?f[0]:f),u.complete())}]))}catch(f){om(u)?u.error(f):console.warn(f)}}return u.subscribe(s)})}}function iB(e){var t=this,n=e.params,r=e.subscriber;e=e.context;var o=n.callbackFunc,i=n.args,s=n.scheduler,l=n.subject;if(!l){l=n.subject=new hi,n=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];(f=u.shift())?t.add(s.schedule(Er,0,{err:f,subject:l})):t.add(s.schedule(jB,0,{value:1>=u.length?u[0]:u,subject:l}))};try{o.apply(e,i.concat([n]))}catch(u){this.add(s.schedule(Er,0,{err:u,subject:l}))}}this.add(l.subscribe(r))}function jB(e){var t=e.subject;t.next(e.value),t.complete()}function Er(e){e.subject.error(e.err)}function Fr(e){return!!e&&typeof e.subscribe!="function"&&typeof e.then=="function"}function sm(e,t,n,r,o){if(o===void 0&&(o=new kB(e,n,r)),!o.closed)return t instanceof Ya?t.subscribe(o):ii(t)(o)}function lB(e,t){return new Ya(function(n){var r=new cc;return r.add(t.schedule(function(){var o=e[Rg]();r.add(o.subscribe({next:function(i){r.add(t.schedule(function(){return n.next(i)}))},error:function(i){r.add(t.schedule(function(){return n.error(i)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}function mB(e,t){return new Ya(function(n){var r=new cc;return r.add(t.schedule(function(){return e.then(function(o){r.add(t.schedule(function(){n.next(o),r.add(t.schedule(function(){return n.complete()}))}))},function(o){r.add(t.schedule(function(){return n.error(o)}))})})),r})}function nB(e,t){if(!e)throw Error("Iterable cannot be null");return new Ya(function(n){var r,o=new cc;return o.add(function(){r&&typeof r.return=="function"&&r.return()}),o.add(t.schedule(function(){r=e[ff](),o.add(t.schedule(function(){if(!n.closed){try{var i=r.next(),s=i.value,l=i.done}catch(u){return void n.error(u)}l?n.complete():(n.next(s),this.schedule())}}))})),o})}function Gr(e,t){if(e!=null){if(e&&typeof e[Rg]=="function")return lB(e,t);if(Fr(e))return mB(e,t);if(Hr(e))return qm(e,t);if(e&&typeof e[ff]=="function"||typeof e=="string")return nB(e,t)}throw new TypeError((e!==null&&Ka(e)||e)+" is not observable")}function ae(e,t){return t?Gr(e,t):e instanceof Ya?e:new Ya(ii(e))}function ze(e,t){if(!t.closed){if(e instanceof Ya)return e.subscribe(t);try{var n=ii(e)(t)}catch(r){t.error(r)}return n}}function Ac(e,t,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof t=="function"?function(r){return r.pipe(Ac(function(o,i){return ae(e(o,i)).pipe(jb(function(s,l){return t(o,s,i,l)}))},n))}:(typeof t=="number"&&(n=t),function(r){return r.lift(new oB(e,n))})}function Ej(e){return e===void 0&&(e=Number.POSITIVE_INFINITY),Ac(ef,e)}function Ir(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ej(1)(dc.apply(void 0,e))}function gf(e){return new Ya(function(t){try{var n=e()}catch(r){return void t.error(r)}return(n?ae(n):fi()).subscribe(t)})}function Fj(e,t){return new Ya(function(n){var r=e.length;if(r===0)n.complete();else for(var o=Array(r),i=0,s=0,l=function(f){var h=ae(e[f]),g=!1;n.add(h.subscribe({next:function(y){g||(g=!0,s++),o[f]=y},error:function(y){return n.error(y)},complete:function(){++i!==r&&g||(s===r&&n.next(t?t.reduce(function(y,m,R){return y[m]=o[R],y},{}):o),n.complete())}}))},u=0;u<r;u++)l(u)})}function Bc(e,t,n,r){return Pg(n)&&(r=n,n=void 0),r?Bc(e,t,n).pipe(jb(function(o){return pd(o)?r.apply(void 0,o):r(o)})):new Ya(function(o){Jr(e,t,function(i){1<arguments.length?o.next(Array.prototype.slice.call(arguments)):o.next(i)},o,n)})}function Jr(e,t,n,r,o){if(e&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"){e.addEventListener(t,n,o);var i=function(){return e.removeEventListener(t,n,o)}}else if(e&&typeof e.on=="function"&&typeof e.off=="function")e.on(t,n),i=function(){return e.off(t,n)};else if(e&&typeof e.addListener=="function"&&typeof e.removeListener=="function")e.addListener(t,n),i=function(){return e.removeListener(t,n)};else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var s=0,l=e.length;s<l;s++)Jr(e[s],t,n,r,o)}r.add(i)}function Kr(e,t,n){return n?Kr(e,t).pipe(jb(function(r){return pd(r)?n.apply(void 0,r):n(r)})):new Ya(function(r){var o=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return r.next(s.length===1?s[0]:s)};try{var i=e(o)}catch(s){return void r.error(s)}if(Pg(t))return function(){return t(o,i)}})}function pB(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(i){return void t.error(i)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(i){return void t.error(i)}if(!r)return void t.complete();if(t.closed)return}try{var o=e.resultSelector(e.state)}catch(i){return void t.error(i)}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(e)}}function tm(e){return!pd(e)&&0<=e-parseFloat(e)+1}function Sg(e,t){return e===void 0&&(e=0),t===void 0&&(t=Ae),(!tm(e)||0>e)&&(e=0),t&&typeof t.schedule=="function"||(t=Ae),new Ya(function(n){return n.add(t.schedule(qB,e,{subscriber:n,counter:0,period:e})),n})}function qB(e){var t=e.subscriber,n=e.counter;e=e.period,t.next(n),this.schedule({subscriber:t,counter:n+1,period:e},e)}function Lc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];t=Number.POSITIVE_INFINITY;var n=null,r=e[e.length-1];return ye(r)?(n=e.pop(),1<e.length&&typeof e[e.length-1]=="number"&&(t=e.pop())):typeof r=="number"&&(t=e.pop()),n===null&&e.length===1&&e[0]instanceof Ya?e[0]:Ej(t)(gi(e,n))}function um(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===0)return Wc;var n=e[0],r=e.slice(1);return e.length===1&&pd(n)?um.apply(void 0,n):new Ya(function(o){var i=function(){return o.add(um.apply(void 0,r).subscribe(o))};return ae(n).subscribe({next:function(s){o.next(s)},error:i,complete:i})})}function rB(e){var t=e.keys,n=e.index,r=e.subscriber,o=e.subscription;if(e=e.obj,!r.closed)if(n<t.length){var i=t[n];r.next([i,e[i]]),o.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:o,obj:e}))}else r.complete()}function sB(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function sc(e,t){return function(n){return n.lift(new tB(e,t))}}function $a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1){if(!pd(e[0]))return e[0];e=e[0]}return gi(e,void 0).lift(new uB)}function vB(e){var t=e.start,n=e.index,r=e.subscriber;n>=e.count?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}function Be(e,t,n){e===void 0&&(e=0);var r=-1;return tm(t)?r=1>Number(t)?1:Number(t):ye(t)&&(n=t),ye(n)||(n=Ae),new Ya(function(o){var i=tm(e)?e:+e-n.now();return n.schedule(wB,i,{index:0,period:r,subscriber:o})})}function wB(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(n===-1)return r.complete();e.index=t+1,this.schedule(e,n)}}function vm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return typeof(t=e[e.length-1])=="function"&&e.pop(),gi(e,void 0).lift(new xB(t))}function Gj(e){var t=arguments.length,n=Ae;ye(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;2<=t&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return 3<=t&&(o=arguments[2]),function(i){return i.lift(new yB(e,r,o,n))}}function Lr(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function zB(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,o=e.scheduler,i=r.openContext();r.closed||(r.add(i.closeAction=o.schedule(Mr,n,{subscriber:r,context:i})),this.schedule(e,t))}function Mr(e){e.subscriber.closeContext(e.context)}function Pb(e){return function(t){var n=new AB(e);return t=t.lift(n),n.caught=t}}function wm(e,t){return Ac(e,t,1)}function Nr(e){return e===void 0&&(e=null),function(t){return t.lift(new BB(e))}}function Tf(e,t){t===void 0&&(t=Ae);var n=e instanceof Date&&!isNaN(+e)?+e-t.now():Math.abs(e);return function(r){return r.lift(new CB(n,t))}}function Or(e,t){return function(n){return n.lift(new DB(e,t))}}function Uf(e){return e===void 0&&(e=EB),function(t){return t.lift(new FB(e))}}function EB(){return new Hj}function Wb(e){return function(t){return e===0?fi():t.lift(new GB(e))}}function Ij(e){return function(t){return t.lift(new HB(e))}}function Ma(e,t){var n=2<=arguments.length;return function(r){return r.pipe(e?sc(function(o,i){return e(o,i,r)}):ef,Wb(1),n?Nr(t):Uf(function(){return new Hj}))}}function IB(){return function(e){return e.lift(new JB)}}function Pr(e){return function(t){return e===0?fi():t.lift(new KB(e))}}function ji(e){return function(t){return t.lift(new LB(e))}}function Jj(e,t){var n=!1;return 2<=arguments.length&&(n=!0),function(r){return r.lift(new MB(e,t,n))}}function Qr(e,t){return 2<=arguments.length?function(n){return pm(Jj(e,t),Pr(1),Nr(t))(n)}:function(n){return pm(Jj(function(r,o,i){return e(r,o,i+1)}),Pr(1))(n)}}function NB(e,t){return function(n){var r=typeof e=="function"?e:function(){return e};if(typeof t=="function")return n.lift(new OB(r,t));var o=Object.create(n,PB);return o.source=n,o.subjectFactory=r,o}}function Tg(e){return function(t){return t.lift(new QB(e,t))}}function RB(){return new ec}function Ug(){return function(e){return zr()(NB(RB)(e))}}function Rr(e,t,n){var r=e&&Ka(e)==="object"?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n};return function(o){return o.lift(SB(r))}}function SB(e){var t,n,r=e.bufferSize,o=r===void 0?Number.POSITIVE_INFINITY:r,i=(r=e.windowTime)===void 0?Number.POSITIVE_INFINITY:r,s=e.refCount,l=e.scheduler,u=0,f=!1,h=!1;return function(g){if(u++,!t||f){f=!1;var y=(t=new Vg(o,i,l)).subscribe(this);n=g.subscribe({next:function(m){t.next(m)},error:function(m){f=!0,t.error(m)},complete:function(){h=!0,n=void 0,t.complete()}}),h&&(n=void 0)}else y=t.subscribe(this);this.add(function(){u--,y.unsubscribe(),y=void 0,n&&!h&&s&&u===0&&(n.unsubscribe(),t=n=void 0)})}}function Cc(e,t){return typeof t=="function"?function(n){return n.pipe(Cc(function(r,o){return ae(e(r,o)).pipe(jb(function(i,s){return t(r,i,o,s)}))}))}:function(n){return n.lift(new TB(e))}}function be(e){return function(t){return t.lift(new UB(e))}}function Ia(e,t,n){return function(r){return r.lift(new VB(e,t,n))}}function WB(e,t,n){return t===void 0&&(t=Ae),n===void 0&&(n=XB),function(r){return r.lift(new YB(e,t,n.leading,n.trailing))}}function ZB(e){e.subscriber.clearThrottle()}function $B(e,t,n){return n===void 0&&(n=Ae),function(r){var o=e instanceof Date&&!isNaN(+e),i=o?+e-n.now():Math.abs(e);return r.lift(new aC(i,o,t,n))}}function Mc(e,t){return t===void 0&&(t=Ae),$B(e,Ua(new Xc),t)}function bC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){var r;return typeof e[e.length-1]=="function"&&(r=e.pop()),n.lift(new cC(e,r))}}function Sr(e){(xm||e)&&(Tr.abort(),e&&(Tr=new AbortController),xm=e)}function Ur(e,t,n,r,o){e!==t&&Vr(t,function(i,s){if(o||(o=new Kg),Ic(i)){i=o;var l=ym(e,s),u=ym(t,s),f=i.get(u);if(f)zm(e,s,f);else{var h=(f=r?r(l,u,s+"",e,t,i):void 0)===void 0;if(h){var g=mc(u),y=!g&&ci(u),m=!g&&!y&&km(u);f=u,g||y||m?mc(l)?f=l:Zd(l)&&Vf(l)?f=fm(l):y?(h=!1,f=ir(u,!0)):m?(h=!1,f=Wr(u,!0)):f=[]:Xr(u)||ki(u)?(f=l,ki(l)?f=Wg(l,di(l)):Ic(l)&&!Am(l)||(f=jr(u))):h=!1}h&&(i.set(u,f),Ur(f,u,n,r,i),i.delete(u)),zm(e,s,f)}}else(l=r?r(ym(e,s),i,s+"",e,t,o):void 0)===void 0&&(l=i),zm(e,s,l)},di)}function dC(e){var t=1,n=Bm;(1>=arguments.length?0:arguments.length-1)==1?typeof(1>=arguments.length?void 0:arguments[1])=="number"?t=1>=arguments.length?void 0:arguments[1]:n=1>=arguments.length?void 0:arguments[1]:(1>=arguments.length?0:arguments.length-1)==2&&(t=1>=arguments.length?void 0:arguments[1],n=2>=arguments.length?void 0:arguments[2]);var r=t||1;return function(o){return o.pipe(Jj(function(i,s){var l=n.now(),u=l-e;if((i=i.filter(function(g){return g.until>u})).length>=r){var f=i[i.length-1],h=i[0].until+e*Math.floor(i.length/r);i.push({delay:f.until<l?h-l:h-f.until,until:h,value:s})}else i.push({delay:0,until:l,value:s});return i},[]),jb(function(i){return i[i.length-1]}),wm(function(i){var s=dc(i.value);return i.delay?s.pipe(Tf(i.delay,n)):s}))}}function eC(e,t){var n=(t=t===void 0?{protocols:Yr,makeWebSocket:Zr}:t).protocols,r=n===void 0?Yr:n,o=(t=t.makeWebSocket)===void 0?Zr:t;return new Ya(function(i){var s,l=new ec,u=o(e,r),f=!1,h=!1,g=!1,y=function(m){if(s)throw f=!0,m=Error("Web socket message factory function called more than once"),i.error(m),m;return s=m.subscribe(function(R){u.send(R)}),l};return u.onopen=function(){g=!0,h?(f=!0,u.close()):i.next(y)},u.onmessage=function(m){l.next(m.data)},u.onerror=function(m){f=!0,i.error(Error(m.message))},u.onclose=function(m){f||(f=!0,h?(i.complete(),l.complete()):i.error(Error(m.code===1e3?"Normal closure":m.reason)))},function(){h=!0,s&&s.unsubscribe(),f||(f=!0,g&&u.close())}})}function Kj(){this._listeners={}}function $r(e){return typeof Float32Array<"u"?function(){function t(u,f,h){i[0]=u,f[h]=s[0],f[h+1]=s[1],f[h+2]=s[2],f[h+3]=s[3]}function n(u,f,h){i[0]=u,f[h]=s[3],f[h+1]=s[2],f[h+2]=s[1],f[h+3]=s[0]}function r(u,f){return s[0]=u[f],s[1]=u[f+1],s[2]=u[f+2],s[3]=u[f+3],i[0]}function o(u,f){return s[3]=u[f],s[2]=u[f+1],s[1]=u[f+2],s[0]=u[f+3],i[0]}var i=new Float32Array([-0]),s=new Uint8Array(i.buffer),l=s[3]===128;e.writeFloatLE=l?t:n,e.writeFloatBE=l?n:t,e.readFloatLE=l?r:o,e.readFloatBE=l?o:r}():function(){function t(r,o,i,s){var l=0>o?1:0;if(l&&(o=-o),o===0)r(0<1/o?0:2147483648,i,s);else if(isNaN(o))r(2143289344,i,s);else if(34028234663852886e22<o)r((l<<31|2139095040)>>>0,i,s);else if(11754943508222875e-54>o)r((l<<31|Math.round(o/1401298464324817e-60))>>>0,i,s);else{var u=Math.floor(Math.log(o)/Math.LN2);r((l<<31|u+127<<23|8388607&Math.round(o*Math.pow(2,-u)*8388608))>>>0,i,s)}}function n(r,o,i){return i=r(o,i),r=2*(i>>31)+1,o=i>>>23&255,i&=8388607,o===255?i?NaN:1/0*r:o===0?1401298464324817e-60*r*i:r*Math.pow(2,o-150)*(i+8388608)}e.writeFloatLE=t.bind(null,as),e.writeFloatBE=t.bind(null,bs),e.readFloatLE=n.bind(null,cs),e.readFloatBE=n.bind(null,ds)}(),typeof Float64Array<"u"?function(){function t(u,f,h){i[0]=u,f[h]=s[0],f[h+1]=s[1],f[h+2]=s[2],f[h+3]=s[3],f[h+4]=s[4],f[h+5]=s[5],f[h+6]=s[6],f[h+7]=s[7]}function n(u,f,h){i[0]=u,f[h]=s[7],f[h+1]=s[6],f[h+2]=s[5],f[h+3]=s[4],f[h+4]=s[3],f[h+5]=s[2],f[h+6]=s[1],f[h+7]=s[0]}function r(u,f){return s[0]=u[f],s[1]=u[f+1],s[2]=u[f+2],s[3]=u[f+3],s[4]=u[f+4],s[5]=u[f+5],s[6]=u[f+6],s[7]=u[f+7],i[0]}function o(u,f){return s[7]=u[f],s[6]=u[f+1],s[5]=u[f+2],s[4]=u[f+3],s[3]=u[f+4],s[2]=u[f+5],s[1]=u[f+6],s[0]=u[f+7],i[0]}var i=new Float64Array([-0]),s=new Uint8Array(i.buffer),l=s[7]===128;e.writeDoubleLE=l?t:n,e.writeDoubleBE=l?n:t,e.readDoubleLE=l?r:o,e.readDoubleBE=l?o:r}():function(){function t(r,o,i,s,l,u){var f=0>s?1:0;if(f&&(s=-s),s===0)r(0,l,u+o),r(0<1/s?0:2147483648,l,u+i);else if(isNaN(s))r(0,l,u+o),r(2146959360,l,u+i);else if(17976931348623157e292<s)r(0,l,u+o),r((f<<31|2146435072)>>>0,l,u+i);else if(22250738585072014e-324>s)r((s/=5e-324)>>>0,l,u+o),r((f<<31|s/4294967296)>>>0,l,u+i);else{var h=Math.floor(Math.log(s)/Math.LN2);h===1024&&(h=1023),r(4503599627370496*(s*=Math.pow(2,-h))>>>0,l,u+o),r((f<<31|h+1023<<20|1048576*s&1048575)>>>0,l,u+i)}}function n(r,o,i,s,l){return o=r(s,l+o),s=r(s,l+i),r=2*(s>>31)+1,o=4294967296*(1048575&s)+o,(i=s>>>20&2047)===2047?o?NaN:1/0*r:i===0?5e-324*r*o:r*Math.pow(2,i-1075)*(o+4503599627370496)}e.writeDoubleLE=t.bind(null,as,0,4),e.writeDoubleBE=t.bind(null,bs,4,0),e.readDoubleLE=n.bind(null,cs,0,4),e.readDoubleBE=n.bind(null,ds,4,0)}(),e}function as(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function bs(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function cs(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function ds(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function nc(e,t){this.lo=e>>>0,this.hi=t>>>0}function li(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function Cm(){}function fC(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function gb(){this.len=0,this.tail=this.head=new li(Cm,0,0),this.states=null}function Dm(e,t,n){t[n]=255&e}function Em(e,t){this.len=e,this.next=void 0,this.val=t}function Fm(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo>>>=7;t[n++]=e.lo}function Gm(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function ce(){Hm.call(this)}function gC(e,t,n){40>e.length?Qa.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}function Jd(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Xb(e){this.buf=e,this.pos=0,this.len=e.length}function Im(){var e=new es(0,0),t=0;if(!(4<this.len-this.pos)){for(;3>t;++t){if(this.pos>=this.len)throw Jd(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;4>t;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return e;if(t=0,4<this.len-this.pos){for(;5>t;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}else for(;5>t;++t){if(this.pos>=this.len)throw Jd(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}throw Error("invalid varint encoding")}function Lj(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function fs(){if(this.pos+8>this.len)throw Jd(this,8);return new es(Lj(this.buf,this.pos+=4),Lj(this.buf,this.pos+=4))}function Wf(e){Jm.call(this,e)}function mi(e,t,n){if(typeof e!="function")throw TypeError("rpcImpl must be a function");Qa.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!n}function gs(e){var t=[];return function n(r){if(r===null||Ka(r)!=="object")return r;if(t.indexOf(r)!==-1)return"[Circular]";if(t.push(r),typeof r.toJSON=="function")try{var o=n(r.toJSON());return t.pop(),o}catch(i){return"[Throws: "+(i?i.message:"?")+"]"}return Array.isArray(r)?(o=r.map(n),t.pop(),o):(o=Object.keys(r).reduce(function(i,s){t:{if(hC.call(r,s))try{var l=r[s];break t}catch(u){l="[Throws: "+(u?u.message:"?")+"]";break t}l=r[s]}return i[s]=n(l),i},{}),t.pop(),o)}(e)}function iC(e){if(!(100<(e=String(e)).length)&&(e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e))){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}function Mj(e,t,n,r){return Math.round(e/n)+" "+r+(t>=1.5*n?"s":"")}function jC(e){var t=e.areas,n=e.excludedArea;if(t.length===1&&t[0]===pa.GLOBAL&&n===pa.CHINA)return Xg([pa.OVERSEA]);if(t.includes(pa.GLOBAL)){if(e=ni(Nj).filter(function(i){return i!==pa.GLOBAL&&i!==pa.OVERSEA}),n in oi){t=oi[n];var r=[].concat(ra(t!=null?t:[]),[n]);return Xg(e.filter(function(i){return!r.includes(i)}))}if(hs(n)){var o=kC(n);return Xg(e.filter(function(i){return i!==n&&i!==o}))}}if(hs(n)||n in oi)return Xg(t);throw new ka("Invalid excludedArea area config")}function eb(e,t,n){n===void 0&&(n=Object.getOwnPropertyDescriptor(e,t));var r=n.value;return n.value=function(){for(var o=this,i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];this.invokeTracker.apply(this,["%s: ".concat(0<s.length?"%s with args: ".concat(s.map(function(){return"%o"})):"%s"),this.name,t].concat(ra(s.map(Yg))));try{var u=r.apply(this,s)}catch(h){throw this.logError.apply(this,["".concat(h.code!==void 0?"Error Code ".concat(h.code,": "):"","%s failed").concat(0<s.length?" with args: ".concat(s.map(function(){return"%o"})):""),t].concat(ra(s.map(Yg)))),h.originalError&&this.logError(h.originalError),this.errorTracker(h),h}var f=Date.now();return Aa(X.mark(function h(){var g,y;return X.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,u;case 3:g=m.sent,m.next=12;break;case 6:return m.prev=6,m.t0=m.catch(0),o.logError.apply(o,["".concat(m.t0.code!==void 0?"Error Code ".concat(m.t0.code,": "):"","%s failed").concat(0<s.length?" with args: ".concat(s.map(function(){return"%o"})):""),t].concat(ra(s.map(Yg)))),m.t0.originalError&&o.logError(m.t0.originalError),o.errorTracker(m.t0),m.abrupt("return");case 12:g!==u?g===void 0?o.resultTracker("%s promise resolves after %dms",t,Date.now()-f):o.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-f,Yg(g)):xe(g)!=="Object"||Fg(g)?o.resultTracker("%s result is %o",t,Yg(g)):o.resultTracker("%s result is %s",t,g.name||((y=g.constructor)===null||y===void 0?void 0:y.name));case 13:case"end":return m.stop()}},h,null,[[0,6]])}))(),u},n}function de(e,t,n){n===void 0&&(n=Object.getOwnPropertyDescriptor(e,t));var r=n.value;return n.value=function(){for(var o=this,i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];this.invokeTracker.apply(this,["%s: ".concat(0<s.length?"%s with args: ".concat(s.map(function(){return"%o"})):"%s"),this.name,t].concat(s));try{var u=r.apply(this,s)}catch(h){throw this.logError.apply(this,["".concat(h.code!==void 0?"Error Code ".concat(h.code,": "):"","%s failed").concat(0<s.length?" with args: ".concat(s.map(function(){return"%o"})):""),t].concat(s)),h.originalError&&this.logError(h.originalError),this.errorTracker(h),h}var f=Date.now();return Aa(X.mark(function h(){var g,y;return X.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,u;case 3:g=m.sent,m.next=12;break;case 6:return m.prev=6,m.t0=m.catch(0),o.logError.apply(o,["".concat(m.t0.code!==void 0?"Error Code ".concat(m.t0.code,": "):"","%s failed").concat(0<s.length?" with args: ".concat(s.map(function(){return"%o"})):""),t].concat(s)),m.t0.originalError&&o.logError(m.t0.originalError),o.errorTracker(m.t0),m.abrupt("return");case 12:g!==u?g===void 0?o.resultTracker("%s promise resolves after %dms",t,Date.now()-f):o.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-f,g):xe(g)!=="Object"||Fg(g)?o.resultTracker("%s result is %o",t,g):o.resultTracker("%s result is %s",t,g.name||((y=g.constructor)===null||y===void 0?void 0:y.name));case 13:case"end":return m.stop()}},h,null,[[0,6]])}))(),u},n}function Qb(e,t,n){return Km.apply(this,arguments)}function Km(){return(Km=Aa(X.mark(function e(t,n,r){var o,i,s,l=arguments;return X.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=3<l.length&&l[3]!==void 0&&l[3],i=lC[t].encode(n).finish(),s=function(){var f=Aa(X.mark(function h(g){var y,m,R,A=arguments;return X.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(!(3<(m=1<A.length&&A[1]!==void 0?A[1]:0))){k.next=3;break}return k.abrupt("return");case 3:if(R=Zg(R=r?"https://".concat((y=Ba==null?void 0:Ba.PROXY_NGINX[0])!==null&&y!==void 0?y:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(g,"&p=443&d=events/proto-raw"):"https://".concat(g,"/events/proto-raw"),"sentTs",Math.ceil(Date.now()/1e3).toString()),R=Zg(R,"id",mC[t].toString()),!o){k.next=9;break}return k.next=9,nC(1e4);case 9:return k.next=11,Oj(R,{body:i,timeout:2e4,headers:{"Content-Type":"application/octet-stream"}}).catch(function(I){return s(g,m+1)});case 11:case"end":return k.stop()}},h)}));return function(h){return f.apply(this,arguments)}}(),u.prev=3,u.next=6,s((Ba==null?void 0:Ba.EVENT_REPORT_DOMAIN[0])||pi(null)&&null||"webcollector-rtm.agora.io");case 6:u.next=12;break;case 8:return u.prev=8,u.t0=u.catch(3),u.next=12,s(Ba&&is(1<(Ba==null?void 0:Ba.EVENT_REPORT_DOMAIN.length)?Ba==null?void 0:Ba.EVENT_REPORT_DOMAIN.slice(1):Ba==null?void 0:Ba.EVENT_REPORT_DOMAIN)||"rtm.statscollector.sd-rtn.com");case 12:case"end":return u.stop()}},e,null,[[3,8]])}))).apply(this,arguments)}function Kb(e){return e===void 0?U.fromNumber(0):U.fromNumber(Date.now()-e)}function Eb(e){return typeof e=="string"&&/^[\s\w!#$%&()+,.:;<=>?@[\]^{|}~-]{1,64}$/.test(e)&&e!=="null"}function js(e){try{var t=e.split(".").map(function(r){return Number(r)})}catch{return!1}if(t.length!==4||t[0]===0)return!1;for(e=0;e<t.length;e++){var n=t[e];if(!Number.isInteger(n)||0>n||255<n)return!1}return!0}function ks(e,t){if(!Array.isArray(t)||t.length===0||32<t.length||t.some(function(n){return n.length===0||32<n.length}))throw new ka("arguments is not valid",Tb);if(!Eb(e))throw new ka("ID is invalid",Tb)}function qi(e){var t=e.attributes,n=e.attrSizeMap,r=e.maxAttrsCount,o=e.maxAttrValueSize;if(e=e.maxTotalSize,!Fg(t))throw new ka("attributes must be an object",Tb);if(Object.keys(t).length>r)throw new qd("Exceed the limit of ".concat(r," attributes"),$g);if(Object.keys(t).length===0)throw new ka("The attributes is an empty object",Tb);var i=0,s=0;for(t=Object.entries(t);s<t.length;s++){var l=Ob(t[s],2),u=l[1];l=new Blob([l[0]]).size;var f=new Blob([u]).size;if(l===0||32<l)throw new ka("Invalid attribute key",Tb);if(f>o)throw new qd("Invalid attribute value, over the limit of ".concat(o," bytes"),$g);if(typeof u!="string"||u.length===0)throw new ka("Invalid attribute value",Tb);i+=l,i+=f}if(i>e)throw new qd("The attributes size overflow",$g);if(n!==void 0){if(Object.keys(n).length>r)throw new qd("Exceed the limit of ".concat(r," attributes"),$g);for(i=r=0,n=Object.entries(n);i<n.length;i++){if(s=(t=Ob(n[i],2))[1],(t=new Blob([t[0]]).size)===0)throw new ka("Invalid attribute key",Tb);if(s>o)throw new qd("Invalid attribute value, over the limit of ".concat(o," bytes"),$g);r+=t,r+=s}if(r>e)throw new qd("The attributes size overflow",$g)}}function Pj(e,t){return Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e)+1))+e}function Qj(){var e=Pj(0,4294967295),t=Pj(1,4294967295);return new U(e,t,!0)}function fc(e){return e.toString().padEnd(32,"0")}function ls(e,t){return new TypeError("Unexpected ".concat(e,": ").concat(t))}function ms(e,t){return e=e.split(".").map(function(n){return Number(n)}),t=t.split(".").map(function(n){return Number(n)}),Math.sqrt(1e3*Math.pow(e[0]-t[0],2)+100*Math.pow(e[1]-t[1],2)+10*Math.pow(e[2]-t[2],2)+1*Math.pow(e[3]-t[3],2))}function ns(e){return e.lessThanOrEqual(Number.MAX_SAFE_INTEGER)?e.toNumber():e.toString()}function Lm(e,t){t="".concat(e).concat(t||"");var n=os.get(t)||1;return os.set(t,n+1),"".concat(e).concat(n)}function ps(e,t){var n=typeof t=="number"?t:t!==void 0&&typeof t!="string"?t.code:void 0;return t=typeof t!="number"&&typeof t!="string"&&t!==void 0&&t.serverCode!==void 0?t.serverCode:void 0,n="".concat(n!==void 0?" Error Code ".concat(n):"").concat(t!==void 0?", server Code ".concat(t):""),e=typeof e=="string"&&e?Rj(e):Array.isArray(e)&&typeof e[0]=="string"&&e[0]?Rj(qs.apply(void 0,[e[0]].concat(ra(e.slice(1))))):"","".concat(n===""?"":"".concat(n," - ")).concat(e)}function nC(e,t){return Mm.apply(this,arguments)}function Mm(){return(Mm=Aa(X.mark(function e(t,n){return X.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n||!n.aborted){r.next=2;break}return r.abrupt("return");case 2:return r.abrupt("return",new Promise(function(o){setTimeout(o,t),n==null||n.addEventListener("abort",o)}));case 3:case"end":return r.stop()}},e)}))).apply(this,arguments)}function Oj(e,t,n){return Nm.apply(this,arguments)}function Nm(){return(Nm=Aa(X.mark(function e(t,n,r){var o,i,s,l,u,f,h,g,y,m,R,A,k,I,N,C,Y,te,Xe,_e,$e,_a,q,V,z,_t;return X.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(o=n.body,i=n.headers,s=i===void 0?{}:i,l=n.timeout,u=l===void 0?1e4:l,f=n.signal,h=n.withCredentials,g=h!==void 0&&h,y=(r||{}).useBinaryResponse,m=y!==void 0&&y,(R=new XMLHttpRequest).open("POST",t,!0),R.responseType=m?"arraybuffer":"text",R.withCredentials=g,R.timeout=u,A=o instanceof FormData,k=o instanceof Uint8Array,!(1<(I=Object.keys(s).filter(function(D){return D.toLowerCase()==="content-type"})).length)){L.next=14;break}throw new RangeError("multiple content-type");case 14:I.length===0&&(k?s["Content-Type"]="application/octet-stream":A||(s["Content-Type"]="application/json"));case 15:if("setRequestHeader"in R){L.next=46;break}return R.abort(),L.next=19,fetch(t,{body:A||k?o:JSON.stringify(o),cache:"no-cache",credentials:g?"include":"same-origin",headers:s,method:"POST",mode:"cors",referrer:"no-referrer",signal:f});case 19:if(N=L.sent,!(200<=(C=N.status)&&300>C||C===304)){L.next=31;break}if(!m){L.next=27;break}return L.next=25,N.arrayBuffer();case 25:return Y=L.sent,L.abrupt("return",{status:C,responseData:Y});case 27:return L.next=29,N.text();case 29:return te=L.sent,L.abrupt("return",{status:C,responseText:te});case 31:return Xe=new wa(["Post XHR failure, status %d",C]),L.prev=32,L.next=35,N.text();case 35:throw _e=L.sent,Xe.statusCode=C,Xe.message=_e||"Request failed, status ".concat(C),Xe;case 41:throw L.prev=41,L.t0=L.catch(32),Xe.statusCode=C,Xe.message="Request failed, status ".concat(C),Xe;case 46:if(Object.keys(s).length!==0)for($e=0,_a=Object.entries(s);$e<_a.length;$e++)q=Ob(_a[$e],2),V=q[0],z=q[1],R.setRequestHeader(V,z);return f!==void 0&&(_t=function D(){R.abort(),f.removeEventListener("abort",D)},f.addEventListener("abort",_t)),A||k?R.send(o):R.send(JSON.stringify(o)),L.abrupt("return",new Promise(function(D,J){R.onload=function(){var Q=R.status;if(200<=Q&&300>Q||Q===304)D(m?{status:Q,responseData:R.response}:{status:Q,responseText:R.responseText});else{var ue=new wa(["Post XHR failure, status %d",Q]);ue.statusCode=Q,ue.message=R.response||"Request failed, status ".concat(R.status),J(ue)}},R.ontimeout=function(Q){J(new Yc(["XHR request timed out after %d ms",u],{originalError:Q}))},R.onerror=function(){var Q=new wa(["Post XHR failure, status %d",R.status]);Q.statusCode=R.status,Q.message=R.response||"Request failed, status ".concat(R.status),J(Q)},R.onabort=function(){try{J(new DOMException("The request aborted.","AbortError"))}catch{var Q=Error("The request aborted.");Q.name="AbortError",J(Q)}}}));case 50:case"end":return L.stop()}},e,null,[[32,41]])}))).apply(this,arguments)}function rs(e,t){if(!Fg(e))throw new ka("message object is not a plain object",t);if(e.messageType===void 0)if(e.rawMessage instanceof Uint8Array){if(e.messageType="RAW",e.text!==void 0)throw new ka("Raw messages cannot have text property. Use description instead",t)}else{if(typeof e.text!="string")throw new ka("messageType is undefined",t);if(e.messageType="TEXT",e.rawMessage!==void 0)throw new ka("Text messages cannot have rawMessage property",t)}}function Sj(e){return Om.apply(this,arguments)}function Om(){return(Om=Aa(X.mark(function e(t){var n,r,o,i,s,l,u,f,h,g,y,m,R,A,k,I,N,C,Y,te,Xe;return X.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(n=t.message,r=t.peerId,o=t.toPeer,i=t.session,s=t.errorCodes,l=t.diff,u=t.logger,i!==void 0){_e.next=3;break}throw new ja("The client is not logged in. Cannot do the operation",s.NOT_LOGGED_IN);case 3:if(f=!1,h=o?n.messageType==="TEXT"?tb.P2pSMsgNoOfflineFlag:tb.P2pRMsgNoOfflineFlag:n.messageType==="TEXT"?tb.ChannelSMsg:tb.ChannelRMsg,n.messageType!=="TEXT"||!n.text.startsWith("AgoraRTMLegacyEndcallCompatibleMessagePrefix")||!o){_e.next=14;break}if(g=n.text.split("_"),y=Ob(g,3),m=y[0],R=y[1],y[2]!==void 0&&Eb(R)&&m==="AgoraRTMLegacyEndcallCompatibleMessagePrefix"){_e.next=13;break}throw i.emit("messageCount",{messageCategory:h,type:"common",key:"sentcount"}),i.emit("messageCount",{messageCategory:h,type:"common",key:"invalidmessagecount"}),new ka("Message is not valid",ri);case 13:f=!0;case 14:if(A=Date.now(),k=i.messageSentTimes.length-1,!((I=i.messageSentTimes[k])&&I+3e3<A)){_e.next=21;break}i.messageSentTimes=[A],_e.next=34;break;case 21:N=k;case 22:if(!(0<=N)){_e.next=33;break}if(!(i.messageSentTimes[N]+3e3<A)){_e.next=26;break}return i.messageSentTimes=i.messageSentTimes.slice(N+1,k+1),_e.abrupt("break",33);case 26:if(!(180<=k-N+1)){_e.next=30;break}throw i.emit("messageCount",{messageCategory:h,type:"common",key:"sentcount"}),i.emit("messageCount",{messageCategory:h,type:"common",key:"toooftencount"}),new qd("Message sent failed, exceeded the 180 message in 3 seconds",s.TOO_OFTEN);case 30:N--,_e.next=22;break;case 33:i.messageSentTimes.push(A);case 34:_e.t0=n.messageType,_e.next=_e.t0==="TEXT"?37:_e.t0==="RAW"?42:44;break;case 37:if(!f){_e.next=41;break}return C=n.text.split("_"),Y=Ob(C,3),te=Y[1],Xe=Y[2],u.info("[rtm-API] EndCall message send api is called"),_e.abrupt("return",i.sendInvitationMessage({peerId:r,type:"CallCancel",extra:Xe,channelId:te,callId:"0"}));case 41:return _e.abrupt("return",i.sendTextMessage(n.text,r,o,1e4-l));case 42:return n.description===void 0&&(n.description=""),_e.abrupt("return",i.sendRawMessage(n.rawMessage,n.description,r,o,1e4-l));case 44:throw i.emit("messageCount",{messageCategory:h,type:"common",key:"sentcount"}),i.emit("messageCount",{messageCategory:h,type:"common",key:"invalidmessagecount"}),new ka("Invalid message type",ri);case 47:case"end":return _e.stop()}},e)}))).apply(this,arguments)}function oC(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],n=e.replace(/(https?:\/\/)?(www.)?/i,"");return t||(n=n.split(".").slice(e.length-2).join(".")),n.indexOf("/")!==-1?n.split("/")[0]:n}function ub(e){if(typeof e!="string")return"[Sensitive Info]";var t=Math.floor(.7*e.length),n=e.length;return ss(e,t,n,"*".repeat(n-t))}function ts(e,t,n){function r(o){if(e===void 0)return e;if(hr(o))return o;if(Array.isArray(o))return o.map(r);var i={},s=0;for(o=Tj(o);s<o.length;s++){var l=Ob(o[s],2),u=l[0];if(typeof(l=l[1])=="string"&&n.includes(u)){i[u]=typeof l=="string"?ub(l):"[Sensitive Info]";break}t.includes(u)?i[u]="[Hidden Info]":i[u]=l==null?l:n.includes(u)?"[Sensitive Info]":r(l)}return i}return Array.isArray(e)?e.map(r):r(e)}function us(e){return Object.getOwnPropertyNames(e).forEach(function(t){Ka(t=e[t])=="object"&&t!==null&&us(t)}),Object.freeze(e)}function si(e){return new TextDecoder("utf-8").decode(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}function Uj(e){return new TextEncoder().encode(e).length}function vs(){for(var e=0,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(t=0;t<n.length;t++)e+=n[t].length;for(e=new Uint8Array(e),r=t=0;r<n.length;r++){var o=n[r];e.set(o,t),t+=o.length}return e}function Zg(e,t,n){var r=e.match(/([^?#]+)(\?[^#]*)?(#.*)?/);if(e=r==null?void 0:r[1],r=r==null?void 0:r[2]){var o;for(r=r.substr(1).split("&"),o=0;o<r.length;o++)if(r[o].split("=")[0]==t){r[o]=t+"="+encodeURIComponent(n);break}return o==r.length&&r.push(t+"="+encodeURIComponent(n)),e+"?"+r.join("&")}return e+"?"+t+"="+encodeURIComponent(n)}function ss(e,t,n,r){return typeof e!="string"?"[Sensitive Info]":e.substring(0,t)+r+e.substring(n)}function pi(e){return typeof e=="string"&&e.length!==0&&e!=="false"&&e!=="null"&&e!=="undefined"}function pC(e,t){var n="".concat(e,"Uri");if(typeof(n=Pm[n])!="number"||n===0)throw new TypeError("Got Unknown URI Name");return t=new(e=ws[e])(t),t=e.encode(t).finish(),new qC({uri:n,data:t})}function xs(e,t){var n=pi(null);return"".concat(e.split(".").join("-"),".edge.").concat(n?null:t?"sd-rtn.com":"agora.io")}function Vj(e,t){return U.fromValue(e).eq(t)}function Wj(e,t){var n=t===void 0?e.val:t,r=e.isBoolean;t=e.isNumber;var o=e.oneof,i=e.len;if([r,t,o].filter(function(s){return!s}).length!==2)throw new TypeError("invalid field type");if(n!==void 0&&(e=!1,o!==void 0&&(o=Qm(o),rC(o,Vj).length===o.length&&sC(o,function(s){return Vj(n,s)})!==void 0&&(e=!0)),r=r!==void 0&&(n===0||n===1)&&i===1,t=t!==void 0&&n.toString(2).length<=i,!(e||r||t)))throw Error("invalid field value")}function ys(e){return e.reduce(function(t,n){return t.concat(n instanceof Xj.UnsubscriptionError?n.errors:n)},[])}function tC(e,t){do ti==2147483647?ti=0:ti++;while(ah.hasOwnProperty(ti));var n=ti;return ah[n]={callback:e,parameters:Array.prototype.slice.call(arguments,2)},Rm.postMessage({name:"setInterval",fakeId:n,time:t}),n}function hf(e,t){t=E({},Ce.STATE_REVISION,t&&0<=t?t:void 0);for(var n=0;n<e.length;n++){var r=e[n];t[r.getKey()]=r.getValue(),t["".concat(Ce.STATE_REVISION_KEY_PREFIX).concat(r.getKey())]=0<=r.getRevision()?r.getRevision():void 0}return ui.omitBy(t,ui.isUndefined)}function Yj(e){var t=JSON.parse(e);e={majorRevision:t[Ce.STATE_REVISION],items:[]};var n=ui.omit(t,Ce.STATE_REVISION);return t=Object.keys(n).filter(function(r){return r.search("_")===-1}),e.items=t.map(function(r){return new zs({key:r,value:n[r],revision:n["".concat(Ce.STATE_REVISION_KEY_PREFIX).concat(r)],updateTs:n["".concat(Ce.STATE_TIMESTAMP_PREFIX).concat(r)],authorUserId:n["".concat(Ce.STATE_AUTHOR_PREFIX).concat(r)]})}),e}function As(e){return function(){var t=e();if(!t)throw new ja("Client is not logged in. Cannot do the operation");return t}}var pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{},Zj=function(e){return e&&e.Math==Math&&e},oa=Zj(typeof globalThis=="object"&&globalThis)||Zj(typeof window=="object"&&window)||Zj(typeof self=="object"&&self)||Zj(typeof pb=="object"&&pb)||function(){return this}()||Function("return this")(),Ha=function(e){try{return!!e()}catch{return!0}},ab=!Ha(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Bs={}.propertyIsEnumerable,Cs=Object.getOwnPropertyDescriptor,vi=Cs&&!Bs.call({1:2},1)?function(e){return!!(e=Cs(this,e))&&e.enumerable}:Bs,ee=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},uC={}.toString,Kd=function(e){return uC.call(e).slice(8,-1)},vC="".split,wi=Ha(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return Kd(e)=="String"?vC.call(e,""):Object(e)}:Object,Dc=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},Nc=function(e){return wi(Dc(e))},db=function(e){return typeof e=="object"?e!==null:typeof e=="function"},fe=function(e,t){if(!db(e))return e;var n,r;if(t&&typeof(n=e.toString)=="function"&&!db(r=n.call(e))||typeof(n=e.valueOf)=="function"&&!db(r=n.call(e))||!t&&typeof(n=e.toString)=="function"&&!db(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Yb=function(e){return Object(Dc(e))},wC={}.hasOwnProperty,Fa=function(e,t){return wC.call(Yb(e),t)},bh=oa.document,ak=db(bh)&&db(bh.createElement),Ds=!ab&&!Ha(function(){return Object.defineProperty(ak?bh.createElement("div"):{},"a",{get:function(){return 7}}).a!=7}),Es=Object.getOwnPropertyDescriptor,ld={f:ab?Es:function(e,t){if(e=Nc(e),t=fe(t,!0),Ds)try{return Es(e,t)}catch{}if(Fa(e,t))return ee(!vi.call(e,t),e[t])}},sb=function(e){if(!db(e))throw TypeError(String(e)+" is not an object");return e},Fs=Object.defineProperty,Zb={f:ab?Fs:function(e,t,n){if(sb(e),t=fe(t,!0),sb(n),Ds)try{return Fs(e,t,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},$b=ab?function(e,t,n){return Zb.f(e,t,ee(1,n))}:function(e,t,n){return e[t]=n,e},Sm=function(e,t){try{$b(oa,e,t)}catch{oa[e]=t}return t},jf=oa["__core-js_shared__"]||Sm("__core-js_shared__",{}),xC=Function.toString;typeof jf.inspectSource!="function"&&(jf.inspectSource=function(e){return xC.call(e)});var Tm=jf.inspectSource,Gs=oa.WeakMap,yC=typeof Gs=="function"&&/native code/.test(Tm(Gs)),kf=lc(function(e){(e.exports=function(t,n){return jf[t]||(jf[t]=n!==void 0?n:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),zC=0,AC=Math.random(),ch=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++zC+AC).toString(36)},Hs=kf("keys"),bk=function(e){return Hs[e]||(Hs[e]=ch(e))},dh={},BC=oa.WeakMap;if(yC||jf.state)var Xf=jf.state||(jf.state=new BC),CC=Xf.get,Is=Xf.has,DC=Xf.set,Um=function(e,t){if(Is.call(Xf,e))throw new TypeError("Object already initialized");return t.facade=e,DC.call(Xf,e,t),t},ck=function(e){return CC.call(Xf,e)||{}},Vm=function(e){return Is.call(Xf,e)};else{var eh=bk("state");dh[eh]=!0,Um=function(e,t){if(Fa(e,eh))throw new TypeError("Object already initialized");return t.facade=e,$b(e,eh,t),t},ck=function(e){return Fa(e,eh)?e[eh]:{}},Vm=function(e){return Fa(e,eh)}}var Rb={set:Um,get:ck,has:Vm,enforce:function(e){return Vm(e)?ck(e):Um(e,{})},getterFor:function(e){return function(t){var n;if(!db(t)||(n=ck(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Lb=lc(function(e){var t=Rb.get,n=Rb.enforce,r=String(String).split("String");(e.exports=function(o,i,s,l){var u=!!l&&!!l.unsafe,f=!!l&&!!l.enumerable;if(l=!!l&&!!l.noTargetGet,typeof s=="function"){typeof i!="string"||Fa(s,"name")||$b(s,"name",i);var h=n(s);h.source||(h.source=r.join(typeof i=="string"?i:""))}o===oa?f?o[i]=s:Sm(i,s):(u?!l&&o[i]&&(f=!0):delete o[i],f?o[i]=s:$b(o,i,s))})(Function.prototype,"toString",function(){return typeof this=="function"&&t(this).source||Tm(this)})}),Js=function(e){return typeof e=="function"?e:void 0},ge=function(e,t){return 2>arguments.length?Js(oa[e])||Js(oa[e]):oa[e]&&oa[e][t]||oa[e]&&oa[e][t]},EC=Math.ceil,FC=Math.floor,Ld=function(e){return isNaN(e=+e)?0:(0<e?FC:EC)(e)},GC=Math.min,vb=function(e){return 0<e?GC(Ld(e),9007199254740991):0},HC=Math.max,IC=Math.min,Zc=function(e,t){return 0>(e=Ld(e))?HC(e+t,0):IC(e,t)},Ks=function(e){return function(t,n,r){t=Nc(t);var o=vb(t.length);if(r=Zc(r,o),e&&n!=n){for(;o>r;)if((n=t[r++])!=n)return!0}else for(;o>r;r++)if((e||r in t)&&t[r]===n)return e||r||0;return!e&&-1}},Ls=Ks(!0),Wm=Ks(!1),Ms=function(e,t){e=Nc(e);var n,r=0,o=[];for(n in e)!Fa(dh,n)&&Fa(e,n)&&o.push(n);for(;t.length>r;)Fa(e,n=t[r++])&&(~Wm(o,n)||o.push(n));return o},dk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),JC=dk.concat("length","prototype"),Yf={f:Object.getOwnPropertyNames||function(e){return Ms(e,JC)}},xi={f:Object.getOwnPropertySymbols},Ns=ge("Reflect","ownKeys")||function(e){var t=Yf.f(sb(e)),n=xi.f;return n?t.concat(n(e)):t},Os=function(e,t){for(var n=Ns(t),r=Zb.f,o=ld.f,i=0;i<n.length;i++){var s=n[i];Fa(e,s)||r(e,s,o(t,s))}},KC=/#|\.prototype\./,he=function(e,t){return(e=LC[MC(e)])==NC||e!=OC&&(typeof t=="function"?Ha(t):!!t)},MC=he.normalize=function(e){return String(e).replace(KC,".").toLowerCase()},LC=he.data={},OC=he.NATIVE="N",NC=he.POLYFILL="P",PC=ld.f,xa=function(e,t){var n,r,o,i=e.target,s=e.global,l=e.stat;if(r=s?oa:l?oa[i]||Sm(i,{}):(oa[i]||{}).prototype)for(o in t){var u=t[o],f=e.noTargetGet?(n=PC(r,o))&&n.value:r[o];if(!(n=he(s?o:i+(l?".":"#")+o,e.forced))&&f!==void 0){if(typeof u==typeof f)continue;Os(u,f)}(e.sham||f&&f.sham)&&$b(u,"sham",!0);try{Lb(r,o,u,e)}catch{}}},ek=function(){var e=sb(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Md=Ha(function(){var e=/a/y;return e.lastIndex=2,e.exec("abcd")!=null}),QC=Ha(function(){var e=/^r/gy;return e.lastIndex=2,e.exec("str")!=null}),fk=RegExp.prototype.exec,RC=kf("native-string-replace",String.prototype.replace),Ps=fk,Xm=(d=/a/,b=/b*/g,fk.call(d,"a"),fk.call(b,"a"),d.lastIndex!==0||b.lastIndex!==0),Qs=Md||QC,Ym=/()??/.exec("")[1]!==void 0,d,b;(Xm||Ym||Qs)&&(Ps=function(e){var t,n=Qs&&this.sticky,r=ek.call(this),o=this.source,i=0,s=e;if(n){(r=r.replace("y","")).indexOf("g")===-1&&(r+="g"),s=String(e).slice(this.lastIndex),0<this.lastIndex&&(!this.multiline||this.multiline&&e[this.lastIndex-1]!==`
`)&&(o="(?: "+o+")",s=" "+s,i++);var l=new RegExp("^(?:"+o+")",r)}if(Ym&&(l=new RegExp("^"+o+"$(?!\\s)",r)),Xm)var u=this.lastIndex;var f=fk.call(n?l:this,s);return n?f?(f.input=f.input.slice(i),f[0]=f[0].slice(i),f.index=this.lastIndex,this.lastIndex+=f[0].length):this.lastIndex=0:Xm&&f&&(this.lastIndex=this.global?f.index+f[0].length:u),Ym&&f&&1<f.length&&RC.call(f[0],l,function(){for(t=1;t<arguments.length-2;t++)arguments[t]===void 0&&(f[t]=void 0)}),f});var yi=Ps;xa({target:"RegExp",proto:!0,forced:/./.exec!==yi},{exec:yi});var fh=ge("navigator","userAgent")||"",Rs=oa.process,Ss=Rs&&Rs.versions,Ts=Ss&&Ss.v8;if(Ts)var lf=Ts.split("."),Zm=4>lf[0]?1:lf[0]+lf[1];else fh&&(lf=fh.match(/Edge\/(\d+)/),(!lf||74<=lf[1])&&(lf=fh.match(/Chrome\/(\d+)/))&&(Zm=lf[1]));var ie=Zm&&+Zm,je=!!Object.getOwnPropertySymbols&&!Ha(function(){return!String(Symbol())||!Symbol.sham&&ie&&41>ie}),Us=je&&!Symbol.sham&&typeof Symbol.iterator=="symbol",zi=kf("wks"),Ai=oa.Symbol,SC=Us?Ai:Ai&&Ai.withoutSetter||ch,lb=function(e){return Fa(zi,e)&&(je||typeof zi[e]=="string")||(je&&Fa(Ai,e)?zi[e]=Ai[e]:zi[e]=SC("Symbol."+e)),zi[e]},TC=lb("species"),$m=RegExp.prototype,UC=!Ha(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"}),Vs="a".replace(/./,"$0")==="$0",Ws=lb("replace"),Xs=!!/./[Ws]&&/./[Ws]("a","$0")==="",VC=!Ha(function(){var e=/(?:)/,t=e.exec;return e.exec=function(){return t.apply(this,arguments)},(e="ab".split(e)).length!==2||e[0]!=="a"||e[1]!=="b"}),gk=function(e,t,n,r){var o=lb(e),i=!Ha(function(){var f={};return f[o]=function(){return 7},""[e](f)!=7}),s=i&&!Ha(function(){var f=!1,h=/a/;return e==="split"&&((h={constructor:{}}).constructor[TC]=function(){return h},h.flags="",h[o]=/./[o]),h.exec=function(){return f=!0,null},h[o](""),!f});if(!i||!s||e==="replace"&&(!UC||!Vs||Xs)||e==="split"&&!VC){var l=/./[o],u=(n=n(o,""[e],function(f,h,g,y,m){var R=h.exec;return R===yi||R===$m.exec?i&&!m?{done:!0,value:l.call(h,g,y)}:{done:!0,value:f.call(g,h,y)}:{done:!1}},{REPLACE_KEEPS_$0:Vs,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Xs}))[1];Lb(String.prototype,e,n[0]),Lb($m,o,t==2?function(f,h){return u.call(f,this,h)}:function(f){return u.call(f,this)})}r&&$b($m[o],"sham",!0)},WC=lb("match"),an=function(e){var t;return db(e)&&((t=e[WC])!==void 0?!!t:Kd(e)=="RegExp")},Oc=function(e){if(typeof e!="function")throw TypeError(String(e)+" is not a function");return e},XC=lb("species"),Zf=function(e,t){var n;return(e=sb(e).constructor)===void 0||(n=sb(e)[XC])==null?t:Oc(n)},Ys=function(e){return function(t,n){t=String(Dc(t)),n=Ld(n);var r,o=t.length;if(0>n||n>=o)return e?"":void 0;var i=t.charCodeAt(n);return 55296>i||56319<i||n+1===o||56320>(r=t.charCodeAt(n+1))||57343<r?e?t.charAt(n):i:e?t.slice(n,n+2):r-56320+(i-55296<<10)+65536}},YC=Ys(!1),Zs=Ys(!0),bn=function(e,t,n){return t+(n?Zs(e,t).length:1)},gh=function(e,t){var n=e.exec;if(typeof n=="function"){if(typeof(e=n.call(e,t))!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return e}if(Kd(e)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return yi.call(e,t)},ZC=[].push,$C=Math.min;gk("split",2,function(e,t,n){var r="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(o,i){var s=String(Dc(this));if((i=i===void 0?4294967295:i>>>0)===0)return[];if(o===void 0)return[s];if(!an(o))return t.call(s,o,i);var l,u,f,h=[],g=0;for(o=new RegExp(o.source,(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(o.sticky?"y":"")+"g");(l=yi.call(o,s))&&!((u=o.lastIndex)>g&&(h.push(s.slice(g,l.index)),1<l.length&&l.index<s.length&&ZC.apply(h,l.slice(1)),f=l[0].length,g=u,h.length>=i));)o.lastIndex===l.index&&o.lastIndex++;return g===s.length?(f||!o.test(""))&&h.push(""):h.push(s.slice(g)),h.length>i?h.slice(0,i):h}:"0".split(void 0,0).length?function(o,i){return o===void 0&&i===0?[]:t.call(this,o,i)}:t;return[function(o,i){var s=Dc(this),l=o==null?void 0:o[e];return l!==void 0?l.call(o,s,i):r.call(String(s),o,i)},function(o,i){var s=n(r,o,this,i,r!==t);if(s.done)return s.value;var l=sb(o);o=String(this);var u=Zf(l,RegExp);if(s=l.unicode,l=new u(Md?"^(?:"+l.source+")":l,(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(Md?"g":"y")),(i=i===void 0?4294967295:i>>>0)===0)return[];if(o.length===0)return gh(l,o)===null?[o]:[];var f=0,h=0;for(u=[];h<o.length;){l.lastIndex=Md?0:h;var g,y=gh(l,Md?o.slice(h):o);if(y===null||(g=$C(vb(l.lastIndex+(Md?h:0)),o.length))===f)h=bn(o,h,s);else{if(u.push(o.slice(f,h)),u.length===i)return u;for(f=1;f<=y.length-1;f++)if(u.push(y[f]),u.length===i)return u;h=f=g}}return u.push(o.slice(f)),u}]},Md);var aD=/^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*/,bD=/[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$/,cn=function(e){return function(t){return t=String(Dc(t)),1&e&&(t=t.replace(aD,"")),2&e&&(t=t.replace(bD,"")),t}},cD=cn(1),dD=cn(2),hk=cn(3),ik=oa.parseInt,eD=/^[+-]?0[Xx]/,$s=ik(`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF08`)!==8||ik(`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF0x16`)!==22?function(e,t){return e=hk(String(e)),ik(e,t>>>0||(eD.test(e)?16:10))}:ik;xa({global:!0,forced:parseInt!=$s},{parseInt:$s});var mf=function(e,t,n){if(Oc(e),t===void 0)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,o){return e.call(t,r,o)};case 3:return function(r,o,i){return e.call(t,r,o,i)}}return function(){return e.apply(t,arguments)}},nf=Array.isArray||function(e){return Kd(e)=="Array"},fD=lb("species"),Bi=function(e,t){if(nf(e)){var n=e.constructor;typeof n!="function"||n!==Array&&!nf(n.prototype)?db(n)&&(n=n[fD])===null&&(n=void 0):n=void 0}return new(n===void 0?Array:n)(t===0?0:t)},at=[].push,of=function(e){var t=e==1,n=e==2,r=e==3,o=e==4,i=e==6,s=e==7,l=e==5||i;return function(u,f,h,g){var y=Yb(u),m=wi(y);f=mf(f,h,3),h=vb(m.length);var R,A=0;for(g=g||Bi,u=t?g(u,h):n||s?g(u,0):void 0;h>A;A++)if((l||A in m)&&(R=f(g=m[A],A,y),e))if(t)u[A]=R;else if(R)switch(e){case 3:return!0;case 5:return g;case 6:return A;case 2:at.call(u,g)}else switch(e){case 4:return!1;case 7:at.call(u,g)}return i?-1:r||o?o:u}},$f=of(0),bt=of(1),ct=of(2),gD=of(3),hD=of(4),dt=of(5),et=of(6),iD=lb("species"),Ci=function(e){return 51<=ie||!Ha(function(){var t=[];return(t.constructor={})[iD]=function(){return{foo:1}},t[e](Boolean).foo!==1})},jD=Ci("filter");xa({target:"Array",proto:!0,forced:!jD},{filter:function(e){return ct(this,e,1<arguments.length?arguments[1]:void 0)}});var De=Object.keys||function(e){return Ms(e,dk)},kD=Ha(function(){De(1)});xa({target:"Object",stat:!0,forced:kD},{keys:function(e){return De(Yb(e))}});var ag=function(e,t){var n=[][e];return!!n&&Ha(function(){n.call(null,t||function(){throw 1},1)})},lD=[].join,mD=wi!=Object,nD=ag("join",",");xa({target:"Array",proto:!0,forced:mD||!nD},{join:function(e){return lD.call(Nc(this),e===void 0?",":e)}});var oD=Ci("map");xa({target:"Array",proto:!0,forced:!oD},{map:function(e){return bt(this,e,1<arguments.length?arguments[1]:void 0)}});var dn=function(e){var t=e.return;if(t!==void 0)return sb(t.call(e)).value},hh={},pD=lb("iterator"),qD=Array.prototype,en=function(e){return e!==void 0&&(hh.Array===e||qD[pD]===e)},ih=function(e,t,n){(t=fe(t))in e?Zb.f(e,t,ee(0,n)):e[t]=n},rD=lb("toStringTag"),ft={};ft[rD]="z";var fn=String(ft)==="[object z]",sD=lb("toStringTag"),tD=Kd(function(){return arguments}())=="Arguments",jh=fn?Kd:function(e){var t;if(e===void 0)var n="Undefined";else{if(e===null)var r="Null";else{t:{var o=e=Object(e);try{r=o[sD];break t}catch{}r=void 0}r=typeof(n=r)=="string"?n:tD?Kd(e):(t=Kd(e))=="Object"&&typeof e.callee=="function"?"Arguments":t}n=r}return n},uD=lb("iterator"),Di=function(e){if(e!=null)return e[uD]||e["@@iterator"]||hh[jh(e)]},bg=function(e){var t,n=Yb(e),r=typeof this=="function"?this:Array,o=arguments.length,i=1<o?arguments[1]:void 0,s=i!==void 0,l=Di(n),u=0;if(s&&(i=mf(i,2<o?arguments[2]:void 0,2)),l==null||r==Array&&en(l)){var f=vb(n.length);for(r=new r(f);f>u;u++)l=s?i(n[u],u):n[u],ih(r,u,l)}else for(o=(n=l.call(n)).next,r=new r;!(t=o.call(n)).done;u++){if(s){l=n;var h=i;t=[t.value,u];try{f=h(sb(t)[0],t[1])}catch(g){throw dn(l),g}}else f=t.value;ih(r,u,l=f)}return r.length=u,r},gt=lb("iterator"),ht=!1;try{var vD=0,it={next:function(){return{done:!!vD++}},return:function(){ht=!0}};it[gt]=function(){return this},Array.from(it,function(){throw 2})}catch(e){}var jk=function(e,t){if(!t&&!ht)return!1;var n=!1;try{(t={})[gt]=function(){return{next:function(){return{done:n=!0}}}},e(t)}catch{}return n},wD=!jk(function(e){Array.from(e)});xa({target:"Array",stat:!0,forced:wD},{from:bg});var jt=!Ha(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),kt=bk("IE_PROTO"),xD=Object.prototype,Hd=jt?Object.getPrototypeOf:function(e){return e=Yb(e),Fa(e,kt)?e[kt]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?xD:null},gn=lb("iterator"),lt=!1,yD=function(){return this},cg;if([].keys){var mt=[].keys();if("next"in mt){var nt=Hd(Hd(mt));nt!==Object.prototype&&(cg=nt)}else lt=!0}(cg==null||Ha(function(){var e={};return cg[gn].call(e)!==e}))&&(cg={}),Fa(cg,gn)||$b(cg,gn,yD);var kk=cg,lk=lt,ot=ab?Object.defineProperties:function(e,t){sb(e);for(var n,r=De(t),o=r.length,i=0;o>i;)Zb.f(e,n=r[i++],t[n]);return e},hn=ge("document","documentElement"),pt=bk("IE_PROTO"),jn=function(){},kn,mk=function(){try{kn=document.domain&&new ActiveXObject("htmlfile")}catch{}if(kn){var e=kn;e.write("<script><\/script>"),e.close(),e=e.parentWindow.Object}else(e=ak?bh.createElement("iframe"):{}).style.display="none",hn.appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),e=e.F;for(mk=e,e=dk.length;e--;)delete mk.prototype[dk[e]];return mk()};dh[pt]=!0;var rd=Object.create||function(e,t){if(e!==null){jn.prototype=sb(e);var n=new jn;jn.prototype=null,n[pt]=e}else n=mk();return t===void 0?n:ot(n,t)},zD=Zb.f,qt=lb("toStringTag"),Nd=function(e,t,n){e&&!Fa(e=n?e:e.prototype,qt)&&zD(e,qt,{configurable:!0,value:t})},AD=function(){return this},rt=function(e,t,n){return t+=" Iterator",e.prototype=rd(kk,{next:ee(1,n)}),Nd(e,t,!1),hh[t]=AD,e},gc=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={};try{var n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;n.call(t,[]),e=t instanceof Array}catch{}return function(r,o){if(sb(r),!db(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype");return e?n.call(r,o):r.__proto__=o,r}}():void 0),Ei=lb("iterator"),BD=function(){return this},ln=function(e,t,n,r,o,i,s){rt(n,t,r),r=function(A){if(A===o&&y)return y;if(!lk&&A in h)return h[A];switch(A){case"keys":case"values":case"entries":return function(){return new n(this,A)}}return function(){return new n(this)}};var l,u=t+" Iterator",f=!1,h=e.prototype,g=h[Ei]||h["@@iterator"]||o&&h[o],y=!lk&&g||r(o),m=t=="Array"&&h.entries||g;if(m&&(e=Hd(m.call(new e)),kk!==Object.prototype&&e.next&&(Hd(e)!==kk&&(gc?gc(e,kk):typeof e[Ei]!="function"&&$b(e,Ei,BD)),Nd(e,u,!0))),o=="values"&&g&&g.name!=="values"&&(f=!0,y=function(){return g.call(this)}),h[Ei]!==y&&$b(h,Ei,y),hh[t]=y,o){var R={values:r("values"),keys:i?y:r("keys"),entries:r("entries")};if(s)for(l in R)!lk&&!f&&l in h||Lb(h,l,R[l]);else xa({target:t,proto:!0,forced:lk||f},R)}return R},CD=Rb.set,DD=Rb.getterFor("String Iterator");ln(String,"String",function(e){CD(this,{type:"String Iterator",string:String(e),index:0})},function(){var e=DD(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(t=Zs(t,n),e.index+=t.length,{value:t,done:!1})});var mn=lb("unscopables"),nn=Array.prototype;nn[mn]==null&&Zb.f(nn,mn,{configurable:!0,value:rd(null)});var pf=function(e){nn[mn][e]=!0},st=!0;"find"in[]&&Array(1).find(function(){st=!1}),xa({target:"Array",proto:!0,forced:st},{find:function(e){return dt(this,e,1<arguments.length?arguments[1]:void 0)}}),pf("find");var tt=function(e){var t=String(Dc(this)),n="";if(0>(e=Ld(e))||1/0==e)throw RangeError("Wrong number of repetitions");for(;0<e;(e>>>=1)&&(t+=t))1&e&&(n+=t);return n};xa({target:"String",proto:!0},{repeat:tt});var ut=[].indexOf,vt=!!ut&&0>1/[1].indexOf(1,-0),ED=ag("indexOf");xa({target:"Array",proto:!0,forced:vt||!ED},{indexOf:function(e){return vt?ut.apply(this,arguments)||0:Wm(this,e,1<arguments.length?arguments[1]:void 0)}});var CA=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,DA=/CrOS/,EA=/android|ipad|playbook|silk/i;Eg.isMobile=Eg,Eg.default=Eg,xa({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),xa({target:"Number",stat:!0},{isNaN:function(e){return e!=e}}),oa.Number.isNaN;var FD=fn?{}.toString:function(){return"[object "+jh(this)+"]"};fn||Lb(Object.prototype,"toString",FD,{unsafe:!0});var nk=oa.Promise,kh=function(e,t,n){for(var r in t)Lb(e,r,t[r],n);return e},wt=lb("species"),Fi=function(e){e=ge(e);var t=Zb.f;ab&&e&&!e[wt]&&t(e,wt,{configurable:!0,get:function(){return this}})},Od=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Gi=function(e,t){this.stopped=e,this.result=t},ok=function(e,t,n){var r,o=!(!n||!n.AS_ENTRIES),i=!(!n||!n.IS_ITERATOR),s=!(!n||!n.INTERRUPTED),l=mf(t,n&&n.that,1+o+s),u=function(h){return f&&dn(f),new Gi(!0,h)};if(t=function(h){return o?(sb(h),s?l(h[0],h[1],u):l(h[0],h[1])):s?l(h,u):l(h)},i)var f=e;else{if(typeof(i=Di(e))!="function")throw TypeError("Target is not iterable");if(en(i)){for(i=0,n=vb(e.length);n>i;i++)if((r=t(e[i]))&&r instanceof Gi)return r;return new Gi(!1)}f=i.call(e)}for(e=f.next;!(i=e.call(f)).done;){try{r=t(i.value)}catch(h){throw dn(f),h}if(typeof r=="object"&&r&&r instanceof Gi)return r}return new Gi(!1)},xt=/(?:iphone|ipod|ipad).*applewebkit/i.test(fh),ke=Kd(oa.process)=="process",pk=oa.location,on=oa.setImmediate,yt=oa.clearImmediate,GD=oa.process,zt=oa.MessageChannel,pn=oa.Dispatch,qn=0,Hi={},rn=function(e){if(Hi.hasOwnProperty(e)){var t=Hi[e];delete Hi[e],t()}},sn=function(e){return function(){rn(e)}},At=function(e){rn(e.data)},Bt=function(e){oa.postMessage(e+"",pk.protocol+"//"+pk.host)};if(!on||!yt)if(on=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Hi[++qn]=function(){(typeof e=="function"?e:Function(e)).apply(void 0,t)},Ii(qn),qn},yt=function(e){delete Hi[e]},ke)var Ii=function(e){GD.nextTick(sn(e))};else if(pn&&pn.now)Ii=function(e){pn.now(sn(e))};else if(zt&&!xt){var Ct=new zt,Dt=Ct.port2;Ct.port1.onmessage=At,Ii=mf(Dt.postMessage,Dt,1)}else oa.addEventListener&&typeof postMessage=="function"&&!oa.importScripts&&pk&&pk.protocol!=="file:"&&!Ha(Bt)?(Ii=Bt,oa.addEventListener("message",At,!1)):Ii="onreadystatechange"in(ak?bh.createElement("script"):{})?function(e){hn.appendChild(ak?bh.createElement("script"):{}).onreadystatechange=function(){hn.removeChild(this),rn(e)}}:function(e){setTimeout(sn(e),0)};var tn=on,HD=/web0s(?!.*chrome)/i.test(fh),ID=ld.f,Et=oa.MutationObserver||oa.WebKitMutationObserver,Ft=oa.document,Gt=oa.process,qk=oa.Promise,Ht=ID(oa,"queueMicrotask"),It=Ht&&Ht.value,dg,Ji;if(!It){var sk=function(){var e;for(ke&&(e=Gt.domain)&&e.exit();dg;){var t=dg.fn;dg=dg.next;try{t()}catch(n){throw dg?rk():Ji=void 0,n}}Ji=void 0,e&&e.enter()};if(xt||ke||HD||!Et||!Ft)if(qk&&qk.resolve){var un=qk.resolve(void 0);un.constructor=qk;var JD=un.then,rk=function(){JD.call(un,sk)}}else rk=ke?function(){Gt.nextTick(sk)}:function(){tn.call(oa,sk)};else{var Jt=!0,Kt=Ft.createTextNode("");new Et(sk).observe(Kt,{characterData:!0}),rk=function(){Kt.data=Jt=!Jt}}}var Lt=It||function(e){e={fn:e,next:void 0},Ji&&(Ji.next=e),dg||(dg=e,rk()),Ji=e},KD=function(e){var t,n;this.promise=new e(function(r,o){if(t!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");t=r,n=o}),this.resolve=Oc(t),this.reject=Oc(n)},vn={f:function(e){return new KD(e)}},LD=function(e,t){var n=oa.console;n&&n.error&&(arguments.length===1?n.error(e):n.error(e,t))},wn=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},MD=typeof window=="object",ND=lb("species"),Mt=Rb.get,OD=Rb.set,PD=Rb.getterFor("Promise"),eg=nk&&nk.prototype,$c=nk,tk=eg,Nt=oa.TypeError,xn=oa.document,yn=oa.process,lh=vn.f,QD=lh,RD=!!(xn&&xn.createEvent&&oa.dispatchEvent),Ot=typeof PromiseRejectionEvent=="function",Pt=!1,Ki=he("Promise",function(){var e=Tm($c)!==String($c);if(!e&&ie===66)return!0;if(51<=ie&&/native code/.test($c))return!1;var t=new $c(function(r){r(1)}),n=function(r){r(function(){},function(){})};return(t.constructor={})[ND]=n,!(Pt=t.then(function(){})instanceof n)||!e&&MD&&!Ot}),SD=Ki||!jk(function(e){$c.all(e).catch(function(){})}),Qt=function(e){var t;return!(!db(e)||typeof(t=e.then)!="function")&&t},zn=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;Lt(function(){for(var r=e.value,o=e.state==1,i=0;n.length>i;){var s,l=n[i++],u=o?l.ok:l.fail,f=l.resolve,h=l.reject,g=l.domain;try{if(u){if(o||(e.rejection===2&&TD(e),e.rejection=1),u===!0)var y=r;else if(g&&g.enter(),y=u(r),g){g.exit();var m=!0}y===l.promise?h(Nt("Promise-chain cycle")):(s=Qt(y))?s.call(y,f,h):f(y)}else h(r)}catch(R){g&&!m&&g.exit(),h(R)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&UD(e)})}},Rt=function(e,t,n){var r;if(RD){var o=xn.createEvent("Event");o.promise=t,o.reason=n,o.initEvent(e,!1,!0),oa.dispatchEvent(o)}else o={promise:t,reason:n};!Ot&&(r=oa["on"+e])?r(o):e==="unhandledrejection"&&LD("Unhandled promise rejection",n)},UD=function(e){tn.call(oa,function(){var t=e.facade,n=e.value;if(e.rejection!==1&&!e.parent){var r=wn(function(){ke?yn.emit("unhandledRejection",n,t):Rt("unhandledrejection",t,n)});if(e.rejection=ke||e.rejection!==1&&!e.parent?2:1,r.error)throw r.value}})},TD=function(e){tn.call(oa,function(){var t=e.facade;ke?yn.emit("rejectionHandled",t):Rt("rejectionhandled",t,e.value)})},mh=function(e,t,n){return function(r){e(t,r,n)}},nh=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,zn(e,!0))},An=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Nt("Promise can't be resolved itself");var r=Qt(t);r?Lt(function(){var o={done:!1};try{r.call(t,mh(An,o,e),mh(nh,o,e))}catch(i){nh(o,i,e)}}):(e.value=t,e.state=1,zn(e,!1))}catch(o){nh({done:!1},o,e)}}};if(Ki){$c=function(e){Od(this,$c,"Promise"),Oc(e),Bn.call(this);var t=Mt(this);try{e(mh(An,t),mh(nh,t))}catch(n){nh(t,n)}},tk=$c.prototype;var Bn=function(e){OD(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})};Bn.prototype=kh(tk,{then:function(e,t){var n=PD(this),r=lh(Zf(this,$c));return r.ok=typeof e!="function"||e,r.fail=typeof t=="function"&&t,r.domain=ke?yn.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=0&&zn(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}});var VD=function(){var e=new Bn,t=Mt(e);this.promise=e,this.resolve=mh(An,t),this.reject=mh(nh,t)};if(vn.f=lh=function(e){return e===$c||e===WD?new VD(e):QD(e)},typeof nk=="function"&&eg!==Object.prototype){var XD=eg.then;Pt||(Lb(eg,"then",function(e,t){var n=this;return new $c(function(r,o){XD.call(n,r,o)}).then(e,t)},{unsafe:!0}),Lb(eg,"catch",tk.catch,{unsafe:!0}));try{delete eg.constructor}catch{}gc&&gc(eg,tk)}}xa({global:!0,wrap:!0,forced:Ki},{Promise:$c}),Nd($c,"Promise",!1),Fi("Promise");var WD=ge("Promise");xa({target:"Promise",stat:!0,forced:Ki},{reject:function(e){var t=lh(this);return t.reject.call(void 0,e),t.promise}}),xa({target:"Promise",stat:!0,forced:Ki},{resolve:function(e){if(sb(this),!db(e)||e.constructor!==this){var t=vn.f(this);(0,t.resolve)(e),e=t.promise}return e}}),xa({target:"Promise",stat:!0,forced:SD},{all:function(e){var t=this,n=lh(t),r=n.resolve,o=n.reject,i=wn(function(){var s=Oc(t.resolve),l=[],u=0,f=1;ok(e,function(h){var g=u++,y=!1;l.push(void 0),f++,s.call(t,h).then(function(m){y||(y=!0,l[g]=m,--f||r(l))},o)}),--f||r(l)});return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=lh(t),r=n.reject,o=wn(function(){var i=Oc(t.resolve);ok(e,function(s){i.call(t,s).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}});var YD=Math.floor,ZD="".replace,$D=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,aE=/\$([$&'`]|\d{1,2})/g,bE=function(e,t,n,r,o,i){var s=n+e.length,l=r.length,u=aE;return o!==void 0&&(o=Yb(o),u=$D),ZD.call(i,u,function(f,h){switch(h.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(s);case"<":f=o[h.slice(1,-1)];break;default:var g=+h;if(g===0)return f;if(g>l)return(g=YD(g/10))===0?f:g<=l?r[g-1]===void 0?h.charAt(1):r[g-1]+h.charAt(1):f;f=r[g-1]}return f===void 0?"":f})},cE=Math.max,dE=Math.min;gk("replace",2,function(e,t,n,r){var o=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=r.REPLACE_KEEPS_$0,s=o?"$":"$0";return[function(l,u){var f=Dc(this),h=l==null?void 0:l[e];return h!==void 0?h.call(l,f,u):t.call(String(f),l,u)},function(l,u){if(!o&&i||typeof u=="string"&&u.indexOf(s)===-1){var f=n(t,l,this,u);if(f.done)return f.value}var h=sb(l);l=String(this),(f=typeof u=="function")||(u=String(u));var g=h.global;if(g){var y=h.unicode;h.lastIndex=0}for(var m=[];;){var R=gh(h,l);if(R===null||(m.push(R),!g))break;String(R[0])===""&&(h.lastIndex=bn(l,vb(h.lastIndex),y))}for(y="",g=h=0;g<m.length;g++){R=m[g];for(var A=String(R[0]),k=cE(dE(Ld(R.index),l.length),0),I=[],N=1;N<R.length;N++){var C=I,Y=R[N];C.push.call(C,Y===void 0?Y:String(Y))}R=R.groups,f?(I=[A].concat(I,k,l),R!==void 0&&I.push(R),R=String(u.apply(void 0,I))):R=bE(A,l,k,I,R,u),k>=h&&(y+=l.slice(h,k)+R,h=k+A.length)}return y+l.slice(h)}]});var eE=Ci("slice"),fE=lb("species"),gE=[].slice,hE=Math.max;xa({target:"Array",proto:!0,forced:!eE},{slice:function(e,t){var n=Nc(this),r=vb(n.length);if(e=Zc(e,r),t=Zc(t===void 0?r:t,r),nf(n)){var o=n.constructor;if(typeof o!="function"||o!==Array&&!nf(o.prototype)?db(o)&&(o=o[fE])===null&&(o=void 0):o=void 0,o===Array||o===void 0)return gE.call(n,e,t)}for(o=new(o===void 0?Array:o)(hE(t-e,0)),r=0;e<t;e++,r++)e in n&&ih(o,r,n[e]);return o.length=r,o}});var iE=Rb.set,jE=Rb.getterFor("Array Iterator"),qf=ln(Array,"Array",function(e,t){iE(this,{type:"Array Iterator",target:Nc(e),index:0,kind:t})},function(){var e=jE(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:r,done:!1}:n=="values"?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values");hh.Arguments=hh.Array,pf("keys"),pf("values"),pf("entries");var St=typeof ArrayBuffer<"u"&&typeof DataView<"u",oh=function(e){if(e===void 0)return 0;e=Ld(e);var t=vb(e);if(e!==t)throw RangeError("Wrong length or index");return t},kE=Math.abs,Ee=Math.pow,lE=Math.floor,mE=Math.log,nE=Math.LN2,Cn=function(e){var t=Yb(this),n=vb(t.length),r=arguments.length,o=Zc(1<r?arguments[1]:void 0,n);for(n=(r=2<r?arguments[2]:void 0)===void 0?n:Zc(r,n);n>o;)t[o++]=e;return t},oE=Yf.f,pE=Zb.f,ph=Rb.get,Tt=Rb.set,Pd=oa.ArrayBuffer,ad=Pd,Qd=oa.DataView,uk=Qd&&Qd.prototype,Ut=Object.prototype,vk=oa.RangeError,Vt=function(e,t,n){var r,o=Array(n),i=(1<<(n=8*n-t-1))-1,s=i>>1,l=t===23?Ee(2,-24)-Ee(2,-77):0,u=0>e||e===0&&0>1/e?1:0,f=0;if((e=kE(e))!=e||1/0===e){e=e!=e?1:0;var h=i}else h=lE(mE(e)/nE),1>e*(r=Ee(2,-h))&&(h--,r*=2),2<=(e=1<=h+s?e+l/r:e+l*Ee(2,1-s))*r&&(h++,r/=2),h+s>=i?(e=0,h=i):1<=h+s?(e=(e*r-1)*Ee(2,t),h+=s):(e=e*Ee(2,s-1)*Ee(2,t),h=0);for(;8<=t;o[f++]=255&e,e/=256,t-=8);for(h=h<<t|e,n+=t;0<n;o[f++]=255&h,h/=256,n-=8);return o[--f]|=128*u,o},Wt=function(e,t){var n=e.length,r=8*n-t-1,o=(1<<r)-1,i=o>>1;r-=7,--n;var s=e[n--],l=127&s;for(s>>=7;0<r;l=256*l+e[n],n--,r-=8);var u=l&(1<<-r)-1;for(l>>=-r,r+=t;0<r;u=256*u+e[n],n--,r-=8);if(l===0)l=1-i;else{if(l===o)return u?NaN:s?-1/0:1/0;u+=Ee(2,t),l-=i}return(s?-1:1)*u*Ee(2,l-t)},Xt=function(e){return[255&e]},Yt=function(e){return[255&e,e>>8&255]},Zt=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},$t=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},qE=function(e){return Vt(e,23,4)},rE=function(e){return Vt(e,52,8)},wk=function(e,t){pE(e.prototype,t,{get:function(){return ph(this)[t]}})},rf=function(e,t,n,r){n=oh(n);var o=ph(e);if(n+t>o.byteLength)throw vk("Wrong index");return e=ph(o.buffer).bytes,n+=o.byteOffset,t=e.slice(n,n+t),r?t:t.reverse()},sf=function(e,t,n,r,o,i){n=oh(n);var s=ph(e);if(n+t>s.byteLength)throw vk("Wrong index");for(e=ph(s.buffer).bytes,n+=s.byteOffset,r=r(+o),o=0;o<t;o++)e[n+o]=r[i?o:t-o-1]};if(St){if(!Ha(function(){Pd(1)})||!Ha(function(){new Pd(-1)})||Ha(function(){return new Pd,new Pd(1.5),new Pd(NaN),Pd.name!="ArrayBuffer"})){ad=function(e){return Od(this,ad),new Pd(oh(e))};for(var sE=ad.prototype=Pd.prototype,au=oE(Pd),bu=0,Dn;au.length>bu;)(Dn=au[bu++])in ad||$b(ad,Dn,Pd[Dn]);sE.constructor=ad}gc&&Hd(uk)!==Ut&&gc(uk,Ut);var xk=new Qd(new ad(2)),cu=uk.setInt8;xk.setInt8(0,2147483648),xk.setInt8(1,2147483649),!xk.getInt8(0)&&xk.getInt8(1)||kh(uk,{setInt8:function(e,t){cu.call(this,e,t<<24>>24)},setUint8:function(e,t){cu.call(this,e,t<<24>>24)}},{unsafe:!0})}else ad=function(e){Od(this,ad,"ArrayBuffer"),e=oh(e),Tt(this,{bytes:Cn.call(Array(e),0),byteLength:e}),ab||(this.byteLength=e)},Qd=function(e,t,n){Od(this,Qd,"DataView"),Od(e,ad,"DataView");var r=ph(e).byteLength;if(0>(t=Ld(t))||t>r)throw vk("Wrong offset");if(t+(n=n===void 0?r-t:vb(n))>r)throw vk("Wrong length");Tt(this,{buffer:e,byteLength:n,byteOffset:t}),ab||(this.buffer=e,this.byteLength=n,this.byteOffset=t)},ab&&(wk(ad,"byteLength"),wk(Qd,"buffer"),wk(Qd,"byteLength"),wk(Qd,"byteOffset")),kh(Qd.prototype,{getInt8:function(e){return rf(this,1,e)[0]<<24>>24},getUint8:function(e){return rf(this,1,e)[0]},getInt16:function(e){var t=rf(this,2,e,1<arguments.length?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=rf(this,2,e,1<arguments.length?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return $t(rf(this,4,e,1<arguments.length?arguments[1]:void 0))},getUint32:function(e){return $t(rf(this,4,e,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(e){return Wt(rf(this,4,e,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(e){return Wt(rf(this,8,e,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(e,t){sf(this,1,e,Xt,t)},setUint8:function(e,t){sf(this,1,e,Xt,t)},setInt16:function(e,t){sf(this,2,e,Yt,t,2<arguments.length?arguments[2]:void 0)},setUint16:function(e,t){sf(this,2,e,Yt,t,2<arguments.length?arguments[2]:void 0)},setInt32:function(e,t){sf(this,4,e,Zt,t,2<arguments.length?arguments[2]:void 0)},setUint32:function(e,t){sf(this,4,e,Zt,t,2<arguments.length?arguments[2]:void 0)},setFloat32:function(e,t){sf(this,4,e,qE,t,2<arguments.length?arguments[2]:void 0)},setFloat64:function(e,t){sf(this,8,e,rE,t,2<arguments.length?arguments[2]:void 0)}});Nd(ad,"ArrayBuffer"),Nd(Qd,"DataView");var Li={ArrayBuffer:ad,DataView:Qd},En=Li.ArrayBuffer,du=Li.DataView,eu=En.prototype.slice,tE=Ha(function(){return!new En(2).slice(1,void 0).byteLength});xa({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:tE},{slice:function(e,t){if(eu!==void 0&&t===void 0)return eu.call(sb(this),e);var n=sb(this).byteLength;e=Zc(e,n),t=Zc(t===void 0?n:t,n),n=new(Zf(this,En))(vb(t-e));for(var r=new du(this),o=new du(n),i=0;e<t;)o.setUint8(i++,r.getUint8(e++));return n}});var uE=Zb.f,yk=oa.Int8Array,Fn=yk&&yk.prototype,fu=oa.Uint8ClampedArray,gu=fu&&fu.prototype,le=yk&&Hd(yk),Rd=Fn&&Hd(Fn),hu=Object.prototype,iu=hu.isPrototypeOf,ju=lb("toStringTag"),Gn=ch("TYPED_ARRAY_TAG"),Fe=St&&!!gc&&jh(oa.opera)!=="Opera",ku=!1,bd,me={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},vE={BigInt64Array:8,BigUint64Array:8},zk=function(e){return!!db(e)&&(e=jh(e),Fa(me,e)||Fa(vE,e))};for(bd in me)oa[bd]||(Fe=!1);if((!Fe||typeof le!="function"||le===Function.prototype)&&(le=function(){throw TypeError("Incorrect invocation")},Fe))for(bd in me)oa[bd]&&gc(oa[bd],le);if((!Fe||!Rd||Rd===hu)&&(Rd=le.prototype,Fe))for(bd in me)oa[bd]&&gc(oa[bd].prototype,Rd);if(Fe&&Hd(gu)!==Rd&&gc(gu,Rd),ab&&!Fa(Rd,ju))for(bd in ku=!0,uE(Rd,ju,{get:function(){return db(this)?this[Gn]:void 0}}),me)oa[bd]&&$b(oa[bd],Gn,bd);var Mi=Fe,lu=ku&&Gn,Fb=function(e){if(zk(e))return e;throw TypeError("Target is not a typed array")},qh=function(e){if(gc){if(iu.call(le,e))return e}else for(var t in me)if(Fa(me,bd)){var n=oa[t];if(n&&(e===n||iu.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},Ab=function(e,t,n){if(ab){if(n)for(var r in me){var o=oa[r];if(o&&Fa(o.prototype,e))try{delete o.prototype[e]}catch{}}Rd[e]&&!n||Lb(Rd,e,n?t:Fe&&Fn[e]||t)}},mu=function(e,t,n){var r,o;if(ab){if(gc){if(n){for(r in me)if((o=oa[r])&&Fa(o,e))try{delete o[e]}catch{}}if(le[e]&&!n)return;try{return Lb(le,e,n?t:Fe&&le[e]||t)}catch{}}for(r in me)!(o=oa[r])||o[e]&&!n||Lb(o,e,t)}},nu=le,Ni=Rd,wE=oa.ArrayBuffer,fg=oa.Int8Array,Hn=!Mi||!Ha(function(){fg(1)})||!Ha(function(){new fg(-1)})||!jk(function(e){new fg,new fg(null),new fg(1.5),new fg(e)},!0)||Ha(function(){return new fg(new wE(2),1,void 0).length!==1}),Ak=function(e,t){if(0>(e=Ld(e)))throw RangeError("The argument can't be less than 0");if(e%t)throw RangeError("Wrong offset");return e},In=function(e){var t=Yb(e),n=arguments.length,r=1<n?arguments[1]:void 0,o=r!==void 0,i=Di(t);if(i!=null&&!en(i)){var s=i.call(t),l=s.next;for(t=[];!(i=l.call(s)).done;)t.push(i.value)}for(o&&2<n&&(r=mf(r,arguments[2],2)),i=vb(t.length),s=new(qh(this))(i),n=0;i>n;n++)s[n]=o?r(t[n],n):t[n];return s},Bk=function(e,t,n){var r,o;return gc&&typeof(r=t.constructor)=="function"&&r!==n&&db(o=r.prototype)&&o!==n.prototype&&gc(e,o),e},Oi=lc(function(e){var t=Yf.f,n=Rb.get,r=Rb.set,o=Zb.f,i=ld.f,s=Math.round,l=oa.RangeError,u=Li.ArrayBuffer,f=Li.DataView,h=function(k,I){var N=0,C=I.length;for(k=new(qh(k))(C);C>N;)k[N]=I[N++];return k},g=function(k,I){o(k,I,{get:function(){return n(this)[I]}})},y=function(k){var I;return k instanceof u||(I=jh(k))=="ArrayBuffer"||I=="SharedArrayBuffer"},m=function(k,I){return zk(k)&&typeof I!="symbol"&&I in k&&String(+I)==String(I)},R=function(k,I){return m(k,I=fe(I,!0))?ee(2,k[I]):i(k,I)},A=function(k,I,N){return!(m(k,I=fe(I,!0))&&db(N)&&Fa(N,"value"))||Fa(N,"get")||Fa(N,"set")||N.configurable||Fa(N,"writable")&&!N.writable||Fa(N,"enumerable")&&!N.enumerable?o(k,I,N):(k[I]=N.value,k)};ab?(Mi||(ld.f=R,Zb.f=A,g(Ni,"buffer"),g(Ni,"byteOffset"),g(Ni,"byteLength"),g(Ni,"length")),xa({target:"Object",stat:!0,forced:!Mi},{getOwnPropertyDescriptor:R,defineProperty:A}),e.exports=function(k,I,N){var C=k.match(/\d+$/)[0]/8,Y=k+(N?"Clamped":"")+"Array",te="get"+k,Xe="set"+k,_e=oa[Y],$e=_e;k=$e&&$e.prototype;var _a={},q=function(V,z){o(V,z,{get:function(){var _t=n(this);return _t.view[te](z*C+_t.byteOffset,!0)},set:function(_t){var L=n(this);N&&(_t=0>(_t=s(_t))?0:255<_t?255:255&_t),L.view[Xe](z*C+L.byteOffset,_t,!0)},enumerable:!0})};Mi?Hn&&($e=I(function(V,z,_t,L){return Od(V,$e,Y),Bk(db(z)?y(z)?L!==void 0?new _e(z,Ak(_t,C),L):_t!==void 0?new _e(z,Ak(_t,C)):new _e(z):zk(z)?h($e,z):In.call($e,z):new _e(oh(z)),V,$e)}),gc&&gc($e,nu),$f(t(_e),function(V){V in $e||$b($e,V,_e[V])}),$e.prototype=k):($e=I(function(V,z,_t,L){Od(V,$e,Y);var D=0,J=0;if(db(z)){if(!y(z))return zk(z)?h($e,z):In.call($e,z);var Q=z;if(J=Ak(_t,C),z=z.byteLength,L===void 0){if(z%C||0>(L=z-J))throw l("Wrong length")}else if((L=vb(L)*C)+J>z)throw l("Wrong length");z=L/C}else z=oh(z),Q=new u(L=z*C);for(r(V,{buffer:Q,byteOffset:J,byteLength:L,length:z,view:new f(Q)});D<z;)q(V,D++)}),gc&&gc($e,nu),k=$e.prototype=rd(Ni)),k.constructor!==$e&&$b(k,"constructor",$e),lu&&$b(k,lu,Y),_a[Y]=$e,xa({global:!0,forced:$e!=_e,sham:!Mi},_a),"BYTES_PER_ELEMENT"in $e||$b($e,"BYTES_PER_ELEMENT",C),"BYTES_PER_ELEMENT"in k||$b(k,"BYTES_PER_ELEMENT",C),Fi(Y)}):e.exports=function(){}});Oi("Uint8",function(e){return function(t,n,r){return e(this,t,n,r)}});var xE=Math.min,yE=[].copyWithin||function(e,t){var n=Yb(this),r=vb(n.length),o=Zc(e,r),i=Zc(t,r),s=2<arguments.length?arguments[2]:void 0;for(r=xE((s===void 0?r:Zc(s,r))-i,r-o),s=1,i<o&&o<i+r&&(s=-1,i+=r-1,o+=r-1);0<r--;)i in n?n[o]=n[i]:delete n[o],o+=s,i+=s;return n};Ab("copyWithin",function(e,t){return yE.call(Fb(this),e,t,2<arguments.length?arguments[2]:void 0)}),Ab("every",function(e){return hD(Fb(this),e,1<arguments.length?arguments[1]:void 0)}),Ab("fill",function(e){return Cn.apply(Fb(this),arguments)}),Ab("filter",function(e){var t=ct(Fb(this),e,1<arguments.length?arguments[1]:void 0),n=Zf(this,this.constructor),r=0,o=t.length;for(n=new(qh(n))(o);o>r;)n[r]=t[r++];return n}),Ab("find",function(e){return dt(Fb(this),e,1<arguments.length?arguments[1]:void 0)}),Ab("findIndex",function(e){return et(Fb(this),e,1<arguments.length?arguments[1]:void 0)}),Ab("forEach",function(e){$f(Fb(this),e,1<arguments.length?arguments[1]:void 0)}),Ab("includes",function(e){return Ls(Fb(this),e,1<arguments.length?arguments[1]:void 0)}),Ab("indexOf",function(e){return Wm(Fb(this),e,1<arguments.length?arguments[1]:void 0)});var ou=lb("iterator"),pu=oa.Uint8Array,zE=qf.values,AE=qf.keys,BE=qf.entries,Jn=pu&&pu.prototype[ou],qu=!!Jn&&(Jn.name=="values"||Jn.name==null),ru=function(){return zE.call(Fb(this))};Ab("entries",function(){return BE.call(Fb(this))}),Ab("keys",function(){return AE.call(Fb(this))}),Ab("values",ru,!qu),Ab(ou,ru,!qu);var CE=[].join;Ab("join",function(e){return CE.apply(Fb(this),arguments)});var DE=Math.min,Kn=[].lastIndexOf,su=!!Kn&&0>1/[1].lastIndexOf(1,-0),EE=ag("lastIndexOf"),Ln=su||!EE?function(e){if(su)return Kn.apply(this,arguments)||0;var t=Nc(this),n=vb(t.length),r=n-1;for(1<arguments.length&&(r=DE(r,Ld(arguments[1]))),0>r&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}:Kn;Ab("lastIndexOf",function(e){return Ln.apply(Fb(this),arguments)}),Ab("map",function(e){return bt(Fb(this),e,1<arguments.length?arguments[1]:void 0,function(t,n){return new(qh(Zf(t,t.constructor)))(n)})});var tu=function(e){return function(t,n,r,o){Oc(n),t=Yb(t);var i=wi(t),s=vb(t.length),l=e?s-1:0,u=e?-1:1;if(2>r)for(;;){if(l in i){o=i[l],l+=u;break}if(l+=u,e?0>l:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=l:s>l;l+=u)l in i&&(o=n(o,i[l],l,t));return o}},uu=tu(!1),vu=tu(!0);Ab("reduce",function(e){return uu(Fb(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}),Ab("reduceRight",function(e){return vu(Fb(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)});var FE=Math.floor;Ab("reverse",function(){for(var e,t=Fb(this).length,n=FE(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this});var GE=Ha(function(){new Int8Array(1).set({})});Ab("set",function(e){Fb(this);var t=Ak(1<arguments.length?arguments[1]:void 0,1),n=this.length,r=Yb(e),o=vb(r.length),i=0;if(o+t>n)throw RangeError("Wrong length");for(;i<o;)this[t+i]=r[i++]},GE);var HE=[].slice,IE=Ha(function(){new Int8Array(1).slice()});Ab("slice",function(e,t){e=HE.call(Fb(this),e,t);var n=Zf(this,this.constructor);t=0;var r=e.length;for(n=new(qh(n))(r);r>t;)n[t]=e[t++];return n},IE),Ab("some",function(e){return gD(Fb(this),e,1<arguments.length?arguments[1]:void 0)});var JE=[].sort;Ab("sort",function(e){return JE.call(Fb(this),e)}),Ab("subarray",function(e,t){var n=Fb(this),r=n.length;return e=Zc(e,r),new(Zf(n,n.constructor))(n.buffer,n.byteOffset+e*n.BYTES_PER_ELEMENT,vb((t===void 0?r:Zc(t,r))-e))});var Ck=oa.Int8Array,wu=[].toLocaleString,KE=[].slice,LE=!!Ck&&Ha(function(){wu.call(new Ck(1))}),ME=Ha(function(){return[1,2].toLocaleString()!=new Ck([1,2]).toLocaleString()})||!Ha(function(){Ck.prototype.toLocaleString.call([1,2])});Ab("toLocaleString",function(){return wu.apply(LE?KE.call(Fb(this)):Fb(this),arguments)},ME);var xu=oa.Uint8Array,NE=xu&&xu.prototype||{},Dk=[].toString,OE=[].join;Ha(function(){Dk.call({})})&&(Dk=function(){return OE.call(this)}),Ab("toString",Dk,NE.toString!=Dk);var yu=Li.ArrayBuffer;xa({global:!0,forced:oa.ArrayBuffer!==yu},{ArrayBuffer:yu}),Fi("ArrayBuffer");var PE=Zb.f,Mn=Function.prototype,QE=Mn.toString,RE=/^\s*function ([^ (]*)/;!ab||"name"in Mn||PE(Mn,"name",{configurable:!0,get:function(){try{return QE.call(this).match(RE)[1]}catch{return""}}});var zu=RegExp.prototype,Au=zu.toString,SE=Ha(function(){return Au.call({source:"a",flags:"b"})!="/a/b"}),TE=Au.name!="toString";(SE||TE)&&Lb(RegExp.prototype,"toString",function(){var e=sb(this),t=String(e.source),n=e.flags;return"/"+t+"/"+(e=String(n===void 0&&e instanceof RegExp&&!("flags"in zu)?ek.call(e):n))},{unsafe:!0});var UE=Ci("splice"),VE=Math.max,WE=Math.min;xa({target:"Array",proto:!0,forced:!UE},{splice:function(e,t){var n,r,o=Yb(this),i=vb(o.length),s=Zc(e,i),l=arguments.length;if(l===0?l=n=0:l===1?(l=0,n=i-s):(l-=2,n=WE(VE(Ld(t),0),i-s)),9007199254740991<i+l-n)throw TypeError("Maximum allowed length exceeded");var u=Bi(o,n);for(r=0;r<n;r++){var f=s+r;f in o&&ih(u,r,o[f])}if(u.length=n,l<n){for(r=s;r<i-n;r++){var h=r+l;(f=r+n)in o?o[h]=o[f]:delete o[h]}for(r=i;r>i-n+l;r--)delete o[r-1]}else if(l>n)for(r=i-n;r>s;r--)h=r+l-1,(f=r+n-1)in o?o[h]=o[f]:delete o[h];for(r=0;r<l;r++)o[r+s]=arguments[r+2];return o.length=i-n+l,u}});var Nn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},On=lb("iterator"),Bu=lb("toStringTag"),Pn=qf.values,Ek;for(Ek in Nn){var Cu=oa[Ek],Ge=Cu&&Cu.prototype;if(Ge){if(Ge[On]!==Pn)try{$b(Ge,On,Pn)}catch{Ge[On]=Pn}if(Ge[Bu]||$b(Ge,Bu,Ek),Nn[Ek]){for(var rh in qf)if(Ge[rh]!==qf[rh])try{$b(Ge,rh,qf[rh])}catch{Ge[rh]=qf[rh]}}}}var Du=Object.is||function(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t};gk("search",1,function(e,t,n){return[function(r){var o=Dc(this),i=r==null?void 0:r[e];return i!==void 0?i.call(r,o):new RegExp(r)[e](String(o))},function(r){var o=n(t,r,this);if(o.done)return o.value;r=sb(r);var i=String(this);return o=r.lastIndex,Du(o,0)||(r.lastIndex=0),i=gh(r,i),Du(r.lastIndex,o)||(r.lastIndex=o),i===null?-1:i.index}]}),lc(function(e){(function(t,n){e.exports?e.exports=n(t):n(t)})(typeof self<"u"?self:pb,function(t){function n(q){return btoa(q).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function r(q){return q=(q+="===").slice(0,-q.length%4),atob(q.replace(/-/g,"+").replace(/_/g,"/"))}function o(q){for(var V=new Uint8Array(q.length),z=0;z<q.length;z++)V[z]=q.charCodeAt(z);return V}function i(q){return q instanceof ArrayBuffer&&(q=new Uint8Array(q)),String.fromCharCode.apply(String,q)}function s(q){var V={name:(q.name||q||"").toUpperCase().replace("V","v")};switch(V.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":q.length&&(V.length=q.length);break;case"HMAC":q.hash&&(V.hash=s(q.hash)),q.length&&(V.length=q.length);break;case"RSAES-PKCS1-v1_5":q.publicExponent&&(V.publicExponent=new Uint8Array(q.publicExponent)),q.modulusLength&&(V.modulusLength=q.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":q.hash&&(V.hash=s(q.hash)),q.publicExponent&&(V.publicExponent=new Uint8Array(q.publicExponent)),q.modulusLength&&(V.modulusLength=q.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return V}function l(q){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[q.name][(q.hash||{}).name||q.length||""]}function u(q){(q instanceof ArrayBuffer||q instanceof Uint8Array)&&(q=JSON.parse(decodeURIComponent(escape(i(q)))));var V={kty:q.kty,alg:q.alg,ext:q.ext||q.extractable};switch(V.kty){case"oct":V.k=q.k;case"RSA":"n e d p q dp dq qi oth".split(" ").forEach(function(z){z in q&&(V[z]=q[z])});break;default:throw new TypeError("Unsupported key type")}return V}function f(q){return q=u(q),te&&(q.extractable=q.ext,delete q.ext),o(unescape(encodeURIComponent(JSON.stringify(q)))).buffer}function h(q){var V=g(q),z=!1;switch(2<V.length&&(z=!0,V.shift()),q={ext:!0},V[0][0]){case"1.2.840.113549.1.1.1":var _t="n e d p q dp dq qi".split(" ");for(V=g(V[1]),z&&V.shift(),z=0;z<V.length;z++)V[z][0]||(V[z]=V[z].subarray(1)),q[_t[z]]=n(i(V[z]));q.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return q}function g(q,V){if(q instanceof ArrayBuffer&&(q=new Uint8Array(q)),V||(V={pos:0,end:q.length}),2>V.end-V.pos||V.end>q.length)throw new RangeError("Malformed DER");var z=q[V.pos++],_t=q[V.pos++];if(128<=_t){if(_t&=127,V.end-V.pos<_t)throw new RangeError("Malformed DER");for(var L=0;_t--;)L<<=8,L|=q[V.pos++];_t=L}if(V.end-V.pos<_t)throw new RangeError("Malformed DER");switch(z){case 2:z=q.subarray(V.pos,V.pos+=_t);break;case 3:if(q[V.pos++])throw Error("Unsupported bit string");_t--;case 4:z=new Uint8Array(q.subarray(V.pos,V.pos+=_t)).buffer;break;case 5:z=null;break;case 6:if(!((q=btoa(i(q.subarray(V.pos,V.pos+=_t))))in _e))throw Error("Unsupported OBJECT ID "+q);z=_e[q];break;case 48:for(z=[],_t=V.pos+_t;V.pos<_t;)z.push(g(q,V));break;default:throw Error("Unsupported DER tag 0x"+z.toString(16))}return z}function y(q,V){V||(V=[]);var z=V.length+2;if(V.push(0,0),q instanceof Uint8Array)for(var _t=2,L=q.length,D=0;D<L;D++)V.push(q[D]);else if(q instanceof ArrayBuffer)for(_t=4,L=q.byteLength,q=new Uint8Array(q),D=0;D<L;D++)V.push(q[D]);else if(q===null)_t=5,L=0;else if(typeof q=="string"&&q in $e)for(_t=6,L=(q=o(atob($e[q]))).length,D=0;D<L;D++)V.push(q[D]);else if(q instanceof Array){for(D=0;D<q.length;D++)y(q[D],V);_t=48,L=V.length-z}else{if(!(Ka(q)==="object"&&q.tag===3&&q.value instanceof ArrayBuffer))throw Error("Unsupported DER value "+q);for(_t=3,L=(q=new Uint8Array(q.value)).byteLength,V.push(0),D=0;D<L;D++)V.push(q[D]);L++}if(128<=L){for(D=L,L=4,V.splice(z,0,D>>24&255,D>>16&255,D>>8&255,255&D);1<L&&!(D>>24);)D<<=8,L--;4>L&&V.splice(z,4-L),L|=128}return V.splice(z-2,2,_t,L),V}function m(q,V,z,_t){Object.defineProperties(this,{_key:{value:q},type:{value:q.type,enumerable:!0},extractable:{value:z===void 0?q.extractable:z,enumerable:!0},algorithm:{value:V===void 0?q.algorithm:V,enumerable:!0},usages:{value:_t===void 0?q.usages:_t,enumerable:!0}})}function R(q){return q==="verify"||q==="encrypt"||q==="wrapKey"}function A(q){return q==="sign"||q==="decrypt"||q==="unwrapKey"}if(typeof Promise!="function")throw"Promise support required";var k=t.crypto||t.msCrypto;if(k){var I=k.subtle||k.webkitSubtle;if(I){var N=t.Crypto||k.constructor||Object,C=t.SubtleCrypto||I.constructor||Object;t.CryptoKey||t.Key;var Y=-1<t.navigator.userAgent.indexOf("Edge/"),te=!!t.msCrypto&&!Y,Xe=!k.subtle&&!!k.webkitSubtle;if(te||Xe){var _e={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},$e={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach(function(q){var V=I[q];I[q]=function(z,_t,L){var D=[].slice.call(arguments);switch(q){case"generateKey":var J=s(z),Q=_t,ue=L;break;case"importKey":J=s(L),Q=D[3],ue=D[4],z==="jwk"&&((_t=u(_t)).alg||(_t.alg=l(J)),_t.key_ops||(_t.key_ops=_t.kty!=="oct"?"d"in _t?ue.filter(A):ue.filter(R):ue.slice()),D[1]=f(_t));break;case"unwrapKey":J=D[4],Q=D[5],ue=D[6],D[2]=L._key}if(q==="generateKey"&&J.name==="HMAC"&&J.hash)return J.length=J.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[J.hash.name],I.importKey("raw",k.getRandomValues(new Uint8Array(J.length+7>>3)),J,Q,ue);if(Xe&&q==="generateKey"&&J.name==="RSASSA-PKCS1-v1_5"&&(!J.modulusLength||2048<=J.modulusLength))return(z=s(z)).name="RSAES-PKCS1-v1_5",delete z.hash,I.generateKey(z,!0,["encrypt","decrypt"]).then(function(Ve){return Promise.all([I.exportKey("jwk",Ve.publicKey),I.exportKey("jwk",Ve.privateKey)])}).then(function(Ve){return Ve[0].alg=Ve[1].alg=l(J),Ve[0].key_ops=ue.filter(R),Ve[1].key_ops=ue.filter(A),Promise.all([I.importKey("jwk",Ve[0],J,!0,Ve[0].key_ops),I.importKey("jwk",Ve[1],J,Q,Ve[1].key_ops)])}).then(function(Ve){return{publicKey:Ve[0],privateKey:Ve[1]}});if((Xe||te&&(J.hash||{}).name==="SHA-1")&&q==="importKey"&&z==="jwk"&&J.name==="HMAC"&&_t.kty==="oct")return I.importKey("raw",o(r(_t.k)),L,D[3],D[4]);if(Xe&&q==="importKey"&&(z==="spki"||z==="pkcs8"))return I.importKey("jwk",h(_t),L,D[3],D[4]);if(te&&q==="unwrapKey")return I.decrypt(D[3],L,_t).then(function(Ve){return I.importKey(z,Ve,D[4],D[5],D[6])});try{var aa=V.apply(I,D)}catch(Ve){return Promise.reject(Ve)}return te&&(aa=new Promise(function(Ve,da){aa.onabort=aa.onerror=function(Ze){da(Ze)},aa.oncomplete=function(Ze){Ve(Ze.target.result)}})),aa=aa.then(function(Ve){return J.name!=="HMAC"||J.length||(J.length=8*Ve.algorithm.length),J.name.search("RSA")==0&&(J.modulusLength||(J.modulusLength=(Ve.publicKey||Ve).algorithm.modulusLength),J.publicExponent||(J.publicExponent=(Ve.publicKey||Ve).algorithm.publicExponent)),Ve.publicKey&&Ve.privateKey?{publicKey:new m(Ve.publicKey,J,Q,ue.filter(R)),privateKey:new m(Ve.privateKey,J,Q,ue.filter(A))}:new m(Ve,J,Q,ue)})}}),["exportKey","wrapKey"].forEach(function(q){var V=I[q];I[q]=function(z,_t,L){var D=[].slice.call(arguments);switch(q){case"exportKey":D[1]=_t._key;break;case"wrapKey":D[1]=_t._key,D[2]=L._key}if((Xe||te&&(_t.algorithm.hash||{}).name==="SHA-1")&&q==="exportKey"&&z==="jwk"&&_t.algorithm.name==="HMAC"&&(D[0]="raw"),!Xe||q!=="exportKey"||z!=="spki"&&z!=="pkcs8"||(D[0]="jwk"),te&&q==="wrapKey")return I.exportKey(z,_t).then(function(Q){return z==="jwk"&&(Q=o(unescape(encodeURIComponent(JSON.stringify(u(Q)))))),I.encrypt(D[3],L,Q)});try{var J=V.apply(I,D)}catch(Q){return Promise.reject(Q)}return te&&(J=new Promise(function(Q,ue){J.onabort=J.onerror=function(aa){ue(aa)},J.oncomplete=function(aa){Q(aa.target.result)}})),q==="exportKey"&&z==="jwk"&&(J=J.then(function(Q){return(Xe||te&&(_t.algorithm.hash||{}).name==="SHA-1")&&_t.algorithm.name==="HMAC"?{kty:"oct",alg:l(_t.algorithm),key_ops:_t.usages.slice(),ext:!0,k:n(i(Q))}:((Q=u(Q)).alg||(Q.alg=l(_t.algorithm)),Q.key_ops||(Q.key_ops=_t.type==="public"?_t.usages.filter(R):_t.type==="private"?_t.usages.filter(A):_t.usages.slice()),Q)})),!Xe||q!=="exportKey"||z!=="spki"&&z!=="pkcs8"||(J=J.then(function(Q){var ue=[["",null]],aa=!1;switch((Q=u(Q)).kty){case"RSA":for(var Ve="n e d p q dp dq qi".split(" "),da=[],Ze=0;Ze<Ve.length&&Ve[Ze]in Q;Ze++){var Sa=da[Ze]=o(r(Q[Ve[Ze]]));128&Sa[0]&&(da[Ze]=new Uint8Array(Sa.length+1),da[Ze].set(Sa,1))}2<da.length&&(aa=!0,da.unshift(new Uint8Array([0]))),ue[0][0]="1.2.840.113549.1.1.1";break;default:throw new TypeError("Unsupported key type")}return ue.push(new Uint8Array(y(da)).buffer),aa?ue.unshift(new Uint8Array([0])):ue[1]={tag:3,value:ue[1]},new Uint8Array(y(ue)).buffer})),J}}),["encrypt","decrypt","sign","verify"].forEach(function(q){var V=I[q];I[q]=function(z,_t,L,D){if(te&&(!L.byteLength||D&&!D.byteLength))throw Error("Empty input is not allowed");var J=[].slice.call(arguments),Q=s(z);if(!te||q!=="sign"&&q!=="verify"||z!=="RSASSA-PKCS1-v1_5"&&z!=="HMAC"||(J[0]={name:z}),te&&_t.algorithm.hash&&(J[0].hash=J[0].hash||_t.algorithm.hash),te&&q==="decrypt"&&Q.name==="AES-GCM"){var ue=z.tagLength>>3;J[2]=(L.buffer||L).slice(0,L.byteLength-ue),z.tag=(L.buffer||L).slice(L.byteLength-ue)}te&&Q.name==="AES-GCM"&&J[0].tagLength===void 0&&(J[0].tagLength=128),J[1]=_t._key;try{var aa=V.apply(I,J)}catch(Ve){return Promise.reject(Ve)}return te&&(aa=new Promise(function(Ve,da){aa.onabort=aa.onerror=function(Ze){da(Ze)},aa.oncomplete=function(Ze){if(Ze=Ze.target.result,q==="encrypt"&&Ze instanceof AesGcmEncryptResult){var Sa=Ze.ciphertext,T=Ze.tag;(Ze=new Uint8Array(Sa.byteLength+T.byteLength)).set(new Uint8Array(Sa),0),Ze.set(new Uint8Array(T),Sa.byteLength),Ze=Ze.buffer}Ve(Ze)}})),aa}}),te){var _a=I.digest;I.digest=function(q,V){if(!V.byteLength)throw Error("Empty input is not allowed");try{var z=_a.call(I,q,V)}catch(_t){return Promise.reject(_t)}return z=new Promise(function(_t,L){z.onabort=z.onerror=function(D){L(D)},z.oncomplete=function(D){_t(D.target.result)}})},t.crypto=Object.create(k,{getRandomValues:{value:function(q){return k.getRandomValues(q)}},subtle:{value:I}}),t.CryptoKey=m}Xe&&(k.subtle=I,t.Crypto=N,t.SubtleCrypto=C,t.CryptoKey=m)}}}})}),function(e){e.console||(e.console={}),e=e.console;for(var t,n=function(){},r=["memory"],o="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");t=r.pop();)e[t]||(e[t]={});for(;t=o.pop();)e[t]||(e[t]=n)}(typeof window>"u"?pb:window),xa({target:"Object",stat:!0},{setPrototypeOf:gc});var XE=Ha(function(){Hd(1)});xa({target:"Object",stat:!0,forced:XE,sham:!jt},{getPrototypeOf:function(e){return Hd(Yb(e))}});var Eu=[].slice,Qn={},YE=Function.bind||function(e){var t=Oc(this),n=Eu.call(arguments,1),r=function(){var o=n.concat(Eu.call(arguments));if(this instanceof r){var i=o.length;if(!(i in Qn)){for(var s=[],l=0;l<i;l++)s[l]="a["+l+"]";Qn[i]=Function("C,a","return new C("+s.join(",")+")")}o=Qn[i](t,o)}else o=t.apply(e,o);return o};return db(t.prototype)&&(r.prototype=t.prototype),r},Rn=ge("Reflect","construct"),Fu=Ha(function(){function e(){}return!(Rn(function(){},[],e)instanceof e)}),Gu=!Ha(function(){Rn(function(){})}),Hu=Fu||Gu;xa({target:"Reflect",stat:!0,forced:Hu,sham:Hu},{construct:function(e,t){Oc(e),sb(t);var n=3>arguments.length?e:Oc(arguments[2]);if(Gu&&!Fu)return Rn(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}return(n=[null]).push.apply(n,t),new(YE.apply(e,n))}n=n.prototype,n=rd(db(n)?n:Object.prototype);var r=Function.apply.call(e,n,t);return db(r)?r:n}}),xa({target:"Reflect",stat:!0},{get:Wq});var Iu=ld.f,ZE=Ha(function(){Iu(1)});xa({target:"Object",stat:!0,forced:!ab||ZE,sham:!ab},{getOwnPropertyDescriptor:function(e,t){return Iu(Nc(e),t)}});var Ju=Yf.f,$E={}.toString,Ku=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Sn=function(e){if(Ku&&$E.call(e)=="[object Window]")try{var t=Ju(e)}catch{t=Ku.slice()}else t=Ju(Nc(e));return t},Lu={f:lb},aF=Zb.f,Fk=function(e){var t=oa.Symbol||(oa.Symbol={});Fa(t,e)||aF(t,e,{value:Lu.f(e)})},Pc=bk("hidden"),Mu=lb("toPrimitive"),bF=Rb.set,Nu=Rb.getterFor("Symbol"),sd=Object.prototype,Qc=oa.Symbol,Pi=ge("JSON","stringify"),Ou=ld.f,tf=Zb.f,Pu=Sn,cF=vi,He=kf("symbols"),Qi=kf("op-symbols"),Tn=kf("string-to-symbol-registry"),Un=kf("symbol-to-string-registry"),dF=kf("wks"),Vn=oa.QObject,Wn=!Vn||!Vn.prototype||!Vn.prototype.findChild,Xn=ab&&Ha(function(){return rd(tf({},"a",{get:function(){return tf(this,"a",{value:7}).a}})).a!=7})?function(e,t,n){var r=Ou(sd,t);r&&delete sd[t],tf(e,t,n),r&&e!==sd&&tf(sd,t,r)}:tf,Yn=function(e,t){var n=He[e]=rd(Qc.prototype);return bF(n,{type:"Symbol",tag:e,description:t}),ab||(n.description=t),n},Zn=Us?function(e){return typeof e=="symbol"}:function(e){return Object(e)instanceof Qc},Gk=function(e,t,n){return e===sd&&Gk(Qi,t,n),sb(e),t=fe(t,!0),sb(n),Fa(He,t)?(n.enumerable?(Fa(e,Pc)&&e[Pc][t]&&(e[Pc][t]=!1),n=rd(n,{enumerable:ee(0,!1)})):(Fa(e,Pc)||tf(e,Pc,ee(1,{})),e[Pc][t]=!0),Xn(e,t,n)):tf(e,t,n)},Qu=function(e,t){sb(e);var n=Nc(t);return t=De(n).concat($n(n)),$f(t,function(r){ab&&!ao.call(n,r)||Gk(e,r,n[r])}),e},ao=function(e){e=fe(e,!0);var t=cF.call(this,e);return!(this===sd&&Fa(He,e)&&!Fa(Qi,e))&&(!(t||!Fa(this,e)||!Fa(He,e)||Fa(this,Pc)&&this[Pc][e])||t)},Ru=function(e,t){if(e=Nc(e),t=fe(t,!0),e!==sd||!Fa(He,t)||Fa(Qi,t)){var n=Ou(e,t);return!n||!Fa(He,t)||Fa(e,Pc)&&e[Pc][t]||(n.enumerable=!0),n}},Su=function(e){e=Pu(Nc(e));var t=[];return $f(e,function(n){Fa(He,n)||Fa(dh,n)||t.push(n)}),t},$n=function(e){var t=e===sd;e=Pu(t?Qi:Nc(e));var n=[];return $f(e,function(r){!Fa(He,r)||t&&!Fa(sd,r)||n.push(He[r])}),n};if(je||(Qc=function(){if(this instanceof Qc)throw TypeError("Symbol is not a constructor");var e=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,t=ch(e),n=function(r){this===sd&&n.call(Qi,r),Fa(this,Pc)&&Fa(this[Pc],t)&&(this[Pc][t]=!1),Xn(this,t,ee(1,r))};return ab&&Wn&&Xn(sd,t,{configurable:!0,set:n}),Yn(t,e)},Lb(Qc.prototype,"toString",function(){return Nu(this).tag}),Lb(Qc,"withoutSetter",function(e){return Yn(ch(e),e)}),vi=ao,Zb.f=Gk,ld.f=Ru,Yf.f=Sn=Su,xi.f=$n,Lu.f=function(e){return Yn(lb(e),e)},ab&&(tf(Qc.prototype,"description",{configurable:!0,get:function(){return Nu(this).description}}),Lb(sd,"propertyIsEnumerable",ao,{unsafe:!0}))),xa({global:!0,wrap:!0,forced:!je,sham:!je},{Symbol:Qc}),$f(De(dF),function(e){Fk(e)}),xa({target:"Symbol",stat:!0,forced:!je},{for:function(e){if(e=String(e),Fa(Tn,e))return Tn[e];var t=Qc(e);return Tn[e]=t,Un[t]=e,t},keyFor:function(e){if(!Zn(e))throw TypeError(e+" is not a symbol");if(Fa(Un,e))return Un[e]},useSetter:function(){Wn=!0},useSimple:function(){Wn=!1}}),xa({target:"Object",stat:!0,forced:!je,sham:!ab},{create:function(e,t){return t===void 0?rd(e):Qu(rd(e),t)},defineProperty:Gk,defineProperties:Qu,getOwnPropertyDescriptor:Ru}),xa({target:"Object",stat:!0,forced:!je},{getOwnPropertyNames:Su,getOwnPropertySymbols:$n}),xa({target:"Object",stat:!0,forced:Ha(function(){xi.f(1)})},{getOwnPropertySymbols:function(e){return xi.f(Yb(e))}}),Pi){var eF=!je||Ha(function(){var e=Qc();return Pi([e])!="[null]"||Pi({a:e})!="{}"||Pi(Object(e))!="{}"});xa({target:"JSON",stat:!0,forced:eF},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(db(t)||e!==void 0)&&!Zn(e))return nf(t)||(t=function(s,l){if(typeof r=="function"&&(l=r.call(this,s,l)),!Zn(l))return l}),o[1]=t,Pi.apply(null,o)}})}Qc.prototype[Mu]||$b(Qc.prototype,Mu,Qc.prototype.valueOf),Nd(Qc,"Symbol"),dh[Pc]=!0;var fF=Zb.f,Ie=oa.Symbol;if(ab&&typeof Ie=="function"&&(!("description"in Ie.prototype)||Ie().description!==void 0)){var Tu={},Ri=function(){var e=1>arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),t=this instanceof Ri?new Ie(e):e===void 0?Ie():Ie(e);return e===""&&(Tu[t]=!0),t};Os(Ri,Ie);var bo=Ri.prototype=Ie.prototype;bo.constructor=Ri;var gF=bo.toString,hF=String(Ie("test"))=="Symbol(test)",iF=/^Symbol\((.*)\)[^)]+$/;fF(bo,"description",{configurable:!0,get:function(){var e=db(this)?this.valueOf():this,t=gF.call(e);return Fa(Tu,e)?"":(e=hF?t.slice(7,-1):t.replace(iF,"$1"))===""?void 0:e}}),xa({global:!0,forced:!0},{Symbol:Ri})}Fk("toStringTag"),Nd(oa.JSON,"JSON",!0),Nd(Math,"Math",!0),function(){function e(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function t(g,y){for(var m=0;m<y.length;m++){var R=y[m];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(g,R.key,R)}}function n(g,y,m){return y&&t(g.prototype,y),m&&t(g,m),g}function r(g){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}function o(g,y){return(o=Object.setPrototypeOf||function(m,R){return m.__proto__=R,m})(g,y)}function i(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function s(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var m=r(g);if(y){var R=r(this).constructor;m=Reflect.construct(m,arguments,R)}else m=m.apply(this,arguments);return m=!m||Ka(m)!=="object"&&typeof m!="function"?i(this):m}}function l(g,y,m){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(R,A,k){for(;!Object.prototype.hasOwnProperty.call(R,A)&&(R=r(R))!==null;);if(R)return(A=Object.getOwnPropertyDescriptor(R,A)).get?A.get.call(k):A.value})(g,y,m||g)}var u=function(){function g(){e(this,g),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(g,[{key:"addEventListener",value:function(y,m,R){y in this.listeners||(this.listeners[y]=[]),this.listeners[y].push({callback:m,options:R})}},{key:"removeEventListener",value:function(y,m){if(y in this.listeners){for(var R=0,A=(y=this.listeners[y]).length;R<A;R++)if(y[R].callback===m){y.splice(R,1);break}}}},{key:"dispatchEvent",value:function(y){if(y.type in this.listeners){for(var m=this.listeners[y.type].slice(),R=0,A=m.length;R<A;R++){var k=m[R];try{k.callback.call(this,y)}catch(I){Promise.resolve().then(function(){throw I})}k.options&&k.options.once&&this.removeEventListener(y.type,k.callback)}return!y.defaultPrevented}}}]),g}(),f=function(g){function y(){e(this,y);var R=m.call(this);return R.listeners||u.call(i(R)),Object.defineProperty(i(R),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(i(R),"onabort",{value:null,writable:!0,configurable:!0}),R}(function(R,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(A&&A.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),A&&o(R,A)})(y,g);var m=s(y);return n(y,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(R){R.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,R)),l(r(y.prototype),"dispatchEvent",this).call(this,R)}}]),y}(u),h=function(){function g(){e(this,g),Object.defineProperty(this,"signal",{value:new f,writable:!0,configurable:!0})}return n(g,[{key:"abort",value:function(){try{var y=new Event("abort")}catch{typeof document<"u"?document.createEvent?(y=document.createEvent("Event")).initEvent("abort",!1,!1):(y=document.createEventObject()).type="abort":y={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(y)}},{key:"toString",value:function(){return"[object AbortController]"}}]),g}();typeof Symbol<"u"&&Symbol.toStringTag&&(h.prototype[Symbol.toStringTag]="AbortController",f.prototype[Symbol.toStringTag]="AbortSignal"),function(g){if(g.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL){console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill");var y=!0}else y=typeof g.Request=="function"&&!g.Request.prototype.hasOwnProperty("signal")||!g.AbortController;y&&(g.AbortController=h,g.AbortSignal=f)}(typeof self<"u"?self:pb)}();var jF=Math.floor,kF=Math.log,lF=Math.LOG2E;xa({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-jF(kF(e+.5)*lF):32}});var mF=Math.log,nF=Math.LN2,GA=Math.clz32||function(e){return 31-mF(e>>>0)/nF|0},Of=String.fromCharCode,Uu={}.toString,co=window.Uint8Array,eo=co||Array,oF=Uu.call((window.ArrayBuffer||eo).prototype),fo;Xq.prototype.decode=function(e){if(e=e&&e.buffer||e,Uu.call(e)!==oF)throw Error("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");for(var t="",n=0,r=0|(e=co?new eo(e):e).length;n<r;n=n+32768|0)t+=Of.apply(0,e[co?"slice":"subarray"](n,n+32768|0));return t.replace(/[\xc0-\xff][\x80-\xbf]*/g,FA)},window.TextDecoder||(window.TextDecoder=Xq),Yq.prototype.encode=function(e){for(var t=0|(e=e===void 0?"":(""+e).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,HA)).length,n=new eo(t),r=0;r<t;r=r+1|0)n[r]=e.charCodeAt(r);return n},window.TextEncoder||(window.TextEncoder=Yq),function(e){var t,n,r,o,i,s,l,u,f,h,g,y;(n=t||(t={})).LOGIN="LOGIN",n.LOGIN_SUCCESS="LOGIN_SUCCESS",n.LOGIN_FAILURE="LOGIN_FAILURE",n.LOGIN_TIMEOUT="LOGIN_TIMEOUT",n.INTERRUPTED="INTERRUPTED",n.LOGOUT="LOGOUT",n.BANNED_BY_SERVER="BANNED_BY_SERVER",n.REMOTE_LOGIN="REMOTE_LOGIN",n.TOKEN_EXPIRED="TOKEN_EXPIRED",e.ConnectionChangeReason=t,function(m){m.DISCONNECTED="DISCONNECTED",m.CONNECTING="CONNECTING",m.CONNECTED="CONNECTED",m.RECONNECTING="RECONNECTING",m.ABORTED="ABORTED"}(r||(r={})),e.ConnectionState=r,function(m){m.IDLE="IDLE",m.SENT_TO_REMOTE="SENT_TO_REMOTE",m.RECEIVED_BY_REMOTE="RECEIVED_BY_REMOTE",m.ACCEPTED_BY_REMOTE="ACCEPTED_BY_REMOTE",m.REFUSED_BY_REMOTE="REFUSED_BY_REMOTE",m.CANCELED="CANCELED",m.FAILURE="FAILURE"}(o||(o={})),e.LocalInvitationState=o,function(m){m.INVITATION_RECEIVED="INVITATION_RECEIVED",m.ACCEPT_SENT_TO_LOCAL="ACCEPT_SENT_TO_LOCAL",m.REFUSED="REFUSED",m.ACCEPTED="ACCEPTED",m.CANCELED="CANCELED",m.FAILURE="FAILURE"}(i||(i={})),e.RemoteInvitationState=i,function(m){m.UNKNOWN="UNKNOWN",m.PEER_NO_RESPONSE="PEER_NO_RESPONSE",m.INVITATION_EXPIRE="INVITATION_EXPIRE",m.PEER_OFFLINE="PEER_OFFLINE",m.NOT_LOGGEDIN="NOT_LOGGEDIN"}(s||(s={})),e.LocalInvitationFailureReason=s,function(m){m.UNKNOWN="UNKNOWN",m.PEER_OFFLINE="PEER_OFFLINE",m.ACCEPT_FAILURE="ACCEPT_FAILURE",m.INVITATION_EXPIRE="INVITATION_EXPIRE"}(l||(l={})),e.RemoteInvitationFailureReason=l,function(m){m.ONLINE="ONLINE",m.UNREACHABLE="UNREACHABLE",m.OFFLINE="OFFLINE"}(u||(u={})),e.PeerOnlineState=u,(f||(f={})).ONLINE_STATUS="ONLINE_STATUS",e.PeerSubscriptionOption=f,function(m){m.TEXT="TEXT",m.RAW="RAW"}(h||(h={})),e.MessageType=h,function(m){m.CN="CN",m.NA="NA",m.EU="EU",m.AS="AS",m.JP="JP",m.IN="IN",m.GLOB="GLOB",m.OC="OC",m.SA="SA",m.AF="AF",m.OVS="OVS"}(g||(g={})),e.LegacyAreaCode=g,function(m){m.GLOBAL="GLOBAL",m.INDIA="INDIA",m.JAPAN="JAPAN",m.ASIA="ASIA",m.EUROPE="EUROPE",m.CHINA="CHINA",m.NORTH_AMERICA="NORTH_AMERICA"}(y||(y={})),e.AreaCode=y}(fo||(fo={}));var Va=fo;xa({target:"Array",proto:!0},{includes:function(e){return Ls(this,e,1<arguments.length?arguments[1]:void 0)}}),pf("includes");var go=function(e){if(an(e))throw TypeError("The method doesn't accept regular expressions");return e},pF=lb("match"),ho=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[pF]=!1,"/./"[e](t)}catch{}}return!1};xa({target:"String",proto:!0,forced:!ho("includes")},{includes:function(e){return!!~String(Dc(this)).indexOf(go(e),1<arguments.length?arguments[1]:void 0)}});var Sd={RECONNECTING_AP_INTERVAL:2500,RECONNECTING_AP_NUM:2,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:3e3,LOG_HANDLER:void 0,ENABLE_EDGE_AUTO_FALLBACK:!0};Fk("iterator"),Fk("asyncIterator");var io=ag("forEach")?[].forEach:function(e){return $f(this,e,1<arguments.length?arguments[1]:void 0)},Vu;for(Vu in Nn){var Wu=oa[Vu],Hk=Wu&&Wu.prototype;if(Hk&&Hk.forEach!==io)try{$b(Hk,"forEach",io)}catch{Hk.forEach=io}}var qF=[].reverse,Xu=[1,2];xa({target:"Array",proto:!0,forced:String(Xu)===String(Xu.reverse())},{reverse:function(){return nf(this)&&(this.length=this.length),qF.call(this)}});var X=lc(function(e){e=function(t){function n(L,D,J){return Object.defineProperty(L,D,{value:J,enumerable:!0,configurable:!0,writable:!0}),L[D]}function r(L,D,J,Q){return D=Object.create((D&&D.prototype instanceof i?D:i).prototype),Q=new m(Q||[]),D._invoke=function(ue,aa,Ve){var da=_e;return function(Ze,Sa){if(da===_a)throw Error("Generator is already running");if(da===q){if(Ze==="throw")throw Sa;return A()}for(Ve.method=Ze,Ve.arg=Sa;;){if((Ze=Ve.delegate)&&(Ze=h(Ze,Ve))){if(Ze===V)continue;return Ze}if(Ve.method==="next")Ve.sent=Ve._sent=Ve.arg;else if(Ve.method==="throw"){if(da===_e)throw da=q,Ve.arg;Ve.dispatchException(Ve.arg)}else Ve.method==="return"&&Ve.abrupt("return",Ve.arg);if(da=_a,(Ze=o(ue,aa,Ve)).type==="normal"){if(da=Ve.done?q:$e,Ze.arg===V)continue;return{value:Ze.arg,done:Ve.done}}Ze.type==="throw"&&(da=q,Ve.method="throw",Ve.arg=Ze.arg)}}}(L,J,Q),D}function o(L,D,J){try{return{type:"normal",arg:L.call(D,J)}}catch(Q){return{type:"throw",arg:Q}}}function i(){}function s(){}function l(){}function u(L){["next","throw","return"].forEach(function(D){n(L,D,function(J){return this._invoke(D,J)})})}function f(L,D){function J(ue,aa,Ve,da){if((ue=o(L[ue],L,aa)).type!=="throw"){var Ze=ue.arg;return(ue=Ze.value)&&Ka(ue)==="object"&&N.call(ue,"__await")?D.resolve(ue.__await).then(function(Sa){J("next",Sa,Ve,da)},function(Sa){J("throw",Sa,Ve,da)}):D.resolve(ue).then(function(Sa){Ze.value=Sa,Ve(Ze)},function(Sa){return J("throw",Sa,Ve,da)})}da(ue.arg)}var Q;this._invoke=function(ue,aa){function Ve(){return new D(function(da,Ze){J(ue,aa,da,Ze)})}return Q=Q?Q.then(Ve,Ve):Ve()}}function h(L,D){var J=L.iterator[D.method];if(J===k){if(D.delegate=null,D.method==="throw"){if(L.iterator.return&&(D.method="return",D.arg=k,h(L,D),D.method==="throw"))return V;D.method="throw",D.arg=new TypeError("The iterator does not provide a 'throw' method")}return V}return(J=o(J,L.iterator,D.arg)).type==="throw"?(D.method="throw",D.arg=J.arg,D.delegate=null,V):(J=J.arg)?J.done?(D[L.resultName]=J.value,D.next=L.nextLoc,D.method!=="return"&&(D.method="next",D.arg=k),D.delegate=null,V):J:(D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,V)}function g(L){var D={tryLoc:L[0]};1 in L&&(D.catchLoc=L[1]),2 in L&&(D.finallyLoc=L[2],D.afterLoc=L[3]),this.tryEntries.push(D)}function y(L){var D=L.completion||{};D.type="normal",delete D.arg,L.completion=D}function m(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(g,this),this.reset(!0)}function R(L){if(L){var D=L[Y];if(D)return D.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var J=-1;return(D=function Q(){for(;++J<L.length;)if(N.call(L,J))return Q.value=L[J],Q.done=!1,Q;return Q.value=k,Q.done=!0,Q}).next=D}}return{next:A}}function A(){return{value:k,done:!0}}var k,I=Object.prototype,N=I.hasOwnProperty,C=typeof Symbol=="function"?Symbol:{},Y=C.iterator||"@@iterator",te=C.asyncIterator||"@@asyncIterator",Xe=C.toStringTag||"@@toStringTag";try{n({},"")}catch{n=function(D,J,Q){return D[J]=Q}}t.wrap=r;var _e="suspendedStart",$e="suspendedYield",_a="executing",q="completed",V={};n(C={},Y,function(){return this});var z=Object.getPrototypeOf;(z=z&&z(z(R([]))))&&z!==I&&N.call(z,Y)&&(C=z);var _t=l.prototype=i.prototype=Object.create(C);return s.prototype=l,n(_t,"constructor",l),n(l,"constructor",s),s.displayName=n(l,Xe,"GeneratorFunction"),t.isGeneratorFunction=function(L){return!!(L=typeof L=="function"&&L.constructor)&&(L===s||(L.displayName||L.name)==="GeneratorFunction")},t.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,l):(L.__proto__=l,n(L,Xe,"GeneratorFunction")),L.prototype=Object.create(_t),L},t.awrap=function(L){return{__await:L}},u(f.prototype),n(f.prototype,te,function(){return this}),t.AsyncIterator=f,t.async=function(L,D,J,Q,ue){ue===void 0&&(ue=Promise);var aa=new f(r(L,D,J,Q),ue);return t.isGeneratorFunction(D)?aa:aa.next().then(function(Ve){return Ve.done?Ve.value:aa.next()})},u(_t),n(_t,Xe,"Generator"),n(_t,Y,function(){return this}),n(_t,"toString",function(){return"[object Generator]"}),t.keys=function(L){var D,J=[];for(D in L)J.push(D);return J.reverse(),function Q(){for(;J.length;){var ue=J.pop();if(ue in L)return Q.value=ue,Q.done=!1,Q}return Q.done=!0,Q}},t.values=R,m.prototype={constructor:m,reset:function(L){if(this.next=this.prev=0,this.sent=this._sent=k,this.done=!1,this.delegate=null,this.method="next",this.arg=k,this.tryEntries.forEach(y),!L)for(var D in this)D.charAt(0)==="t"&&N.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=k)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(L){function D(Ze,Sa){return aa.type="throw",aa.arg=L,J.next=Ze,Sa&&(J.method="next",J.arg=k),!!Sa}if(this.done)throw L;for(var J=this,Q=this.tryEntries.length-1;0<=Q;--Q){var ue=this.tryEntries[Q],aa=ue.completion;if(ue.tryLoc==="root")return D("end");if(ue.tryLoc<=this.prev){var Ve=N.call(ue,"catchLoc"),da=N.call(ue,"finallyLoc");if(Ve&&da){if(this.prev<ue.catchLoc)return D(ue.catchLoc,!0);if(this.prev<ue.finallyLoc)return D(ue.finallyLoc)}else if(Ve){if(this.prev<ue.catchLoc)return D(ue.catchLoc,!0)}else{if(!da)throw Error("try statement without catch or finally");if(this.prev<ue.finallyLoc)return D(ue.finallyLoc)}}}},abrupt:function(L,D){for(var J=this.tryEntries.length-1;0<=J;--J){var Q=this.tryEntries[J];if(Q.tryLoc<=this.prev&&N.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var ue=Q;break}}return ue&&(L==="break"||L==="continue")&&ue.tryLoc<=D&&D<=ue.finallyLoc&&(ue=null),(J=ue?ue.completion:{}).type=L,J.arg=D,ue?(this.method="next",this.next=ue.finallyLoc,V):this.complete(J)},complete:function(L,D){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&D&&(this.next=D),V},finish:function(L){for(var D=this.tryEntries.length-1;0<=D;--D){var J=this.tryEntries[D];if(J.finallyLoc===L)return this.complete(J.completion,J.afterLoc),y(J),V}},catch:function(L){for(var D=this.tryEntries.length-1;0<=D;--D){var J=this.tryEntries[D];if(J.tryLoc===L){if((L=J.completion).type==="throw"){var Q=L.arg;y(J)}return Q}}throw Error("illegal catch attempt")},delegateYield:function(L,D,J){return this.delegate={iterator:R(L),resultName:D,nextLoc:J},this.method==="next"&&(this.arg=k),V}},t}(e.exports);try{regeneratorRuntime=e}catch{(typeof globalThis>"u"?"undefined":Ka(globalThis))==="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}),Yu=!Ha(function(){return Object.isExtensible(Object.preventExtensions({}))}),jo=lc(function(e){var t=Zb.f,n=ch("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(l){t(l,n,{value:{objectID:"O"+ ++r,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(l,u){if(!db(l))return typeof l=="symbol"?l:(typeof l=="string"?"S":"P")+l;if(!Fa(l,n)){if(!o(l))return"F";if(!u)return"E";i(l)}return l[n].objectID},getWeakData:function(l,u){if(!Fa(l,n)){if(!o(l))return!0;if(!u)return!1;i(l)}return l[n].weakData},onFreeze:function(l){return Yu&&s.REQUIRED&&o(l)&&!Fa(l,n)&&i(l),l}};dh[n]=!0}),Zu=function(e,t,n){var r=e.indexOf("Map")!==-1,o=e.indexOf("Weak")!==-1,i=r?"set":"add",s=oa[e],l=s&&s.prototype,u=s,f={},h=function(k){var I=l[k];Lb(l,k,k=="add"?function(N){return I.call(this,N===0?0:N),this}:k=="delete"?function(N){return!(o&&!db(N))&&I.call(this,N===0?0:N)}:k=="get"?function(N){return o&&!db(N)?void 0:I.call(this,N===0?0:N)}:k=="has"?function(N){return!(o&&!db(N))&&I.call(this,N===0?0:N)}:function(N,C){return I.call(this,N===0?0:N,C),this})};if(he(e,typeof s!="function"||!(o||l.forEach&&!Ha(function(){new s().entries().next()}))))u=n.getConstructor(t,e,r,i),jo.REQUIRED=!0;else if(he(e,!0)){var g=new u,y=g[i](o?{}:-0,1)!=g,m=Ha(function(){g.has(1)}),R=jk(function(k){new s(k)}),A=!o&&Ha(function(){for(var k=new s,I=5;I--;)k[i](I,I);return!k.has(-0)});R||((u=t(function(k,I){return Od(k,u,e),k=Bk(new s,k,u),I!=null&&ok(I,k[i],{that:k,AS_ENTRIES:r}),k})).prototype=l,l.constructor=u),(m||A)&&(h("delete"),h("has"),r&&h("get")),(A||y)&&h(i),o&&l.clear&&delete l.clear}return f[e]=u,xa({global:!0,forced:u!=s},f),Nd(u,e),o||n.setStrong(u,e,r),u},rF=Zb.f,$u=jo.fastKey,av=Rb.set,ko=Rb.getterFor,bv={getConstructor:function(e,t,n,r){var o=e(function(u,f){Od(u,o,t),av(u,{type:t,index:rd(null),first:void 0,last:void 0,size:0}),ab||(u.size=0),f!=null&&ok(f,u[r],{that:u,AS_ENTRIES:n})}),i=ko(t),s=function(u,f,h){var g,y=i(u),m=l(u,f);return m?m.value=h:(y.last=m={index:g=$u(f,!0),key:f,value:h,previous:f=y.last,next:void 0,removed:!1},y.first||(y.first=m),f&&(f.next=m),ab?y.size++:u.size++,g!=="F"&&(y.index[g]=m)),u},l=function(u,f){u=i(u);var h=$u(f);if(h!=="F")return u.index[h];for(u=u.first;u;u=u.next)if(u.key==f)return u};return kh(o.prototype,{clear:function(){for(var u=i(this),f=u.index,h=u.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),delete f[h.index],h=h.next;u.first=u.last=void 0,ab?u.size=0:this.size=0},delete:function(u){var f=i(this);if(u=l(this,u)){var h=u.next,g=u.previous;delete f.index[u.index],u.removed=!0,g&&(g.next=h),h&&(h.previous=g),f.first==u&&(f.first=h),f.last==u&&(f.last=g),ab?f.size--:this.size--}return!!u},forEach:function(u){for(var f,h=i(this),g=mf(u,1<arguments.length?arguments[1]:void 0,3);f=f?f.next:h.first;)for(g(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(u){return!!l(this,u)}}),kh(o.prototype,n?{get:function(u){return(u=l(this,u))&&u.value},set:function(u,f){return s(this,u===0?0:u,f)}}:{add:function(u){return s(this,u=u===0?0:u,u)}}),ab&&rF(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=ko(t),i=ko(r);ln(e,t,function(s,l){av(this,{type:r,target:s,state:o(s),kind:l,last:void 0})},function(){for(var s=i(this),l=s.kind,u=s.last;u&&u.removed;)u=u.previous;return s.target&&(s.last=u=u?u.next:s.state.first)?l=="keys"?{value:u.key,done:!1}:l=="values"?{value:u.value,done:!1}:{value:[u.key,u.value],done:!1}:(s.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),Fi(t)}};Zu("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},bv);var lo=ge("Reflect","apply"),sF=Function.apply,tF=!Ha(function(){lo(function(){})});xa({target:"Reflect",stat:!0,forced:tF},{apply:function(e,t,n){return Oc(e),sb(n),lo?lo(e,t,n):sF.call(e,t,n)}}),xa({target:"Reflect",stat:!0},{ownKeys:Ns});var cv=lb("isConcatSpreadable"),uF=51<=ie||!Ha(function(){var e=[];return e[cv]=!1,e.concat()[0]!==e}),vF=Ci("concat");xa({target:"Array",proto:!0,forced:!uF||!vF},{concat:function(e){var t,n=Yb(this),r=Bi(n,0),o=0,i=-1;for(t=arguments.length;i<t;i++){var s=i===-1?n:arguments[i],l=s;if(db(l)){var u=l[cv];l=u!==void 0?!!u:nf(l)}else l=!1;if(l){if(9007199254740991<o+(u=vb(s.length)))throw TypeError("Maximum allowed index exceeded");for(l=0;l<u;l++,o++)l in s&&ih(r,o,s[l])}else{if(9007199254740991<=o)throw TypeError("Maximum allowed index exceeded");ih(r,o++,s)}}return r.length=o,r}});var wF=Sn,xF=Ha(function(){return!Object.getOwnPropertyNames(1)});xa({target:"Object",stat:!0,forced:xF},{getOwnPropertyNames:wF});var yF=Yf.f,zF=ld.f,AF=Zb.f,uf=oa.Number,Ik=uf.prototype,BF=Kd(rd(Ik))=="Number",dv=function(e){var t,n=fe(e,!1);if(typeof n=="string"&&2<n.length){if((e=(n=hk(n)).charCodeAt(0))===43||e===45){if((e=n.charCodeAt(2))===88||e===120)return NaN}else if(e===48){switch(n.charCodeAt(1)){case 66:case 98:e=2;var r=49;break;case 79:case 111:e=8,r=55;break;default:return+n}var o=(n=n.slice(2)).length;for(t=0;t<o;t++){var i=n.charCodeAt(t);if(48>i||i>r)return NaN}return parseInt(n,e)}}return+n};if(he("Number",!uf(" 0o1")||!uf("0b1")||uf("+0x1"))){for(var gg=function(e){var t=1>arguments.length?0:e,n=this;return n instanceof gg&&(BF?Ha(function(){Ik.valueOf.call(n)}):Kd(n)!="Number")?Bk(new uf(dv(t)),n,gg):dv(t)},ev=ab?yF(uf):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger fromString range".split(" "),mo=0,Jk;ev.length>mo;mo++)Fa(uf,Jk=ev[mo])&&!Fa(gg,Jk)&&AF(gg,Jk,zF(uf,Jk));gg.prototype=Ik,Ik.constructor=gg,Lb(oa,"Number",gg)}var sh=(typeof Reflect>"u"?"undefined":Ka(Reflect))==="object"?Reflect:null,fv=sh&&typeof sh.apply=="function"?sh.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},CF=sh&&typeof sh.ownKeys=="function"?sh.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},gv=Number.isNaN||function(e){return e!=e};ib.EventEmitter=ib,ib.prototype._events=void 0,ib.prototype._eventsCount=0,ib.prototype._maxListeners=void 0;var hv=10;Object.defineProperty(ib,"defaultMaxListeners",{enumerable:!0,get:function(){return hv},set:function(e){if(typeof e!="number"||0>e||gv(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");hv=e}}),ib.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ib.prototype.setMaxListeners=function(e){if(typeof e!="number"||0>e||gv(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},ib.prototype.getMaxListeners=function(){return this._maxListeners===void 0?ib.defaultMaxListeners:this._maxListeners},ib.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);n=e==="error";var r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){var o;throw 0<t.length&&(o=t[0]),o instanceof Error?o:((t=Error("Unhandled error."+(o?" ("+o.message+")":""))).context=o,t)}if((n=r[e])===void 0)return!1;if(typeof n=="function")fv(n,this,t);else for(r=br(n,o=n.length),n=0;n<o;++n)fv(r[n],this,t);return!0},ib.prototype.addListener=function(e,t){return Zq(this,e,t,!1)},ib.prototype.on=ib.prototype.addListener,ib.prototype.prependListener=function(e,t){return Zq(this,e,t,!0)},ib.prototype.once=function(e,t){return yj(t),this.on(e,$q(this,e,t)),this},ib.prototype.prependOnceListener=function(e,t){return yj(t),this.prependListener(e,$q(this,e,t)),this},ib.prototype.removeListener=function(e,t){var n;yj(t);var r=this._events;if(r===void 0)return this;var o=r[e];if(o===void 0)return this;if(o===t||o.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,o.listener||t));else if(typeof o!="function"){var i=-1;for(n=o.length-1;0<=n;n--)if(o[n]===t||o[n].listener===t){var s=o[n].listener;i=n;break}if(0>i)return this;if(i===0)o.shift();else{for(;i+1<o.length;i++)o[i]=o[i+1];o.pop()}o.length===1&&(r[e]=o[0]),r.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},ib.prototype.off=ib.prototype.removeListener,ib.prototype.removeAllListeners=function(e){var t=this._events;if(t===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[e]),this;if(arguments.length===0){var n=Object.keys(t);for(t=0;t<n.length;++t){var r=n[t];r!=="removeListener"&&this.removeAllListeners(r)}return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(n=t[e])=="function")this.removeListener(e,n);else if(n!==void 0)for(t=n.length-1;0<=t;t--)this.removeListener(e,n[t]);return this},ib.prototype.listeners=function(e){return ar(this,e,!0)},ib.prototype.rawListeners=function(e){return ar(this,e,!1)},ib.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):cr.call(e,t)},ib.prototype.listenerCount=cr,ib.prototype.eventNames=function(){return 0<this._eventsCount?CF(this._events):[]},ib.once=function(e,t){return new Promise(function(n,r){function o(s){e.removeListener(t,i),r(s)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",o),n([].slice.call(arguments))}dr(e,t,i,{once:!0}),t!=="error"&&JA(e,o,{once:!0})})};var th=Object.assign,iv=Object.defineProperty,Si=!th||Ha(function(){if(ab&&th({b:1},th(iv({},"a",{enumerable:!0,get:function(){iv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),th({},e)[n]!=7||De(th({},t)).join("")!="abcdefghijklmnopqrst"})?function(e,t){for(var n=Yb(e),r=arguments.length,o=1,i=xi.f,s=vi;r>o;)for(var l,u=wi(arguments[o++]),f=i?De(u).concat(i(u)):De(u),h=f.length,g=0;h>g;)l=f[g++],(!ab||s.call(u,l))&&(n[l]=u[l]);return n}:th;xa({target:"Object",stat:!0,forced:Object.assign!==Si},{assign:Si}),Zu("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},bv);var DF=Math.log,EF=Math.LN2;xa({target:"Math",stat:!0},{log2:function(e){return DF(e)/EF}});var FF=Zb.f,GF=Yf.f,HF=Rb.enforce,IF=lb("match"),ne=oa.RegExp,no=ne.prototype,Ti=/a/g,oo=/a/g,po=new ne(Ti)!==Ti;if(ab&&he("RegExp",!po||Md||Ha(function(){return oo[IF]=!1,ne(Ti)!=Ti||ne(oo)==oo||ne(Ti,"i")!="/a/i"}))){for(var Je=function(e,t){var n,r=this instanceof Je,o=an(e),i=t===void 0;return!r&&o&&e.constructor===Je&&i||(po?o&&!i&&(e=e.source):e instanceof Je&&(i&&(t=ek.call(e)),e=e.source),Md&&(n=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,"")),e=Bk(po?new ne(e,t):ne(e,t),r?this:no,Je),Md&&n&&(HF(e).sticky=!0)),e},JF=function(e){e in Je||FF(Je,e,{configurable:!0,get:function(){return ne[e]},set:function(t){ne[e]=t}})},jv=GF(ne),kv=0;jv.length>kv;)JF(jv[kv++]);no.constructor=Je,Je.prototype=no,Lb(oa,"RegExp",Je)}Fi("RegExp"),Oi("Float32",function(e){return function(t,n,r){return e(this,t,n,r)}}),Oi("Float64",function(e){return function(t,n,r){return e(this,t,n,r)}}),Oi("Uint32",function(e){return function(t,n,r){return e(this,t,n,r)}}),Oi("Uint16",function(e){return function(t,n,r){return e(this,t,n,r)}});var qo=function(e,t){return e===t?0:e==null?t==null?0:-1:t==null?e==null?0:1:typeof e.compare=="function"?e.compare(t):typeof t.compare=="function"?-t.compare(e):e<t?-1:e>t?1:0},ro=[],lv=ro.sort,KF=Ha(function(){ro.sort(void 0)}),LF=Ha(function(){ro.sort(null)}),MF=ag("sort");xa({target:"Array",proto:!0,forced:KF||!LF||!MF},{sort:function(e){return e===void 0?lv.call(Yb(this)):lv.call(Yb(this),Oc(e))}});var mv=Object.getPrototypeOf({}),Ui=function(e,t){var n;return e===t||(e==null?e==t:Ka(e.equiv)==="function"?e.equiv(t):t==null?e==t:Ka(t.equiv)==="function"?t.equiv(e):Ka(e)!=="string"&&Ka(t)!=="string"&&((n=Object.getPrototypeOf(e))!=null&&n!==mv||(n=Object.getPrototypeOf(t))!=null&&n!==mv?Ka(e)!=="function"&&e.length!==void 0&&Ka(t)!=="function"&&t.length!==void 0?OF(e,t):e instanceof Set&&t instanceof Set?PF(e,t):e instanceof Map&&t instanceof Map?QF(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:NF(e,t)))},OF=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Ui,r=e.length;if(r===t.length)for(;0<=--r&&n(e[r],t[r]););return 0>r},PF=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Ui;return e.size===t.size&&n(ra(e.keys()).sort(),ra(t.keys()).sort())},QF=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Ui;return e.size===t.size&&n(ra(e).sort(),ra(t).sort())},NF=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Ui;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!t.hasOwnProperty(r)||!n(e[r],t[r]))return!1;return!0},nv=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:function(n){return n!==void 0?": "+n:""};return function(n){function r(i){return Za(this,r),o.call(this,e(i)+t(i))}mb(r,n);var o=nb(r);return r}($h(Error))},RF=nv(function(){return"illegal argument(s)"}),Kk=function(e){throw new RF(e)},so=nv(function(){return"index out of bounds"}),ov=1/4294967295,SF=function(){function e(){Za(this,e)}return Nb(e,[{key:"float",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return this.int()*ov*t}},{key:"norm",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return 2*(this.int()*ov-.5)*t}},{key:"minmax",value:function(t,n){return this.float()*(n-t)+t}}]),e}(),to=Math.random,TF=new(function(e){function t(){return Za(this,t),n.apply(this,arguments)}mb(t,e);var n=nb(t);return Nb(t,[{key:"int",value:function(){return 4294967296*to()>>>0}},{key:"float",value:function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return to()*r}},{key:"norm",value:function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return 2*(to()-.5)*r}}]),t}(SF)),dm=Symbol(),gr=function(){},UF=jo.onFreeze,uo=Object.freeze,VF=Ha(function(){uo(1)});xa({target:"Object",stat:!0,forced:VF,sham:!Yu},{freeze:function(e){return uo&&db(e)?uo(UF(e)):e}});var WF=ag("reduce"),XF=!ke&&79<ie&&83>ie;xa({target:"Array",proto:!0,forced:!WF||XF},{reduce:function(e){return uu(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var fr=function(e){return e!=null&&typeof e.xform=="function"?e.xform():e},zj=function(){function e(t){Za(this,e),this.value=t}return Nb(e,[{key:"deref",value:function(){return this.value}}]),e}(),em=function(e){return e instanceof zj?e.deref():e},LA=function(e,t){return[e,function(n){return n},t]},YF=X.mark(function(e,t){var n,r,o,i,s,l;return X.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:n=fr(e)(KA()),r=n[1],o=n[2],i=0;case 4:if(!(i<t.length)){u.next=15;break}if(s=t[i],!((l=o([],s))instanceof zj)){u.next=10;break}return u.delegateYield(em(r(l.deref())),"t0",9);case 9:return u.abrupt("return");case 10:if(!l.length){u.next=12;break}return u.delegateYield(l,"t1",12);case 12:i++,u.next=4;break;case 15:return u.delegateYield(em(r([])),"t2",16);case 16:case"end":return u.stop()}},YF)}),MA=X.mark(er),NA=function(e,t){return[e[0],e[1],t]},pv=!0;"findIndex"in[]&&Array(1).findIndex(function(){pv=!1}),xa({target:"Array",proto:!0,forced:pv},{findIndex:function(e){return et(this,e,1<arguments.length?arguments[1]:void 0)}}),pf("findIndex"),xa({target:"Array",proto:!0},{fill:Cn}),pf("fill");var ZF=function(){function e(t){Za(this,e),this._length=0,t&&this.into(t)}return Nb(e,[{key:"length",get:function(){return this._length}},{key:"copy",value:function(){return new e(this)}},{key:"empty",value:function(){return new e}},{key:"clear",value:function(){this.release()}},{key:"release",value:function(){for(var t,n=this.head;n;)t=n.next,delete n.value,delete n.prev,delete n.next,n=t;return delete this.head,delete this.tail,this._length=0,!0}},{key:"compare",value:function(t){var n=this._length;if(n<t._length)return-1;if(n>t._length)return 1;if(n===0)return 0;n=this.head,t=t.head;for(var r=0;n&&r==0;)r=qo(n.value,t.value),n=n.next,t=t.next;return r}},{key:"equiv",value:function(t){if(!(t instanceof e||t!=null&&typeof t!="function"&&t.length!==void 0)||this._length!==t.length)return!1;if(!this._length||this===t)return!0;for(var n=this.head,r=0;r<t.length;r++){if(!Ui(n.value,t[r]))return!1;n=n.next}return!0}},{key:Symbol.iterator,value:X.mark(function t(){var n;return X.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n=this.head;case 1:if(!n){r.next=7;break}return r.next=4,n.value;case 4:n=n.next,r.next=1;break;case 7:case"end":return r.stop()}},t,this)})},{key:"seq",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.length;if(!(t>=n||0>t)){t=this.nthCell(t);var r=this.nthCell(n-1);return n=function o(i){return{first:function(){return i.value},next:function(){return i!==r&&i.next?o(i.next):void 0}}},t?n(t):void 0}}},{key:"cycle",value:X.mark(function t(){return X.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(this,"t0",2);case 2:n.next=0;break;case 4:case"end":return n.stop()}},t,this)})},{key:"$reduce",value:function(t,n){for(var r=this.head;r&&!(n instanceof zj);)n=t(n,r.value),r=r.next;return n}},{key:"drop",value:function(){var t=this.head;if(t)return(this.head=t.next)?delete this.head.prev:delete this.tail,this._length--,t.value}},{key:"cons",value:function(t){return t={value:t,next:this.head},this.head?this.head.prev=t:this.tail=t,this.head=t,this._length++,this}},{key:"insertBefore",value:function(t,n){return t||Kk("cell is undefined"),n={value:n,next:t,prev:t.prev},t.prev?t.prev.next=n:this.head=n,t.prev=n,this._length++,this}},{key:"insertAfter",value:function(t,n){return t||Kk("cell is undefined"),n={value:n,next:t.next,prev:t},t.next?t.next.prev=n:this.tail=n,t.next=n,this._length++,this}},{key:"insertBeforeNth",value:function(t,n){if(0>t&&(t+=this._length),0>=t)return this.cons(n);if(0>t||t>=this._length)throw new so(t);return this.insertBefore(this.nthCellUnsafe(t),n)}},{key:"insertAfterNth",value:function(t,n){if(0>t&&(t+=this._length),t>=this._length-1)return this.push(n);if(0>t||t>=this._length)throw new so(t);return this.insertAfter(this.nthCellUnsafe(t),n)}},{key:"insertSorted",value:function(t,n){n=n||qo;for(var r=this.head;r;){if(0>=n(t,r.value))return this.insertBefore(r,t);r=r.next}return this.push(t)}},{key:"find",value:function(t){for(var n=this.head;n;){if(n.value===t)return n;n=n.next}}},{key:"findWith",value:function(t){for(var n=this.head;n;){if(t(n.value))return n;n=n.next}}},{key:"concat",value:function(){for(var t=this.copy(),n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];for(n=0;n<r.length;n++)t.into(r[n]);return t}},{key:"into",value:function(t){for(var n=0;n<t.length;n++)this.push(t[n])}},{key:"slice",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.length;t=0>t?t+this._length:t,n=0>n?n+this._length:n,(0>t||0>n)&&Kk("invalid indices: ${from} / ${to}");for(var r=new e,o=this.nthCell(t);o&&++t<=n;)r.push(o.value),o=o.next;return r}},{key:"splice",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,r=2<arguments.length?arguments[2]:void 0;if(typeof t=="number"){if(0>t&&(t+=this._length),0>t||t>=this._length)throw new so(t);var o=this.nthCellUnsafe(t)}else o=t;var i=new e;if(0<n)for(;o&&0<n--;)this.remove(o),i.push(o.value),o=o.next;else o&&(o=o.next);if(r)if(o)for(n=0;n<r.length;n++)this.insertBefore(o,r[n]);else for(o=0;o<r.length;o++)this.push(r[o]);return i}},{key:"remove",value:function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,this._length--,this}},{key:"swap",value:function(t,n){if(t!==n){var r=t.value;t.value=n.value,n.value=r}return this}},{key:"push",value:function(t){return this.tail?(t={value:t,prev:this.tail},this.tail=this.tail.next=t,this._length++,this):this.cons(t)}},{key:"pop",value:function(){var t=this.tail;if(t)return(this.tail=t.prev)?delete this.tail.next:delete this.head,this._length--,t.value}},{key:"first",value:function(){return this.head&&this.head.value}},{key:"peek",value:function(){return this.tail&&this.tail.value}},{key:"setHead",value:function(t){return this.head?(this.head.value=t,this):this.cons(t)}},{key:"setTail",value:function(t){return this.tail?(this.tail.value=t,this):this.push(t)}},{key:"setNth",value:function(t,n){var r=this.nthCell(t);return!r&&Kk("index out of bounds: ".concat(t)),r.value=n,this}},{key:"nth",value:function(t,n){return(t=this.nthCell(t))?t.value:n}},{key:"nthCell",value:function(t){if(0>t&&(t+=this._length),!(0>t||t>=this._length))return this.nthCellUnsafe(t)}},{key:"rotateLeft",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}},{key:"rotateRight",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:var t=this.peek();return this.pop(),this.cons(t)}}},{key:"map",value:function(t){for(var n=new e,r=this.head;r;)n.push(t(r.value)),r=r.next;return n}},{key:"filter",value:function(t){for(var n=new e,r=this.head;r;)t(r.value)&&n.push(r.value),r=r.next;return n}},{key:"reduce",value:function(t,n){for(var r=this.head;r;)n=t(n,r.value),r=r.next;return n}},{key:"shuffle",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:TF;if(2>this._length)return this;for(t=t!=null?t:Math.ceil(1.5*Math.log2(this._length));0<t;t--)for(var r=this.head;r;){var o=r.next;.5>n.float()?this.asHead(r):this.asTail(r),r=o}return this}},{key:"sort",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:qo;if(!this._length)return this;for(var n=1;;){var r=this.head;this.tail=this.head=void 0;for(var o=0;r;){o++;for(var i=r,s=0,l=0;l<n&&(s++,i=i.next);l++);for(l=n;0<s||0<l&&i;){if(s===0){var u=i;i=i.next,l--}else i&&l!==0?0>=t(r.value,i.value)?(u=r,r=r.next,s--):(u=i,i=i.next,l--):(u=r,r=r.next,s--);this.tail?this.tail.next=u:this.head=u,u.prev=this.tail,this.tail=u}r=i}if(this.tail.next=void 0,1>=o)return this;n*=2}}},{key:"reverse",value:function(){for(var t=this.head,n=this.tail,r=(this._length>>>1)+(1&this._length);t&&n&&0<r;){var o=t.value;t.value=n.value,n.value=o,t=t.next,n=n.prev,r--}return this}},{key:"asHead",value:function(t){return t===this.head||(this.remove(t),this.head.prev=t,t.next=this.head,t.prev=void 0,this.head=t,this._length++),this}},{key:"asTail",value:function(t){return t===this.tail||(this.remove(t),this.tail.next=t,t.prev=this.tail,t.next=void 0,this.tail=t,this._length++),this}},{key:"toString",value:function(){for(var t=[],n=this.head;n;)t.push(String(n.value)),n=n.next;return t.join(", ")}},{key:"toJSON",value:function(){return ra(this)}},{key:"nthCellUnsafe",value:function(t){if(t<=this._length>>1)var n=this.head,r="next";else n=this.tail,r="prev",t=this._length-t-1;for(;0<t--&&n;)n=n[r];return n}}]),e}(),oe=function(){function e(t,n){Za(this,e),n=Object.assign({maxlen:1/0,maxsize:1/0,map:function(){return new Map},ksize:function(){return 0},vsize:function(){return 0}},n),this.map=n.map(),this.items=new ZF,this._size=0,this.opts=n,t&&this.into(t)}return Nb(e,[{key:"length",get:function(){return this.items.length}},{key:"size",get:function(){return this._size}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"entries",value:function(){return Aj(function(t){return[t.k,t]},this.items)}},{key:"keys",value:function(){return Aj(function(t){return t.k},this.items)}},{key:"values",value:function(){return Aj(function(t){return t.v},this.items)}},{key:"copy",value:function(){var t=this.empty();t.items=this.items.copy();for(var n=t.items.head;n;)t.map.set(n.value.k,n),n=n.next;return t}},{key:"empty",value:function(){return new e(null,this.opts)}},{key:"release",value:function(){this._size=0,this.map.clear();var t=this.opts.release;if(t){for(var n;n=this.items.drop();)t(n.k,n.v);return!0}return this.items.release()}},{key:"has",value:function(t){return this.map.has(t)}},{key:"get",value:function(t,n){return(t=this.map.get(t))?this.resetEntry(t):n}},{key:"set",value:function(t,n){var r=this.opts.ksize(t)+this.opts.vsize(n),o=this.map.get(t);return this._size+=Math.max(0,r-(o?o.value.s:0)),this.ensureSize()&&this.doSetEntry(o,t,n,r),n}},{key:"into",value:function(t){for(var n=0;n<t.length;n++){var r=t[n];this.set(r[0],r[1])}return this}},{key:"getSet",value:function(t,n){var r=this,o=this.map.get(t);return o?Promise.resolve(this.resetEntry(o)):n().then(function(i){return r.set(t,i)})}},{key:"delete",value:function(t){return!!(t=this.map.get(t))&&(this.removeEntry(t),!0)}},{key:"resetEntry",value:function(t){return this.items.asTail(t),t.value.v}},{key:"ensureSize",value:function(){for(var t=this.opts.release,n=this.opts.maxsize,r=this.opts.maxlen;this._size>n||this.length>=r;){var o=this.items.drop();if(!o)return!1;this.map.delete(o.k),t&&t(o.k,o.v),this._size-=o.s}return!0}},{key:"removeEntry",value:function(t){var n=t.value;this.map.delete(n.k),this.items.remove(t),this.opts.release&&this.opts.release(n.k,n.v),this._size-=n.s}},{key:"doSetEntry",value:function(t,n,r,o){t?(t.value.v=r,t.value.s=o,this.items.asTail(t)):(this.items.push({k:n,v:r,s:o}),this.map.set(n,this.items.tail))}}]),e}(),$F=function(e){function t(r,o){return Za(this,t),o=Object.assign({ttl:36e5},o),n.call(this,r,o)}mb(t,e);var n=nb(t);return Nb(t,[{key:"empty",value:function(){return new t(null,this.opts)}},{key:"has",value:function(r){return this.get(r)!==void 0}},{key:"get",value:function(r,o){if(r=this.map.get(r)){if(r.value.t>=Date.now())return this.resetEntry(r);this.removeEntry(r)}return o}},{key:"set",value:function(r,o){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.opts.ttl,s=this.opts.ksize(r)+this.opts.vsize(o),l=this.map.get(r);return this._size+=Math.max(0,s-(l?l.value.s:0)),this.ensureSize()&&(i=Date.now()+i,l?(l.value.v=o,l.value.s=s,l.value.t=i,this.items.asTail(l)):(this.items.push({k:r,v:o,s,t:i}),this.map.set(r,this.items.tail))),o}},{key:"getSet",value:function(r,o){var i=this,s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.opts.ttl,l=this.get(r);return l?Promise.resolve(l):o().then(function(u){return i.set(r,u,s)})}},{key:"prune",value:function(){for(var r=Date.now(),o=this.items.head;o;)o.value.t<r&&this.removeEntry(o),o=o.next}},{key:"ensureSize",value:function(){for(var r=this.opts.maxsize,o=this.opts.maxlen,i=Date.now(),s=this.items.head;s&&(this._size>r||this.length>=o);)s.value.t<i&&this.removeEntry(s),s=s.next;return bm(Nf(t.prototype),"ensureSize",this).call(this)}}]),t}(oe),qv=Ka(pb)=="object"&&pb&&pb.Object===Object&&pb,aG=(typeof self>"u"?"undefined":Ka(self))=="object"&&self&&self.Object===Object&&self,cd=qv||aG||Function("return this")(),td=cd.Symbol,rv=Object.prototype,bG=rv.hasOwnProperty,cG=rv.toString,Vi=td?td.toStringTag:void 0,dG=Object.prototype.toString,sv=td?td.toStringTag:void 0,hg=function(e){if(e==null)e=e===void 0?"[object Undefined]":"[object Null]";else if(sv&&sv in Object(e)){var t=bG.call(e,Vi),n=e[Vi];try{e[Vi]=void 0;var r=!0}catch{}var o=cG.call(e);r&&(t?e[Vi]=n:delete e[Vi]),e=o}else e=dG.call(e);return e},Ic=function(e){var t=Ka(e);return e!=null&&(t=="object"||t=="function")},Am=function(e){return!!Ic(e)&&((e=hg(e))=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]")},vo=cd["__core-js_shared__"],tv=function(){var e=/[^.]+$/.exec(vo&&vo.keys&&vo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),eG=Function.prototype.toString,ig=function(e){if(e!=null){try{return eG.call(e)}catch{}return e+""}return""},fG=/^\[object .+?Constructor\]$/,gG=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jg=function(e,t){return e=e==null?void 0:e[t],!Ic(e)||tv&&tv in e||!(Am(e)?gG:fG).test(ig(e))?void 0:e},Wi=jg(Object,"create"),hG=Object.prototype.hasOwnProperty,iG=Object.prototype.hasOwnProperty;Pf.prototype.clear=function(){this.__data__=Wi?Wi(null):{},this.size=0},Pf.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Pf.prototype.get=function(e){var t=this.__data__;return Wi?(e=t[e])==="__lodash_hash_undefined__"?void 0:e:hG.call(t,e)?t[e]:void 0},Pf.prototype.has=function(e){var t=this.__data__;return Wi?t[e]!==void 0:iG.call(t,e)},Pf.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Wi&&t===void 0?"__lodash_hash_undefined__":t,this};var Xi=function(e,t){return e===t||e!=e&&t!=t},Lk=function(e,t){for(var n=e.length;n--;)if(Xi(e[n][0],t))return n;return-1},jG=Array.prototype.splice;Gg.prototype.clear=function(){this.__data__=[],this.size=0},Gg.prototype.delete=function(e){var t=this.__data__;return!(0>(e=Lk(t,e)))&&(e==t.length-1?t.pop():jG.call(t,e,1),--this.size,!0)},Gg.prototype.get=function(e){var t=this.__data__;return 0>(e=Lk(t,e))?void 0:t[e][1]},Gg.prototype.has=function(e){return-1<Lk(this.__data__,e)},Gg.prototype.set=function(e,t){var n=this.__data__,r=Lk(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this};var Cj=Gg,Yi=jg(cd,"Map"),Mk=function(e,t){e=e.__data__;var n=Ka(t);return(n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null)?e[typeof t=="string"?"string":"hash"]:e.map};Hg.prototype.clear=function(){this.size=0,this.__data__={hash:new Pf,map:new(Yi||Cj),string:new Pf}},Hg.prototype.delete=function(e){return e=Mk(this,e).delete(e),this.size-=e?1:0,e},Hg.prototype.get=function(e){return Mk(this,e).get(e)},Hg.prototype.has=function(e){return Mk(this,e).has(e)},Hg.prototype.set=function(e,t){var n=Mk(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var Bj=Hg;ai.prototype.add=ai.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ai.prototype.has=function(e){return this.__data__.has(e)};var uv=function(e,t,n,r){var o=e.length;for(n+=r?1:-1;r?n--:++n<o;)if(t(e[n],n,e))return n;return-1},kG=function(e){return e!=e},lG=function(e,t){var n;if(n=!(e==null||!e.length)){if(t==t)t:{n=-1;for(var r=e.length;++n<r;)if(e[n]===t){e=n;break t}e=-1}else e=uv(e,kG,0);n=-1<e}return n},mG=function(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1},nG=function(e,t){return e.has(t)},uh=jg(cd,"Set"),oG=function(){},wo=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},pG=1/0,qG=uh&&1/wo(new uh([,-0]))[1]==pG?function(e){return new uh(e)}:oG,xo=function(e,t,n){var r=-1,o=lG,i=e.length,s=!0,l=[],u=l;if(n)s=!1,o=mG;else if(200<=i){if(o=t?null:qG(e))return wo(o);s=!1,o=nG,u=new ai}else u=t?[]:l;t:for(;++r<i;){var f=e[r],h=t?t(f):f;if(f=n||f!==0?f:0,s&&h==h){for(var g=u.length;g--;)if(u[g]===h)continue t;t&&u.push(h),l.push(f)}else o(u,h,n)||(u!==l&&u.push(h),l.push(f))}return l},vv=function(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Lg=function(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};Ig.prototype.clear=function(){this.__data__=new Cj,this.size=0},Ig.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},Ig.prototype.get=function(e){return this.__data__.get(e)},Ig.prototype.has=function(e){return this.__data__.has(e)},Ig.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Cj){var r=n.__data__;if(!Yi||199>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Bj(r)}return n.set(e,t),this.size=n.size,this};var Kg=Ig,WA=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},Nk=function(){try{var e=jg(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Zi=function(e,t,n){t=="__proto__"&&Nk?Nk(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},rG=Object.prototype.hasOwnProperty,lr=function(e,t,n){var r=e[t];rG.call(e,t)&&Xi(r,n)&&(n!==void 0||t in e)||Zi(e,t,n)},Wg=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var l=t[i],u=r?r(n[l],e[l],l,n,e):void 0;u===void 0&&(u=e[l]),o?Zi(n,l,u):lr(n,l,u)}return n},Zd=function(e){return e!=null&&Ka(e)=="object"},wv=function(e){return Zd(e)&&hg(e)=="[object Arguments]"},xv=Object.prototype,sG=xv.hasOwnProperty,tG=xv.propertyIsEnumerable,ki=wv(function(){return arguments}())?wv:function(e){return Zd(e)&&sG.call(e,"callee")&&!tG.call(e,"callee")},mc=Array.isArray,uG=function(){return!1},ci=lc(function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e;t=n&&n.exports===t?cd.Buffer:void 0,e.exports=(t?t.isBuffer:void 0)||uG}),vG=/^(?:0|[1-9]\d*)$/,yo=function(e,t){var n=Ka(e);return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&vG.test(e))&&-1<e&&e%1==0&&e<t},zo=function(e){return typeof e=="number"&&-1<e&&e%1==0&&9007199254740991>=e},Gb={};Gb["[object Float32Array]"]=Gb["[object Float64Array]"]=Gb["[object Int8Array]"]=Gb["[object Int16Array]"]=Gb["[object Int32Array]"]=Gb["[object Uint8Array]"]=Gb["[object Uint8ClampedArray]"]=Gb["[object Uint16Array]"]=Gb["[object Uint32Array]"]=!0,Gb["[object Arguments]"]=Gb["[object Array]"]=Gb["[object ArrayBuffer]"]=Gb["[object Boolean]"]=Gb["[object DataView]"]=Gb["[object Date]"]=Gb["[object Error]"]=Gb["[object Function]"]=Gb["[object Map]"]=Gb["[object Number]"]=Gb["[object Object]"]=Gb["[object RegExp]"]=Gb["[object Set]"]=Gb["[object String]"]=Gb["[object WeakMap]"]=!1;var wG=function(e){return Zd(e)&&zo(e.length)&&!!Gb[hg(e)]},Ok=function(e){return function(t){return e(t)}},vh=lc(function(e,t){var n=t&&!t.nodeType&&t;n=(t=n&&e&&!e.nodeType&&e)&&t.exports===n&&qv.process;t:{try{var r=t&&t.require&&t.require("util").types;if(r){var o=r;break t}o=n&&n.binding&&n.binding("util");break t}catch{}o=void 0}e.exports=o}),yv=vh&&vh.isTypedArray,km=yv?Ok(yv):wG,xG=Object.prototype.hasOwnProperty,zv=function(e,t){var n=mc(e),r=!n&&ki(e),o=!n&&!r&&ci(e),i=!n&&!r&&!o&&km(e);if(n=n||r||o||i){r=e.length;for(var s=String,l=-1,u=Array(r);++l<r;)u[l]=s(l);r=u}else r=[];for(var f in s=r.length,e)!t&&!xG.call(e,f)||n&&(f=="length"||o&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||yo(f,s))||r.push(f);return r},yG=Object.prototype,Ao=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||yG)},Av=function(e,t){return function(n){return e(t(n))}},zG=Av(Object.keys,Object),AG=Object.prototype.hasOwnProperty,Vf=function(e){return e!=null&&zo(e.length)&&!Am(e)},Qf=function(e){if(Vf(e))e=zv(e);else if(Ao(e)){var t,n=[];for(t in Object(e))AG.call(e,t)&&t!="constructor"&&n.push(t);e=n}else e=zG(e);return e},SA=function(e,t){return e&&Wg(t,Qf(t),e)},BG=Object.prototype.hasOwnProperty,di=function(e){if(Vf(e))e=zv(e,!0);else if(Ic(e)){var t=Ao(e),n=[];for(r in e)(r!="constructor"||!t&&BG.call(e,r))&&n.push(r);e=n}else{var r=[];if(e!=null)for(t in Object(e))r.push(t);e=r}return e},QA=function(e,t){return e&&Wg(t,di(t),e)},ir=lc(function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e,r=(t=n&&n.exports===t?cd.Buffer:void 0)?t.allocUnsafe:void 0;e.exports=function(o,i){return i?o.slice():(i=o.length,i=r?r(i):new o.constructor(i),o.copy(i),i)}}),fm=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},CG=function(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i},Bv=function(){return[]},DG=Object.prototype.propertyIsEnumerable,Cv=Object.getOwnPropertySymbols,Bo=Cv?function(e){return e==null?[]:(e=Object(e),CG(Cv(e),function(t){return DG.call(e,t)}))}:Bv,RA=function(e,t){return Wg(e,Bo(e),t)},jm=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Co=Av(Object.getPrototypeOf,Object),Dv=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)jm(t,Bo(e)),e=Co(e);return t}:Bv,PA=function(e,t){return Wg(e,Dv(e),t)},Ev=function(e,t,n){return t=t(e),mc(e)?t:jm(t,n(e))},gm=function(e){return Ev(e,Qf,Bo)},kr=function(e){return Ev(e,di,Dv)},Do=jg(cd,"DataView"),Eo=jg(cd,"Promise"),Fo=jg(cd,"WeakMap"),EG=ig(Do),FG=ig(Yi),GG=ig(Eo),HG=ig(uh),IG=ig(Fo),kg=hg;(Do&&kg(new Do(new ArrayBuffer(1)))!="[object DataView]"||Yi&&kg(new Yi)!="[object Map]"||Eo&&kg(Eo.resolve())!="[object Promise]"||uh&&kg(new uh)!="[object Set]"||Fo&&kg(new Fo)!="[object WeakMap]")&&(kg=function(e){var t=hg(e);if(e=(e=t=="[object Object]"?e.constructor:void 0)?ig(e):"")switch(e){case EG:return"[object DataView]";case FG:return"[object Map]";case GG:return"[object Promise]";case HG:return"[object Set]";case IG:return"[object WeakMap]"}return t});var bi=kg,JG=Object.prototype.hasOwnProperty,OA=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&JG.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Pk=cd.Uint8Array,Go=function(e){var t=new e.constructor(e.byteLength);return new Pk(t).set(new Pk(e)),t},KG=/\w*$/,Fv=td?td.prototype:void 0,Gv=Fv?Fv.valueOf:void 0,Wr=function(e,t){return t=t?Go(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)},TA=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Go(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return t=n?Go(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Wr(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return(t=new e.constructor(e.source,KG.exec(e))).lastIndex=e.lastIndex,t;case"[object Set]":return new r;case"[object Symbol]":return Gv?Object(Gv.call(e)):{}}},Hv=Object.create,LG=function(){function e(){}return function(t){return Ic(t)?Hv?Hv(t):(e.prototype=t,t=new e,e.prototype=void 0,t):{}}}(),jr=function(e){return typeof e.constructor!="function"||Ao(e)?{}:LG(Co(e))},MG=function(e){return Zd(e)&&bi(e)=="[object Map]"},Iv=vh&&vh.isMap,VA=Iv?Ok(Iv):MG,NG=function(e){return Zd(e)&&bi(e)=="[object Set]"},Jv=vh&&vh.isSet,UA=Jv?Ok(Jv):NG,xb={};xb["[object Arguments]"]=xb["[object Array]"]=xb["[object ArrayBuffer]"]=xb["[object DataView]"]=xb["[object Boolean]"]=xb["[object Date]"]=xb["[object Float32Array]"]=xb["[object Float64Array]"]=xb["[object Int8Array]"]=xb["[object Int16Array]"]=xb["[object Int32Array]"]=xb["[object Map]"]=xb["[object Number]"]=xb["[object Object]"]=xb["[object RegExp]"]=xb["[object Set]"]=xb["[object String]"]=xb["[object Symbol]"]=xb["[object Uint8Array]"]=xb["[object Uint8ClampedArray]"]=xb["[object Uint16Array]"]=xb["[object Uint32Array]"]=!0,xb["[object Error]"]=xb["[object Function]"]=xb["[object WeakMap]"]=!1;var Mg=function(e){return Ka(e)=="symbol"||Zd(e)&&hg(e)=="[object Symbol]"},OG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PG=/^\w*$/,Ho=function(e,t){if(mc(e))return!1;var n=Ka(e);return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!Mg(e))||PG.test(e)||!OG.test(e)||t!=null&&e in Object(t)};hm.Cache=Bj;var QG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RG=/\\(\\)?/g,SG=function(e){var t=(e=hm(e,function(n){return t.size===500&&t.clear(),n})).cache;return e}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(QG,function(n,r,o,i){t.push(o?i.replace(RG,"$1"):r||n)}),t}),XA=1/0,Kv=td?td.prototype:void 0,nr=Kv?Kv.toString:void 0,Qk=function(e,t){return mc(e)?e:Ho(e,t)?[e]:SG(e==null?"":mr(e))},TG=1/0,$i=function(e){if(typeof e=="string"||Mg(e))return e;var t=e+"";return t=="0"&&1/e==-TG?"-0":t},Rk=function(e,t){for(var n=0,r=(t=Qk(t,e)).length;e!=null&&n<r;)e=e[$i(t[n++])];return n&&n==r?e:void 0},UG=function(e,t){if(!(2>(t=Qk(t,e)).length)){var n=t,r=0,o=-1,i=-1,s=n.length;for(0>r&&(r=-r>s?0:s+r),0>(o=o>s?s:o)&&(o+=s),s=r>o?0:o-r>>>0,r>>>=0,o=Array(s);++i<s;)o[i]=n[i+r];e=Rk(e,o)}return(n=e==null)||(n=t==null?0:t.length,n=delete e[$i(n?t[n-1]:void 0)]),n},Lv=Function.prototype.toString,VG=Object.prototype.hasOwnProperty,WG=Lv.call(Object),Xr=function(e){return!(!Zd(e)||hg(e)!="[object Object]")&&((e=Co(e))===null||typeof(e=VG.call(e,"constructor")&&e.constructor)=="function"&&e instanceof e&&Lv.call(e)==WG)},XG=function(e){return Xr(e)?void 0:e},Mv=td?td.isConcatSpreadable:void 0,YA=function(e){return mc(e)||ki(e)||!!(Mv&&e&&e[Mv])},YG=function(e){return e!=null&&e.length?im(e,1):[]},ZG=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Nv=Math.max,Ov=function(e,t,n){return t=Nv(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Nv(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];for(o=-1,i=Array(t+1);++o<t;)i[o]=r[o];return i[t]=n(s),ZG(e,this,i)}},$G=function(e){return function(){return e}},Sk=function(e){return e},aH=Date.now,Pv=function(e){var t=0,n=0;return function(){var r=aH(),o=16-(r-n);if(n=r,0<o){if(800<=++t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Nk?function(e,t){return Nk(e,"toString",{configurable:!0,enumerable:!1,value:$G(t),writable:!0})}:Sk),Io=function(e){return Pv(Ov(e,void 0,YG),e+"")}(function(e,t){var n={};if(e==null)return n;var r=!1;t=Lg(t,function(i){return i=Qk(i,e),r||(r=1<i.length),i}),Wg(e,kr(e),n),r&&(n=Jg(n,7,XG));for(var o=t.length;o--;)UG(n,t[o]);return n}),bH=function(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r},Vr=function(e,t,n){for(var r=-1,o=Object(e),i=(n=n(e)).length;i--;){var s=n[++r];if(t(o[s],s,o)===!1)break}return e},Qv=function(e,t){return e&&Vr(e,t,Qf)},Jo=function(e,t){return function(n,r){if(n==null)return n;if(!Vf(n))return e(n,r);for(var o=n.length,i=-1,s=Object(n);++i<o&&r(s[i],i,s)!==!1;);return n}}(Qv),cH=function(e,t,n,r){return Jo(e,function(o,i,s){t(r,o,n(o),s)}),r},Rv=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},or=function(e,t,n,r,o,i){var s=1&n,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;u=i.get(e);var f=i.get(t);if(u&&f)return u==t&&f==e;u=-1,f=!0;var h=2&n?new ai:void 0;for(i.set(e,t),i.set(t,e);++u<l;){var g=e[u],y=t[u];if(r)var m=s?r(y,g,u,t,e,i):r(g,y,u,e,t,i);if(m!==void 0){if(m)continue;f=!1;break}if(h){if(!Rv(t,function(R,A){if(!h.has(A)&&(g===R||o(g,R,n,r,i)))return h.push(A)})){f=!1;break}}else if(g!==y&&!o(g,y,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f},dH=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n},Sv=td?td.prototype:void 0,Ko=Sv?Sv.valueOf:void 0,ZA=function(e,t,n,r,o,i,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new Pk(e),new Pk(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Xi(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=dH;case"[object Set]":if(l||(l=wo),e.size!=t.size&&!(1&r))break;return(n=s.get(e))?n==t:(r|=2,s.set(e,t),t=or(l(e),l(t),r,o,i,s),s.delete(e),t);case"[object Symbol]":if(Ko)return Ko.call(e)==Ko.call(t)}return!1},$A=Object.prototype.hasOwnProperty,pr=Object.prototype.hasOwnProperty,eH=function(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var l=n[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var u=(l=n[o])[0],f=e[u],h=l[1];if(s&&l[2]){if(f===void 0&&!(u in e))return!1}else{if(l=new Kg,r)var g=r(f,h,u,e,t,l);if(g===void 0?!Ng(h,f,3,r,l):!g)return!1}}return!0},fH=function(e){for(var t=Qf(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,o==o&&!Ic(o)]}return t},Tv=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},gH=function(e){var t=fH(e);return t.length==1&&t[0][2]?Tv(t[0][0],t[0][1]):function(n){return n===e||eH(n,e,t)}},hH=function(e,t){return Ho(e)&&t==t&&!Ic(t)?Tv($i(e),t):function(n){var r=n==null?void 0:Rk(n,e);if((r=r===void 0?void 0:r)===void 0&&r===t){if(r=n!=null){for(var o=-1,i=(r=Qk(r=e,n)).length,s=!1;++o<i;){var l=$i(r[o]);if(!(s=n!=null&&n!=null&&l in Object(n)))break;n=n[l]}s||++o!=i?r=s:r=!!(i=n==null?0:n.length)&&zo(i)&&yo(l,i)&&(mc(n)||ki(n))}l=r}else l=Ng(t,r,3);return l}},iH=function(e){return function(t){return t==null?void 0:t[e]}},jH=function(e){return function(t){return Rk(t,e)}},wh=function(e){return typeof e=="function"?e:e==null?Sk:Ka(e)=="object"?mc(e)?hH(e[0],e[1]):gH(e):Ho(e)?iH($i(e)):jH(e)},Lo=function(e,t){return function(n,r){var o={};return(mc(n)?bH:cH)(n,e,wh(r),o)}}(function(e,t,n){Zi(e,n,t)}),Ke=function(e,t){var n={};return t=wh(t),Qv(e,function(r,o,i){Zi(n,o,t(r,o,i))}),n};xa({target:"String",proto:!0,forced:Ha(function(){var e="".sub('"');return e!==e.toLowerCase()||3<e.split('"').length})},{sub:function(){return"<sub>"+String(Dc(this))+"</sub>"}});var U=yb,ud=null;try{ud=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}yb.prototype.__isLong__,Object.defineProperty(yb.prototype,"__isLong__",{value:!0}),yb.isLong=Jc;var rr={},qr={};yb.fromInt=Rf,yb.fromNumber=md,yb.fromBits=zb;var Dj=Math.pow;yb.fromString=lm,yb.fromValue=Id;var Og=4294967296,sr=Og*Og,ur=sr/2,Uv=Rf(16777216),nd=Rf(0);yb.ZERO=nd;var Sf=Rf(0,!0);yb.UZERO=Sf;var xh=Rf(1);yb.ONE=xh;var Vv=Rf(1,!0);yb.UONE=Vv;var Mo=Rf(-1);yb.NEG_ONE=Mo;var vr=zb(-1,2147483647,!1);yb.MAX_VALUE=vr;var tr=zb(-1,-1,!0);yb.MAX_UNSIGNED_VALUE=tr;var Kc=zb(0,-2147483648,!1);yb.MIN_VALUE=Kc;var sa=yb.prototype;sa.toInt=function(){return this.unsigned?this.low>>>0:this.low},sa.toNumber=function(){return this.unsigned?(this.high>>>0)*Og+(this.low>>>0):this.high*Og+(this.low>>>0)},sa.toString=function(e){if(2>(e=e||10)||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Kc)){var t=md(e),n=this.div(t);return t=n.mul(t).sub(this),n.toString(e)+t.toInt().toString(e)}return"-"+this.neg().toString(e)}n=md(Dj(e,6),this.unsigned),t=this;for(var r="";;){var o=t.div(n),i=(t.sub(o.mul(n)).toInt()>>>0).toString(e);if((t=o).isZero())return i+r;for(;6>i.length;)i="0"+i;r=""+i+r}},sa.getHighBits=function(){return this.high},sa.getHighBitsUnsigned=function(){return this.high>>>0},sa.getLowBits=function(){return this.low},sa.getLowBitsUnsigned=function(){return this.low>>>0},sa.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Kc)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;0<t&&(e&1<<t)==0;t--);return this.high!=0?t+33:t+1},sa.isZero=function(){return this.high===0&&this.low===0},sa.eqz=sa.isZero,sa.isNegative=function(){return!this.unsigned&&0>this.high},sa.isPositive=function(){return this.unsigned||0<=this.high},sa.isOdd=function(){return(1&this.low)==1},sa.isEven=function(){return(1&this.low)==0},sa.equals=function(e){return Jc(e)||(e=Id(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},sa.eq=sa.equals,sa.notEquals=function(e){return!this.eq(e)},sa.neq=sa.notEquals,sa.ne=sa.notEquals,sa.lessThan=function(e){return 0>this.comp(e)},sa.lt=sa.lessThan,sa.lessThanOrEqual=function(e){return 0>=this.comp(e)},sa.lte=sa.lessThanOrEqual,sa.le=sa.lessThanOrEqual,sa.greaterThan=function(e){return 0<this.comp(e)},sa.gt=sa.greaterThan,sa.greaterThanOrEqual=function(e){return 0<=this.comp(e)},sa.gte=sa.greaterThanOrEqual,sa.ge=sa.greaterThanOrEqual,sa.compare=function(e){if(Jc(e)||(e=Id(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},sa.comp=sa.compare,sa.negate=function(){return!this.unsigned&&this.eq(Kc)?Kc:this.not().add(xh)},sa.neg=sa.negate,sa.add=function(e){Jc(e)||(e=Id(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=e.high>>>16,i=65535&e.high,s=e.low>>>16;return r=(s=((e=(65535&this.low)+(65535&e.low))>>>16)+(r+s))>>>16,zb((65535&s)<<16|65535&e,(t=((r+=n+i)>>>16)+(t+o)&65535)<<16|65535&r,this.unsigned)},sa.subtract=function(e){return Jc(e)||(e=Id(e)),this.add(e.neg())},sa.sub=sa.subtract,sa.multiply=function(e){if(this.isZero())return nd;if(Jc(e)||(e=Id(e)),ud){var t=ud.mul(this.low,this.high,e.low,e.high);return zb(t,ud.get_high(),this.unsigned)}if(e.isZero())return nd;if(this.eq(Kc))return e.isOdd()?Kc:nd;if(e.eq(Kc))return this.isOdd()?Kc:nd;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Uv)&&e.lt(Uv))return md(this.toNumber()*e.toNumber(),this.unsigned);t=this.high>>>16;var n=65535&this.high,r=this.low>>>16,o=65535&this.low,i=e.high>>>16,s=65535&e.high,l=e.low>>>16,u=o*(e=65535&e.low),f=(u>>>16)+r*e,h=f>>>16;h+=(f=(65535&f)+o*l)>>>16;var g=(h+=n*e)>>>16;return zb((65535&f)<<16|65535&u,(g=(g+=(h=(65535&h)+r*l)>>>16)+((h=(65535&h)+o*s)>>>16)+(t*e+n*l+r*s+o*i)&65535)<<16|65535&h,this.unsigned)},sa.mul=sa.multiply,sa.divide=function(e){if(Jc(e)||(e=Id(e)),e.isZero())throw Error("division by zero");if(ud)return this.unsigned||this.high!==-2147483648||e.low!==-1||e.high!==-1?zb(e=(this.unsigned?ud.div_u:ud.div_s)(this.low,this.high,e.low,e.high),ud.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Sf:nd;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Sf;if(e.gt(this.shru(1)))return Vv;var t=Sf}else{if(this.eq(Kc)){if(e.eq(xh)||e.eq(Mo))return Kc;if(e.eq(Kc))return xh;var n=this.shr(1).div(e).shl(1);if(n.eq(nd))return e.isNegative()?xh:Mo;var r=this.sub(e.mul(n));return n.add(r.div(e))}if(e.eq(Kc))return this.unsigned?Sf:nd;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();t=nd}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));var o=Math.ceil(Math.log(n)/Math.LN2);o=48>=o?1:Dj(2,o-48);for(var i=md(n),s=i.mul(e);s.isNegative()||s.gt(r);)s=(i=md(n-=o,this.unsigned)).mul(e);i.isZero()&&(i=xh),t=t.add(i),r=r.sub(s)}return t},sa.div=sa.divide,sa.modulo=function(e){return Jc(e)||(e=Id(e)),ud?zb(e=(this.unsigned?ud.rem_u:ud.rem_s)(this.low,this.high,e.low,e.high),ud.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},sa.mod=sa.modulo,sa.rem=sa.modulo,sa.not=function(){return zb(~this.low,~this.high,this.unsigned)},sa.and=function(e){return Jc(e)||(e=Id(e)),zb(this.low&e.low,this.high&e.high,this.unsigned)},sa.or=function(e){return Jc(e)||(e=Id(e)),zb(this.low|e.low,this.high|e.high,this.unsigned)},sa.xor=function(e){return Jc(e)||(e=Id(e)),zb(this.low^e.low,this.high^e.high,this.unsigned)},sa.shiftLeft=function(e){return Jc(e)&&(e=e.toInt()),(e&=63)==0?this:32>e?zb(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):zb(0,this.low<<e-32,this.unsigned)},sa.shl=sa.shiftLeft,sa.shiftRight=function(e){return Jc(e)&&(e=e.toInt()),(e&=63)==0?this:32>e?zb(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):zb(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},sa.shr=sa.shiftRight,sa.shiftRightUnsigned=function(e){if(Jc(e)&&(e=e.toInt()),(e&=63)===0)return this;var t=this.high;return 32>e?zb(this.low>>>e|t<<32-e,t>>>e,this.unsigned):zb(e===32?t:t>>>e-32,0,this.unsigned)},sa.shru=sa.shiftRightUnsigned,sa.shr_u=sa.shiftRightUnsigned,sa.toSigned=function(){return this.unsigned?zb(this.low,this.high,!1):this},sa.toUnsigned=function(){return this.unsigned?this:zb(this.low,this.high,!0)},sa.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},sa.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},sa.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},yb.fromBytes=function(e,t,n){return n?yb.fromBytesLE(e,t):yb.fromBytesBE(e,t)},yb.fromBytesLE=function(e,t){return new yb(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},yb.fromBytesBE=function(e,t){return new yb(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var mm=function(e,t){return(mm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])})(e,t)},No=!1,od={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e?console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+Error().stack):No&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),No=e},get useDeprecatedSynchronousErrorHandling(){return No}},Tk={closed:!0,next:function(e){},error:function(e){if(od.useDeprecatedSynchronousErrorHandling)throw e;Qg(e)},complete:function(){}},pd=Array.isArray||function(e){return e&&typeof e.length=="number"},ei=function(){function e(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e}(),cc=function(){function e(t){this.closed=!1,this._subscriptions=this._parentOrParents=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return e.prototype.unsubscribe=function(){if(!this.closed){var t=this._parentOrParents,n=this._ctorUnsubscribe,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,t instanceof e)t.remove(this);else if(t!==null)for(var i=0;i<t.length;++i)t[i].remove(this);if(Pg(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(l){var s=l instanceof ei?wr(l.errors):[l]}}if(pd(o)){for(i=-1,t=o.length;++i<t;)if(nm(n=o[i]))try{n.unsubscribe()}catch(l){s=s||[],l instanceof ei?s=s.concat(wr(l.errors)):s.push(l)}}if(s)throw new ei(s)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(Ka(t)){case"function":n=new e(t);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;n instanceof e||(t=n,(n=new e)._subscriptions=[t]);break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}if((t=n._parentOrParents)===null)n._parentOrParents=this;else if(t instanceof e){if(t===this)return n;n._parentOrParents=[t,this]}else{if(t.indexOf(this)!==-1)return n;t.push(this)}return(t=this._subscriptions)===null?this._subscriptions=[n]:t.push(n),n},e.prototype.remove=function(t){var n=this._subscriptions;n&&(t=n.indexOf(t))!==-1&&n.splice(t,1)},e.EMPTY=function(t){return t.closed=!0,t}(new e),e}(),Uk=typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),fb=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=Tk;break;case 1:if(!n){i.destination=Tk;break}if(Ka(n)==="object"){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new Wv(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new Wv(i,n,r,o)}return i}return Ca(t,e),t.prototype[Uk]=function(){return this},t.create=function(n,r,o){return(n=new t(n,r,o)).syncErrorThrowable=!1,n},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.isStopped=this.closed=!1,this._parentOrParents=n,this},t}(cc),Wv=function(e){function t(n,r,o,i){var s=e.call(this)||this;if(s._parentSubscriber=n,n=s,Pg(r))var l=r;else r&&(l=r.next,o=r.error,i=r.complete,r!==Tk&&(Pg((n=Object.create(r)).unsubscribe)&&s.add(n.unsubscribe.bind(n)),n.unsubscribe=s.unsubscribe.bind(s)));return s._context=n,s._next=l,s._error=o,s._complete=i,s}return Ca(t,e),t.prototype.next=function(n){if(!this.isStopped&&this._next){var r=this._parentSubscriber;od.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,n)&&this.unsubscribe():this.__tryOrUnsub(this._next,n)}},t.prototype.error=function(n){if(!this.isStopped){var r=this._parentSubscriber,o=od.useDeprecatedSynchronousErrorHandling;if(this._error)o&&r.syncErrorThrowable?this.__tryOrSetError(r,this._error,n):this.__tryOrUnsub(this._error,n),this.unsubscribe();else if(r.syncErrorThrowable)o?(r.syncErrorValue=n,r.syncErrorThrown=!0):Qg(n),this.unsubscribe();else{if(this.unsubscribe(),o)throw n;Qg(n)}}},t.prototype.complete=function(){var n=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var o=function(){return n._complete.call(n._context)};od.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,o):this.__tryOrUnsub(o)}this.unsubscribe()}},t.prototype.__tryOrUnsub=function(n,r){try{n.call(this._context,r)}catch(o){if(this.unsubscribe(),od.useDeprecatedSynchronousErrorHandling)throw o;Qg(o)}},t.prototype.__tryOrSetError=function(n,r,o){if(!od.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{r.call(this._context,o)}catch(i){return od.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=i,n.syncErrorThrown=!0):Qg(i),!0}return!1},t.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._parentSubscriber=this._context=null,n.unsubscribe()},t}(fb),Rg=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ya=function(){function e(t){this._isScalar=!1,t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this.operator;t:{if(t){if(t instanceof fb)break t;if(t[Uk]){t=t[Uk]();break t}}t=t||n||r?new fb(t,n,r):new fb(Tk)}if(o?t.add(o.call(t,this.source)):t.add(this.source||od.useDeprecatedSynchronousErrorHandling&&!t.syncErrorThrowable?this._subscribe(t):this._trySubscribe(t)),od.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable&&(t.syncErrorThrowable=!1,t.syncErrorThrown))throw t.syncErrorValue;return t},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){od.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),om(t)?t.error(n):console.warn(n)}},e.prototype.forEach=function(t,n){var r=this;return new(n=yr(n))(function(o,i){var s=r.subscribe(function(l){try{t(l)}catch(u){i(u),s&&s.unsubscribe()}},i,o)})},e.prototype._subscribe=function(t){var n=this.source;return n&&n.subscribe(t)},e.prototype[Rg]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===0?this:xr(t)(this)},e.prototype.toPromise=function(t){var n=this;return new(t=yr(t))(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}(),vf=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),Xv=function(e){function t(n,r){var o=e.call(this)||this;return o.subject=n,o.subscriber=r,o.closed=!1,o}return Ca(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,r=n.observers;this.subject=null,!r||r.length===0||n.isStopped||n.closed||(n=r.indexOf(this.subscriber))!==-1&&r.splice(n,1)}},t}(cc),Yv=function(e){function t(n){var r=e.call(this,n)||this;return r.destination=n,r}return Ca(t,e),t}(fb),ec=function(e){function t(){var n=e.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return Ca(t,e),t.prototype[Uk]=function(){return new Yv(this)},t.prototype.lift=function(n){var r=new Zv(this,this);return r.operator=n,r},t.prototype.next=function(n){if(this.closed)throw new vf;if(!this.isStopped){var r=this.observers,o=r.length;r=r.slice();for(var i=0;i<o;i++)r[i].next(n)}},t.prototype.error=function(n){if(this.closed)throw new vf;this.hasError=!0,this.thrownError=n,this.isStopped=!0;var r=this.observers,o=r.length;r=r.slice();for(var i=0;i<o;i++)r[i].error(n);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new vf;this.isStopped=!0;var n=this.observers,r=n.length;n=n.slice();for(var o=0;o<r;o++)n[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.closed=this.isStopped=!0,this.observers=null},t.prototype._trySubscribe=function(n){if(this.closed)throw new vf;return e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){if(this.closed)throw new vf;return this.hasError?(n.error(this.thrownError),cc.EMPTY):this.isStopped?(n.complete(),cc.EMPTY):(this.observers.push(n),new Xv(this,n))},t.prototype.asObservable=function(){var n=new Ya;return n.source=this,n},t.create=function(n,r){return new Zv(n,r)},t}(Ya),Zv=function(e){function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return Ca(t,e),t.prototype.next=function(n){var r=this.destination;r&&r.next&&r.next(n)},t.prototype.error=function(n){var r=this.destination;r&&r.error&&this.destination.error(n)},t.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},t.prototype._subscribe=function(n){return this.source?this.source.subscribe(n):cc.EMPTY},t}(ec),aB=function(){function e(t){this.connectable=t}return e.prototype.call=function(t,n){var r=this.connectable;return r._refCount++,t=new kH(t,r),n=n.subscribe(t),t.closed||(t.connection=r.connect()),n},e}(),kH=function(e){function t(n,r){return(n=e.call(this,n)||this).connectable=r,n}return Ca(t,e),t.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var r=n._refCount;0>=r?this.connection=null:(n._refCount=r-1,1<r?this.connection=null:(r=this.connection,n=n._connection,this.connection=null,!n||r&&n!==r||n.unsubscribe()))}else this.connection=null},t}(fb),$v=function(e){function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._refCount=0,o._isComplete=!1,o}return Ca(t,e),t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return n&&!n.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,(n=this._connection=new cc).add(this.source.subscribe(new lH(this.getSubject(),this))),n.closed&&(this._connection=null,n=cc.EMPTY)),n},t.prototype.refCount=function(){return zr()(this)},t}(Ya),PB=function(){var e=$v.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),lH=function(e){function t(n,r){return(n=e.call(this,n)||this).connectable=r,n}return Ca(t,e),t.prototype._error=function(n){this._unsubscribe(),e.prototype._error.call(this,n)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var r=n._connection;n._refCount=0,n._subject=null,n._connection=null,r&&r.unsubscribe()}},t}(Yv);(function(e){function t(n,r){return(n=e.call(this,n)||this).connectable=r,n}Ca(t,e),t.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var r=n._refCount;0>=r?this.connection=null:(n._refCount=r-1,1<r?this.connection=null:(r=this.connection,n=n._connection,this.connection=null,!n||r&&n!==r||n.unsubscribe()))}else this.connection=null}})(fb),function(e){function t(n,r,o,i,s){return(n=e.call(this,n)||this).keySelector=r,n.elementSelector=o,n.durationSelector=i,n.subjectSelector=s,n.groups=null,n.attemptedToUnsubscribe=!1,n.count=0,n}Ca(t,e),t.prototype._next=function(n){try{var r=this.keySelector(n)}catch(o){return void this.error(o)}this._group(n,r)},t.prototype._group=function(n,r){var o=this.groups;o||(o=this.groups=new Map);var i=o.get(r);if(this.elementSelector)try{var s=this.elementSelector(n)}catch(l){this.error(l)}else s=n;if(!i&&(i=this.subjectSelector?this.subjectSelector():new ec,o.set(r,i),n=new Oo(r,i,this),this.destination.next(n),this.durationSelector)){n=void 0;try{n=this.durationSelector(new Oo(r,i))}catch(l){return void this.error(l)}this.add(n.subscribe(new mH(r,i,this)))}i.closed||i.next(s)},t.prototype._error=function(n){var r=this.groups;r&&(r.forEach(function(o,i){o.error(n)}),r.clear()),this.destination.error(n)},t.prototype._complete=function(){var n=this.groups;n&&(n.forEach(function(r,o){r.complete()}),n.clear()),this.destination.complete()},t.prototype.removeGroup=function(n){this.groups.delete(n)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&e.prototype.unsubscribe.call(this))}}(fb);var mH=function(e){function t(n,r,o){var i=e.call(this,r)||this;return i.key=n,i.group=r,i.parent=o,i}return Ca(t,e),t.prototype._next=function(n){this.complete()},t.prototype._unsubscribe=function(){var n=this.parent,r=this.key;this.key=this.parent=null,n&&n.removeGroup(r)},t}(fb),Oo=function(e){function t(n,r,o){var i=e.call(this)||this;return i.key=n,i.groupSubject=r,i.refCountSubscription=o,i}return Ca(t,e),t.prototype._subscribe=function(n){var r=new cc,o=this.refCountSubscription,i=this.groupSubject;return o&&!o.closed&&r.add(new nH(o)),r.add(i.subscribe(n)),r},t}(Ya),nH=function(e){function t(n){var r=e.call(this)||this;return r.parent=n,n.count++,r}return Ca(t,e),t.prototype.unsubscribe=function(){var n=this.parent;n.closed||this.closed||(e.prototype.unsubscribe.call(this),--n.count,n.count===0&&n.attemptedToUnsubscribe&&n.unsubscribe())},t}(cc),oH=function(e){function t(n){var r=e.call(this)||this;return r._value=n,r}return Ca(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new vf;return this._value},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(ec),aj=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return Ca(t,e),t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n,n=this.id;var o=this.scheduler;return n!=null&&(this.id=this.recycleAsyncId(o,n,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!==null&&this.delay===o&&this.pending===!1)return r;clearInterval(r)},t.prototype.execute=function(n,r){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(n=this._execute(n,r))?n:void(this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(n,r){r=!1;var o=void 0;try{this.work(n)}catch(i){r=!0,o=!!i&&i||Error(i)}if(r)return this.unsubscribe(),o},t.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,o=r.actions,i=o.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,i!==-1&&o.splice(i,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},t}(function(e){function t(n,r){return e.call(this)||this}return Ca(t,e),t.prototype.schedule=function(n,r){return this},t}(cc)),pH=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return Ca(t,e),t.prototype.schedule=function(n,r){return r===void 0&&(r=0),0<r?e.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},t.prototype.execute=function(n,r){return 0<r||this.closed?e.prototype.execute.call(this,n,r):this._execute(n,r)},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&0<o||o===null&&0<this.delay?e.prototype.requestAsyncId.call(this,n,r,o):n.flush(this)},t}(aj),Po=function(){function e(t,n){n===void 0&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,t).schedule(r,n)},e.now=function(){return Date.now()},e}(),bj=function(e){function t(n,r){r===void 0&&(r=Po.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return Ca(t,e),t.prototype.schedule=function(n,r,o){return r===void 0&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(n){var r=this.actions;if(this.active)r.push(n);else{var o;this.active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}}},t}(Po),cj=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ca(t,e),t}(bj))(pH),Wc=new Ya(function(e){return e.complete()}),Ar=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},Qo;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(Qo||(Qo={}));var yh=function(){function e(t,n,r){this.kind=t,this.value=n,this.error=r,this.hasValue=t==="N"}return e.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},e.prototype.do=function(t,n,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}},e.prototype.accept=function(t,n,r){return t&&typeof t.next=="function"?this.observe(t):this.do(t,n,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return dc(this.value);case"E":return Ua(this.error);case"C":return fi()}throw Error("unexpected notification kind value")},e.createNext=function(t){return t!==void 0?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),eB=function(){function e(t,n){n===void 0&&(n=0),this.scheduler=t,this.delay=n}return e.prototype.call=function(t,n){return n.subscribe(new aw(t,this.scheduler,this.delay))},e}(),aw=function(e){function t(n,r,o){return o===void 0&&(o=0),(n=e.call(this,n)||this).scheduler=r,n.delay=o,n}return Ca(t,e),t.dispatch=function(n){n.notification.observe(n.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(n){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new qH(n,this.destination)))},t.prototype._next=function(n){this.scheduleMessage(yh.createNext(n))},t.prototype._error=function(n){this.scheduleMessage(yh.createError(n)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(yh.createComplete()),this.unsubscribe()},t}(fb),qH=function(e,t){this.notification=e,this.destination=t},Vg=function(e){function t(n,r,o){n===void 0&&(n=Number.POSITIVE_INFINITY),r===void 0&&(r=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=o,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=1>n?1:n,i._windowTime=1>r?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return Ca(t,e),t.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}e.prototype.next.call(this,n)},t.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new rH(this._getNow(),n)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){var r=this._infiniteTimeWindow,o=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=o.length;if(this.closed)throw new vf;if(this.isStopped||this.hasError)var l=cc.EMPTY;else this.observers.push(n),l=new Xv(this,n);if(i&&n.add(n=new aw(n,i)),r)for(r=0;r<s&&!n.closed;r++)n.next(o[r]);else for(r=0;r<s&&!n.closed;r++)n.next(o[r].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),l},t.prototype._getNow=function(){return(this.scheduler||cj).now()},t.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),r=this._bufferSize,o=this._windowTime,i=this._events,s=i.length,l=0;l<s&&!(n-i[l].time<o);)l++;return s>r&&(l=Math.max(l,s-r)),0<l&&i.splice(0,l),i},t}(ec),rH=function(e,t){this.time=e,this.value=t},hi=function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.value=null,n.hasNext=!1,n.hasCompleted=!1,n}return Ca(t,e),t.prototype._subscribe=function(n){return this.hasError?(n.error(this.thrownError),cc.EMPTY):this.hasCompleted&&this.hasNext?(n.next(this.value),n.complete(),cc.EMPTY):e.prototype._subscribe.call(this,n)},t.prototype.next=function(n){this.hasCompleted||(this.value=n,this.hasNext=!0)},t.prototype.error=function(n){this.hasCompleted||e.prototype.error.call(this,n)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(ec),sH=1,tH=Promise.resolve(),rm={},bw={setImmediate:function(e){var t=sH++;return rm[t]=!0,tH.then(function(){return Br(t)&&e()}),t},clearImmediate:function(e){Br(e)}},uH=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return Ca(t,e),t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&0<o?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n.scheduled||(n.scheduled=bw.setImmediate(n.flush.bind(n,null))))},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!==null&&0<o||o===null&&0<this.delay)return e.prototype.recycleAsyncId.call(this,n,r,o);n.actions.length===0&&(bw.clearImmediate(r),n.scheduled=void 0)},t}(aj),Bm=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r,o=this.actions,i=-1,s=o.length;n=n||o.shift();do if(r=n.execute(n.state,n.delay))break;while(++i<s&&(n=o.shift()));if(this.active=!1,r){for(;++i<s&&(n=o.shift());)n.unsubscribe();throw r}},t}(bj))(uH),vH=Bm,Ro=new bj(aj),Ae=Ro,wH=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return Ca(t,e),t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&0<o?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(function(){return n.flush(null)})))},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!==null&&0<o||o===null&&0<this.delay)return e.prototype.recycleAsyncId.call(this,n,r,o);n.actions.length===0&&(cancelAnimationFrame(r),n.scheduled=void 0)},t}(aj),cw=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r,o=this.actions,i=-1,s=o.length;n=n||o.shift();do if(r=n.execute(n.state,n.delay))break;while(++i<s&&(n=o.shift()));if(this.active=!1,r){for(;++i<s&&(n=o.shift());)n.unsubscribe();throw r}},t}(bj))(wH),xH=function(e){function t(n,r){n===void 0&&(n=dw),r===void 0&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,n,function(){return o.frame})||this;return o.maxFrames=r,o.frame=0,o.index=-1,o}return Ca(t,e),t.prototype.flush=function(){for(var n,r,o=this.actions,i=this.maxFrames;(r=o[0])&&r.delay<=i&&(o.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=o.shift();)r.unsubscribe();throw n}},t.frameTimeFactor=10,t}(bj),dw=function(e){function t(n,r,o){o===void 0&&(o=n.index+=1);var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.index=o,i.active=!0,i.index=n.index=o,i}return Ca(t,e),t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),this.delay=n.frame+o,(n=n.actions).push(this),n.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(n,r,o){},t.prototype._execute=function(n,r){if(this.active===!0)return e.prototype._execute.call(this,n,r)},t.sortActions=function(n,r){return n.delay===r.delay?n.index===r.index?0:n.index>r.index?1:-1:n.delay>r.delay?1:-1},t}(aj),So=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),Hj=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Xc=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),fB=function(){function e(t,n){this.project=t,this.thisArg=n}return e.prototype.call=function(t,n){return n.subscribe(new yH(t,this.project,this.thisArg))},e}(),yH=function(e){function t(n,r,o){return(n=e.call(this,n)||this).project=r,n.count=0,n.thisArg=o||n,n}return Ca(t,e),t.prototype._next=function(n){try{var r=this.project.call(this.thisArg,n,this.count++)}catch(o){return void this.destination.error(o)}this.destination.next(r)},t}(fb),To=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.notifyNext=function(n,r,o,i,s){this.destination.next(r)},t.prototype.notifyError=function(n,r){this.destination.error(n)},t.prototype.notifyComplete=function(n){this.destination.complete()},t}(fb),kB=function(e){function t(n,r,o){var i=e.call(this)||this;return i.parent=n,i.outerValue=r,i.outerIndex=o,i.index=0,i}return Ca(t,e),t.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},t.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(fb),zH=function(e){return function(t){return e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Qg),t}},ff=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator",AH=function(e){return function(t){for(var n=e[ff]();;){var r=void 0;try{r=n.next()}catch(o){return t.error(o),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return typeof n.return=="function"&&t.add(function(){n.return&&n.return()}),t}},BH=function(e){return function(t){var n=e[Rg]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},Hr=function(e){return e&&typeof e.length=="number"&&typeof e!="function"},ii=function(e){if(e&&typeof e[Rg]=="function")return BH(e);if(Hr(e))return Ar(e);if(Fr(e))return zH(e);if(e&&typeof e[ff]=="function")return AH(e);throw e=nm(e)?"an invalid object":"'"+e+"'",new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},ew={},DH=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,n){return n.subscribe(new CH(t,this.resultSelector))},e}(),CH=function(e){function t(n,r){return(n=e.call(this,n)||this).resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return Ca(t,e),t.prototype._next=function(n){this.values.push(ew),this.observables.push(n)},t.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{this.toRespond=this.active=r;for(var o=0;o<r;o++)this.add(sm(this,n[o],void 0,o))}},t.prototype.notifyComplete=function(n){--this.active==0&&this.destination.complete()},t.prototype.notifyNext=function(n,r,o){var i=(n=this.values)[o];i=this.toRespond?i===ew?--this.toRespond:this.toRespond:0,n[o]=r,i===0&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},t.prototype._tryResultSelector=function(n){try{var r=this.resultSelector.apply(this,n)}catch(o){return void this.destination.error(o)}this.destination.next(r)},t}(To),Le=function(e){function t(n){var r=e.call(this)||this;return r.parent=n,r}return Ca(t,e),t.prototype._next=function(n){this.parent.notifyNext(n)},t.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(fb);(function(e){function t(n,r,o){var i=e.call(this)||this;return i.parent=n,i.outerValue=r,i.outerIndex=o,i}Ca(t,e),t.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this)},t.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()}})(fb);var Me=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.notifyNext=function(n){this.destination.next(n)},t.prototype.notifyError=function(n){this.destination.error(n)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(fb);(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}Ca(t,e),t.prototype.notifyNext=function(n,r,o,i){this.destination.next(r)},t.prototype.notifyError=function(n){this.destination.error(n)},t.prototype.notifyComplete=function(n){this.destination.complete()}})(fb);var oB=function(){function e(t,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=n}return e.prototype.call=function(t,n){return n.subscribe(new EH(t,this.project,this.concurrent))},e}(),EH=function(e){function t(n,r,o){return o===void 0&&(o=Number.POSITIVE_INFINITY),(n=e.call(this,n)||this).project=r,n.concurrent=o,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return Ca(t,e),t.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},t.prototype._tryNext=function(n){var r=this.index++;try{var o=this.project(n,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(o)},t.prototype._innerSub=function(n){var r=new Le(this),o=this.destination;o.add(r),(n=ze(n,r))!==r&&o.add(n)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(n){this.destination.next(n)},t.prototype.notifyComplete=function(){var n=this.buffer;this.active--,0<n.length?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(Me),Uo=oa.parseFloat,fw=-1/0!=1/Uo(`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF-0`)?function(e){e=hk(String(e));var t=Uo(e);return t===0&&e.charAt(0)=="-"?-0:t}:Uo;xa({global:!0,forced:parseFloat!=fw},{parseFloat:fw});var Vo=new Ya($d),tB=function(){function e(t,n){this.predicate=t,this.thisArg=n}return e.prototype.call=function(t,n){return n.subscribe(new FH(t,this.predicate,this.thisArg))},e}(),FH=function(e){function t(n,r,o){return(n=e.call(this,n)||this).predicate=r,n.thisArg=o,n.count=0,n}return Ca(t,e),t.prototype._next=function(n){try{var r=this.predicate.call(this.thisArg,n,this.count++)}catch(o){return void this.destination.error(o)}r&&this.destination.next(n)},t}(fb),uB=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new GH(t))},e}(),GH=function(e){function t(n){return(n=e.call(this,n)||this).hasFirst=!1,n.observables=[],n.subscriptions=[],n}return Ca(t,e),t.prototype._next=function(n){this.observables.push(n)},t.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{for(var o=0;o<r&&!this.hasFirst;o++){var i=sm(this,n[o],void 0,o);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(n,r,o){if(!this.hasFirst){for(this.hasFirst=!0,n=0;n<this.subscriptions.length;n++)if(n!==o){var i=this.subscriptions[n];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(r)},t}(To),xB=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,n){return n.subscribe(new HH(t,this.resultSelector))},e}(),HH=function(e){function t(n,r,o){return(n=e.call(this,n)||this).resultSelector=r,n.iterators=[],n.active=0,n.resultSelector=typeof r=="function"?r:void 0,n}return Ca(t,e),t.prototype._next=function(n){var r=this.iterators;pd(n)?r.push(new IH(n)):typeof n[ff]=="function"?r.push(new JH(n[ff]())):r.push(new KH(this.destination,this,n))},t.prototype._complete=function(){var n=this.iterators,r=n.length;if(this.unsubscribe(),r===0)this.destination.complete();else{this.active=r;for(var o=0;o<r;o++){var i=n[o];i.stillUnsubscribed?this.destination.add(i.subscribe()):this.active--}}},t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},t.prototype.checkIterators=function(){for(var n=this.iterators,r=n.length,o=this.destination,i=0;i<r;i++){var s=n[i];if(typeof s.hasValue=="function"&&!s.hasValue())return}var l=!1,u=[];for(i=0;i<r;i++){var f=(s=n[i]).next();if(s.hasCompleted()&&(l=!0),f.done)return void o.complete();u.push(f.value)}this.resultSelector?this._tryresultSelector(u):o.next(u),l&&o.complete()},t.prototype._tryresultSelector=function(n){try{var r=this.resultSelector.apply(this,n)}catch(o){return void this.destination.error(o)}this.destination.next(r)},t}(fb),JH=function(){function e(t){this.iterator=t,this.nextResult=t.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},e.prototype.hasCompleted=function(){var t=this.nextResult;return!(!t||!t.done)},e}(),IH=function(){function e(t){this.array=t,this.length=this.index=0,this.length=t.length}return e.prototype[ff]=function(){return this},e.prototype.next=function(t){t=this.index++;var n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),KH=function(e){function t(n,r,o){return(n=e.call(this,n)||this).parent=r,n.observable=o,n.stillUnsubscribed=!0,n.buffer=[],n.isComplete=!1,n}return Ca(t,e),t.prototype[ff]=function(){return this},t.prototype.next=function(){var n=this.buffer;return n.length===0&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}},t.prototype.hasValue=function(){return 0<this.buffer.length},t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},t.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(n){this.buffer.push(n),this.parent.checkIterators()},t.prototype.subscribe=function(){return ze(this.observable,new Le(this))},t}(Me),LH=Object.freeze({__proto__:null,Observable:Ya,ConnectableObservable:$v,GroupedObservable:Oo,observable:Rg,Subject:ec,BehaviorSubject:oH,ReplaySubject:Vg,AsyncSubject:hi,asap:vH,asapScheduler:Bm,async:Ae,asyncScheduler:Ro,queue:cj,queueScheduler:cj,animationFrame:cw,animationFrameScheduler:cw,VirtualTimeScheduler:xH,VirtualAction:dw,Scheduler:Po,Subscription:cc,Subscriber:fb,Notification:yh,get NotificationKind(){return Qo},pipe:pm,noop:$d,identity:ef,isObservable:function(e){return!!e&&(e instanceof Ya||typeof e.lift=="function"&&typeof e.subscribe=="function")},ArgumentOutOfRangeError:So,EmptyError:Hj,ObjectUnsubscribedError:vf,UnsubscriptionError:ei,TimeoutError:Xc,bindCallback:Cr,bindNodeCallback:Dr,combineLatest:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=t=void 0;return ye(e[e.length-1])&&(n=e.pop()),typeof e[e.length-1]=="function"&&(t=e.pop()),e.length===1&&pd(e[0])&&(e=e[0]),gi(e,n).lift(new DH(t))},concat:Ir,defer:gf,empty:fi,forkJoin:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1){var n=e[0];if(pd(n))return Fj(n,null);if(nm(n)&&Object.getPrototypeOf(n)===Object.prototype)return Fj((e=Object.keys(n)).map(function(o){return n[o]}),e)}if(typeof e[e.length-1]=="function"){var r=e.pop();return Fj(e=e.length===1&&pd(e[0])?e[0]:e,null).pipe(jb(function(o){return r.apply(void 0,o)}))}return Fj(e,null)},from:ae,fromEvent:Bc,fromEventPattern:Kr,generate:function(e,t,n,r,o){if(arguments.length==1){var i=e.initialState;t=e.condition,n=e.iterate;var s=e.resultSelector||ef;o=e.scheduler}else r===void 0||ye(r)?(i=e,s=ef,o=r):(i=e,s=r);return new Ya(function(l){var u=i;if(o)return o.schedule(pB,0,{subscriber:l,iterate:n,condition:t,resultSelector:s,state:u});for(;;){if(t){var f=void 0;try{f=t(u)}catch(h){l.error(h);break}if(!f){l.complete();break}}f=void 0;try{f=s(u)}catch(h){l.error(h);break}if(l.next(f),l.closed)break;try{u=n(u)}catch(h){l.error(h);break}}})},iif:function(e,t,n){return t===void 0&&(t=Wc),n===void 0&&(n=Wc),gf(function(){return e()?t:n})},interval:Sg,merge:Lc,never:function(){return Vo},of:dc,onErrorResumeNext:um,pairs:function(e,t){return new Ya(t?function(n){var r=Object.keys(e),o=new cc;return o.add(t.schedule(rB,0,{keys:r,index:0,subscriber:n,subscription:o,obj:e})),o}:function(n){for(var r=Object.keys(e),o=0;o<r.length&&!n.closed;o++){var i=r[o];e.hasOwnProperty(i)&&n.next([i,e[i]])}n.complete()})},partition:function(e,t,n){return[sc(t,n)(new Ya(ii(e))),sc(sB(t,n))(new Ya(ii(e)))]},race:$a,range:function(e,t,n){return e===void 0&&(e=0),new Ya(function(r){t===void 0&&(t=e,e=0);var o=0,i=e;if(n)return n.schedule(vB,0,{index:o,count:t,start:e,subscriber:r});for(;;){if(o++>=t){r.complete();break}if(r.next(i++),r.closed)break}})},throwError:Ua,timer:Be,using:function(e,t){return new Ya(function(n){try{var r=e()}catch(s){return void n.error(s)}try{var o=t(r)}catch(s){return void n.error(s)}var i=(o?ae(o):Wc).subscribe(n);return function(){i.unsubscribe(),r&&r.unsubscribe()}})},zip:vm,scheduled:Gr,EMPTY:Wc,NEVER:Vo,config:od}),yB=function(){function e(t,n,r,o){this.bufferTimeSpan=t,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=o}return e.prototype.call=function(t,n){return n.subscribe(new MH(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),NH=function(){this.buffer=[]},MH=function(e){function t(n,r,o,i,s){if((n=e.call(this,n)||this).bufferTimeSpan=r,n.bufferCreationInterval=o,n.maxBufferSize=i,n.scheduler=s,n.contexts=[],i=n.openContext(),n.timespanOnly=o==null||0>o,n.timespanOnly)n.add(i.closeAction=s.schedule(Lr,r,{subscriber:n,context:i,bufferTimeSpan:r}));else{var l={bufferTimeSpan:r,bufferCreationInterval:o,subscriber:n,scheduler:s};n.add(i.closeAction=s.schedule(Mr,r,{subscriber:n,context:i})),n.add(s.schedule(zB,o,l))}return n}return Ca(t,e),t.prototype._next=function(n){for(var r,o=this.contexts,i=o.length,s=0;s<i;s++){var l=o[s],u=l.buffer;u.push(n),u.length==this.maxBufferSize&&(r=l)}r&&this.onBufferFull(r)},t.prototype._error=function(n){this.contexts.length=0,e.prototype._error.call(this,n)},t.prototype._complete=function(){for(var n=this.contexts,r=this.destination;0<n.length;){var o=n.shift();r.next(o.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(n){if(this.closeContext(n),(n=n.closeAction).unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){n=this.openContext();var r=this.bufferTimeSpan;this.add(n.closeAction=this.scheduler.schedule(Lr,r,{subscriber:this,context:n,bufferTimeSpan:r}))}},t.prototype.openContext=function(){var n=new NH;return this.contexts.push(n),n},t.prototype.closeContext=function(n){this.destination.next(n.buffer);var r=this.contexts;0<=(r?r.indexOf(n):-1)&&r.splice(r.indexOf(n),1)},t}(fb),AB=function(){function e(t){this.selector=t}return e.prototype.call=function(t,n){return n.subscribe(new OH(t,this.selector,this.caught))},e}(),OH=function(e){function t(n,r,o){return(n=e.call(this,n)||this).selector=r,n.caught=o,n}return Ca(t,e),t.prototype.error=function(n){if(!this.isStopped){var r=void 0;try{r=this.selector(n,this.caught)}catch(o){return void e.prototype.error.call(this,o)}this._unsubscribeAndRecycle(),n=new Le(this),this.add(n),(r=ze(r,n))!==n&&this.add(r)}},t}(Me),BB=function(){function e(t){this.defaultValue=t}return e.prototype.call=function(t,n){return n.subscribe(new PH(t,this.defaultValue))},e}(),PH=function(e){function t(n,r){return(n=e.call(this,n)||this).defaultValue=r,n.isEmpty=!0,n}return Ca(t,e),t.prototype._next=function(n){this.isEmpty=!1,this.destination.next(n)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(fb),CB=function(){function e(t,n){this.delay=t,this.scheduler=n}return e.prototype.call=function(t,n){return n.subscribe(new QH(t,this.delay,this.scheduler))},e}(),QH=function(e){function t(n,r,o){return(n=e.call(this,n)||this).delay=r,n.scheduler=o,n.queue=[],n.active=!1,n.errored=!1,n}return Ca(t,e),t.dispatch=function(n){for(var r=n.source,o=r.queue,i=n.scheduler,s=n.destination;0<o.length&&0>=o[0].time-i.now();)o.shift().notification.observe(s);0<o.length?(r=Math.max(0,o[0].time-i.now()),this.schedule(n,r)):(this.unsubscribe(),r.active=!1)},t.prototype._schedule=function(n){this.active=!0,this.destination.add(n.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))},t.prototype.scheduleNotification=function(n){if(this.errored!==!0){var r=this.scheduler;n=new RH(r.now()+this.delay,n),this.queue.push(n),this.active===!1&&this._schedule(r)}},t.prototype._next=function(n){this.scheduleNotification(yh.createNext(n))},t.prototype._error=function(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(yh.createComplete()),this.unsubscribe()},t}(fb),RH=function(e,t){this.time=e,this.notification=t},DB=function(){function e(t,n){this.keySelector=t,this.flushes=n}return e.prototype.call=function(t,n){return n.subscribe(new SH(t,this.keySelector,this.flushes))},e}(),SH=function(e){function t(n,r,o){return(n=e.call(this,n)||this).keySelector=r,n.values=new Set,o&&n.add(ze(o,new Le(n))),n}return Ca(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(n){this._error(n)},t.prototype._next=function(n){this.keySelector?this._useKeySelector(n):this._finalizeNext(n,n)},t.prototype._useKeySelector=function(n){var r=this.destination;try{var o=this.keySelector(n)}catch(i){return void r.error(i)}this._finalizeNext(o,n)},t.prototype._finalizeNext=function(n,r){var o=this.values;o.has(n)||(o.add(n),this.destination.next(r))},t}(Me),FB=function(){function e(t){this.errorFactory=t}return e.prototype.call=function(t,n){return n.subscribe(new TH(t,this.errorFactory))},e}(),TH=function(e){function t(n,r){return(n=e.call(this,n)||this).errorFactory=r,n.hasValue=!1,n}return Ca(t,e),t.prototype._next=function(n){this.hasValue=!0,this.destination.next(n)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var n=void 0;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)},t}(fb),GB=function(){function e(t){if(this.total=t,0>this.total)throw new So}return e.prototype.call=function(t,n){return n.subscribe(new UH(t,this.total))},e}(),UH=function(e){function t(n,r){return(n=e.call(this,n)||this).total=r,n.count=0,n}return Ca(t,e),t.prototype._next=function(n){var r=this.total,o=++this.count;o<=r&&(this.destination.next(n),o===r&&(this.destination.complete(),this.unsubscribe()))},t}(fb),HB=function(){function e(t){this.callback=t}return e.prototype.call=function(t,n){return n.subscribe(new VH(t,this.callback))},e}(),VH=function(e){function t(n,r){return(n=e.call(this,n)||this).add(new cc(r)),n}return Ca(t,e),t}(fb),JB=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new WH(t))},e}(),WH=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype._next=function(n){},t}(fb),KB=function(){function e(t){if(this.total=t,0>this.total)throw new So}return e.prototype.call=function(t,n){return n.subscribe(new XH(t,this.total))},e}(),XH=function(e){function t(n,r){return(n=e.call(this,n)||this).total=r,n.ring=[],n.count=0,n}return Ca(t,e),t.prototype._next=function(n){var r=this.ring,o=this.total,i=this.count++;r.length<o?r.push(n):r[i%o]=n},t.prototype._complete=function(){var n=this.destination,r=this.count;if(0<r)for(var o=this.count>=this.total?this.total:this.count,i=this.ring,s=0;s<o;s++){var l=r++%o;n.next(i[l])}n.complete()},t}(fb),LB=function(){function e(t){this.value=t}return e.prototype.call=function(t,n){return n.subscribe(new YH(t,this.value))},e}(),YH=function(e){function t(n,r){return(n=e.call(this,n)||this).value=r,n}return Ca(t,e),t.prototype._next=function(n){this.destination.next(this.value)},t}(fb),MB=function(){function e(t,n,r){r===void 0&&(r=!1),this.accumulator=t,this.seed=n,this.hasSeed=r}return e.prototype.call=function(t,n){return n.subscribe(new ZH(t,this.accumulator,this.seed,this.hasSeed))},e}(),ZH=function(e){function t(n,r,o,i){return(n=e.call(this,n)||this).accumulator=r,n._seed=o,n.hasSeed=i,n.index=0,n}return Ca(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(n){this.hasSeed=!0,this._seed=n},enumerable:!0,configurable:!0}),t.prototype._next=function(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)},t.prototype._tryNext=function(n){var r=this.index++;try{var o=this.accumulator(this.seed,n,r)}catch(i){this.destination.error(i)}this.seed=o,this.destination.next(o)},t}(fb),OB=function(){function e(t,n){this.subjectFactory=t,this.selector=n}return e.prototype.call=function(t,n){var r=this.selector,o=this.subjectFactory();return(t=r(o).subscribe(t)).add(n.subscribe(o)),t},e}(),QB=function(){function e(t,n){this.notifier=t,this.source=n}return e.prototype.call=function(t,n){return n.subscribe(new $H(t,this.notifier,this.source))},e}(),$H=function(e){function t(n,r,o){return(n=e.call(this,n)||this).notifier=r,n.source=o,n}return Ca(t,e),t.prototype.error=function(n){if(!this.isStopped){var r=this.errors,o=this.retries,i=this.retriesSubscription;if(o)this.retriesSubscription=this.errors=void 0;else{r=new ec;try{o=(0,this.notifier)(r)}catch(s){return e.prototype.error.call(this,s)}i=ze(o,new Le(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=o,this.retriesSubscription=i,r.next(n)}},t.prototype._unsubscribe=function(){var n=this.errors,r=this.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),r&&(r.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var n=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=n,this.source.subscribe(this)},t}(Me),TB=function(){function e(t){this.project=t}return e.prototype.call=function(t,n){return n.subscribe(new aI(t,this.project))},e}(),aI=function(e){function t(n,r){return(n=e.call(this,n)||this).project=r,n.index=0,n}return Ca(t,e),t.prototype._next=function(n){var r=this.index++;try{var o=this.project(n,r)}catch(i){return void this.destination.error(i)}this._innerSub(o)},t.prototype._innerSub=function(n){var r=this.innerSubscription;r&&r.unsubscribe(),r=new Le(this);var o=this.destination;o.add(r),this.innerSubscription=ze(n,r),this.innerSubscription!==r&&o.add(this.innerSubscription)},t.prototype._complete=function(){var n=this.innerSubscription;n&&!n.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(n){this.destination.next(n)},t}(Me),UB=function(){function e(t){this.notifier=t}return e.prototype.call=function(t,n){t=new bI(t);var r=ze(this.notifier,new Le(t));return r&&!t.seenValue?(t.add(r),n.subscribe(t)):t},e}(),bI=function(e){function t(n){return(n=e.call(this,n)||this).seenValue=!1,n}return Ca(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(Me),VB=function(){function e(t,n,r){this.nextOrObserver=t,this.error=n,this.complete=r}return e.prototype.call=function(t,n){return n.subscribe(new cI(t,this.nextOrObserver,this.error,this.complete))},e}(),cI=function(e){function t(n,r,o,i){return(n=e.call(this,n)||this)._tapNext=$d,n._tapError=$d,n._tapComplete=$d,n._tapError=o||$d,n._tapComplete=i||$d,Pg(r)?(n._context=n,n._tapNext=r):r&&(n._context=r,n._tapNext=r.next||$d,n._tapError=r.error||$d,n._tapComplete=r.complete||$d),n}return Ca(t,e),t.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(r){return void this.destination.error(r)}this.destination.next(n)},t.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(r){return void this.destination.error(r)}this.destination.error(n)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){return void this.destination.error(n)}return this.destination.complete()},t}(fb),XB={leading:!0,trailing:!1};(function(e){function t(n,r,o,i){var s=e.call(this,n)||this;return s.destination=n,s.durationSelector=r,s._leading=o,s._trailing=i,s._hasValue=!1,s}Ca(t,e),t.prototype._next=function(n){this._hasValue=!0,this._sendValue=n,this._throttled||(this._leading?this.send():this.throttle(n))},t.prototype.send=function(){var n=this._sendValue;this._hasValue&&(this.destination.next(n),this.throttle(n)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(n){(n=this.tryDurationSelector(n))&&this.add(this._throttled=ze(n,new Le(this)))},t.prototype.tryDurationSelector=function(n){try{return this.durationSelector(n)}catch(r){return this.destination.error(r),null}},t.prototype.throttlingDone=function(){var n=this._throttled,r=this._trailing;n&&n.unsubscribe(),this._throttled=void 0,r&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()}})(Me);for(var YB=function(){function e(t,n,r,o){this.duration=t,this.scheduler=n,this.leading=r,this.trailing=o}return e.prototype.call=function(t,n){return n.subscribe(new dI(t,this.duration,this.scheduler,this.leading,this.trailing))},e}(),dI=function(e){function t(n,r,o,i,s){return(n=e.call(this,n)||this).duration=r,n.scheduler=o,n.leading=i,n.trailing=s,n._hasTrailingValue=!1,n._trailingValue=null,n}return Ca(t,e),t.prototype._next=function(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ZB,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},t.prototype.clearThrottle=function(){var n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)},t}(fb),aC=function(){function e(t,n,r,o){this.waitFor=t,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=o}return e.prototype.call=function(t,n){return n.subscribe(new eI(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),eI=function(e){function t(n,r,o,i,s){return(n=e.call(this,n)||this).absoluteTimeout=r,n.waitFor=o,n.withObservable=i,n.scheduler=s,n.scheduleTimeout(),n}return Ca(t,e),t.dispatchTimeout=function(n){var r=n.withObservable;n._unsubscribeAndRecycle(),n.add(ze(r,new Le(n)))},t.prototype.scheduleTimeout=function(){var n=this.action;n?this.action=n.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(n){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,n)},t.prototype._unsubscribe=function(){this.action=void 0,this.withObservable=this.scheduler=null},t}(Me),cC=function(){function e(t,n){this.observables=t,this.project=n}return e.prototype.call=function(t,n){return n.subscribe(new fI(t,this.observables,this.project))},e}(),fI=function(e){function t(n,r,o){(n=e.call(this,n)||this).observables=r,n.project=o,n.toRespond=[],o=r.length,n.values=Array(o);for(var i=0;i<o;i++)n.toRespond.push(i);for(i=0;i<o;i++)n.add(sm(n,r[i],void 0,i));return n}return Ca(t,e),t.prototype.notifyNext=function(n,r,o){this.values[o]=r,0<(n=this.toRespond).length&&(o=n.indexOf(o))!==-1&&n.splice(o,1)},t.prototype.notifyComplete=function(){},t.prototype._next=function(n){this.toRespond.length===0&&(n=[n].concat(this.values),this.project?this._tryProject(n):this.destination.next(n))},t.prototype._tryProject=function(n){try{var r=this.project.apply(this,n)}catch(o){return void this.destination.error(o)}this.destination.next(r)},t}(To),gw=lc(function(e){var t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var o,i=0;16>i;i++)(3&i)==0&&(o=4294967296*Math.random()),r[i]=o>>>((3&i)<<3)&255;return r}}}),tc=[],Vk=0;256>Vk;++Vk)tc[Vk]=(Vk+256).toString(16).substr(1);var hw=function(e,t){return t=t||0,[tc[e[t++]],tc[e[t++]],tc[e[t++]],tc[e[t++]],"-",tc[e[t++]],tc[e[t++]],"-",tc[e[t++]],tc[e[t++]],"-",tc[e[t++]],tc[e[t++]],"-",tc[e[t++]],tc[e[t++]],tc[e[t++]],tc[e[t++]],tc[e[t++]],tc[e[t++]]].join("")},dj=function(e,t,n){if(n=t&&n||0,typeof e=="string"&&(t=e==="binary"?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||gw)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var r=0;16>r;++r)t[n+r]=e[r];return t||hw(e)},ej=dj(),xm=!1,Tr=new AbortController,Ne,wf,Wo,Xo,xf,lg,Td,mg,vd,Yo,Oe,ng,Pe,Qe,Re,zh,dd,Se;(function(e){e[e.ATTRIBUTE_OPERATION_ERR_FAILURE=2]="ATTRIBUTE_OPERATION_ERR_FAILURE",e[e.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT=3]="ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT",e[e.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW=4]="ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW",e[e.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN=5]="ATTRIBUTE_OPERATION_ERR_TOO_OFTEN",e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND=6]="ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND",e[e.ATTRIBUTE_OPERATION_ERR_TIMEOUT=7]="ATTRIBUTE_OPERATION_ERR_TIMEOUT",e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN=102]="ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN"})(Ne||(Ne={})),function(e){e[e.CHANNEL_MESSAGE_ERR_FAILURE=1]="CHANNEL_MESSAGE_ERR_FAILURE",e[e.CHANNEL_MESSAGE_ERR_TIMEOUT=2]="CHANNEL_MESSAGE_ERR_TIMEOUT",e[e.CHANNEL_MESSAGE_ERR_TOO_OFTEN=3]="CHANNEL_MESSAGE_ERR_TOO_OFTEN",e[e.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE=4]="CHANNEL_MESSAGE_ERR_INVALID_MESSAGE",e[e.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL=5]="CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL",e[e.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(wf||(wf={})),function(e){e[e.CREATE_CHANNEL_ERR_INVALID_ARGUMENT=1]="CREATE_CHANNEL_ERR_INVALID_ARGUMENT"}(Wo||(Wo={})),function(e){e[e.CREATE_INSTANCE_ERR_INVALID_ARGUMENT=1]="CREATE_INSTANCE_ERR_INVALID_ARGUMENT"}(Xo||(Xo={})),function(e){e[e.GET_MEMBERS_ERR_FAILURE=1]="GET_MEMBERS_ERR_FAILURE",e[e.GET_MEMBERS_ERR_REJECTED=2]="GET_MEMBERS_ERR_REJECTED",e[e.GET_MEMBERS_ERR_TIMEOUT=3]="GET_MEMBERS_ERR_TIMEOUT",e[e.GET_MEMBERS_ERR_TOO_OFTEN=4]="GET_MEMBERS_ERR_TOO_OFTEN",e[e.GET_MEMBERS_ERR_NOT_IN_CHANNEL=5]="GET_MEMBERS_ERR_NOT_IN_CHANNEL",e[e.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN=102]="GET_MEMBERS_ERR_USER_NOT_LOGGED_IN"}(xf||(xf={})),function(e){e[e.INVITATION_API_CALL_ERR_INVALID_ARGUMENT=1]="INVITATION_API_CALL_ERR_INVALID_ARGUMENT",e[e.INVITATION_API_CALL_ERR_NOT_STARTED=2]="INVITATION_API_CALL_ERR_NOT_STARTED",e[e.INVITATION_API_CALL_ERR_ALREADY_END=3]="INVITATION_API_CALL_ERR_ALREADY_END",e[e.INVITATION_API_CALL_ERR_ALREADY_ACCEPT=4]="INVITATION_API_CALL_ERR_ALREADY_ACCEPT",e[e.INVITATION_API_CALL_ERR_ALREADY_SENT=5]="INVITATION_API_CALL_ERR_ALREADY_SENT"}(lg||(lg={})),function(e){e[e.JOIN_CHANNEL_ERR_FAILURE=1]="JOIN_CHANNEL_ERR_FAILURE",e[e.JOIN_CHANNEL_ERR_REJECTED=2]="JOIN_CHANNEL_ERR_REJECTED",e[e.JOIN_CHANNEL_ERR_INVALID_ARGUMENT=3]="JOIN_CHANNEL_ERR_INVALID_ARGUMENT",e[e.JOIN_CHANNEL_TIMEOUT=4]="JOIN_CHANNEL_TIMEOUT",e[e.JOIN_CHANNEL_ERR_EXCEED_LIMIT=5]="JOIN_CHANNEL_ERR_EXCEED_LIMIT",e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED=6]="JOIN_CHANNEL_ERR_ALREADY_JOINED",e[e.JOIN_CHANNEL_ERR_TOO_OFTEN=7]="JOIN_CHANNEL_ERR_TOO_OFTEN",e[e.JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN=8]="JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN",e[e.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN",e[e.JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE=201]="JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE",e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID=202]="JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID"}(Td||(Td={})),function(e){e[e.LEAVE_CHANNEL_ERR_FAILURE=1]="LEAVE_CHANNEL_ERR_FAILURE",e[e.LEAVE_CHANNEL_ERR_REJECTED=2]="LEAVE_CHANNEL_ERR_REJECTED",e[e.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL=3]="LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL",e[e.LEAVE_CHANNEL_ERR_KICKED=4]="LEAVE_CHANNEL_ERR_KICKED",e[e.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN"}(mg||(mg={})),function(e){e[e.LOGIN_ERR_UNKNOWN=1]="LOGIN_ERR_UNKNOWN",e[e.LOGIN_ERR_REJECTED=2]="LOGIN_ERR_REJECTED",e[e.LOGIN_ERR_INVALID_ARGUMENT=3]="LOGIN_ERR_INVALID_ARGUMENT",e[e.LOGIN_ERR_INVALID_APP_ID=4]="LOGIN_ERR_INVALID_APP_ID",e[e.LOGIN_ERR_INVALID_TOKEN=5]="LOGIN_ERR_INVALID_TOKEN",e[e.LOGIN_ERR_TOKEN_EXPIRED=6]="LOGIN_ERR_TOKEN_EXPIRED",e[e.LOGIN_ERR_NOT_AUTHORIZED=7]="LOGIN_ERR_NOT_AUTHORIZED",e[e.LOGIN_ERR_ALREADY_LOGIN=8]="LOGIN_ERR_ALREADY_LOGIN",e[e.LOGIN_ERR_TIMEOUT=9]="LOGIN_ERR_TIMEOUT",e[e.LOGIN_ERR_TOO_OFTEN=10]="LOGIN_ERR_TOO_OFTEN",e[e.LOGIN_ERR_ABORTED_BY_LOGOUT=201]="LOGIN_ERR_ABORTED_BY_LOGOUT"}(vd||(vd={})),function(e){e[e.LOGOUT_ERR_USER_NOT_LOGGED_IN=102]="LOGOUT_ERR_USER_NOT_LOGGED_IN"}(Yo||(Yo={})),function(e){e[e.PEER_MESSAGE_ERR_FAILURE=1]="PEER_MESSAGE_ERR_FAILURE",e[e.PEER_MESSAGE_ERR_TIMEOUT=2]="PEER_MESSAGE_ERR_TIMEOUT",e[e.PEER_MESSAGE_ERR_TOO_OFTEN=5]="PEER_MESSAGE_ERR_TOO_OFTEN",e[e.PEER_MESSAGE_ERR_INVALID_USERID=6]="PEER_MESSAGE_ERR_INVALID_USERID",e[e.PEER_MESSAGE_ERR_INVALID_MESSAGE=7]="PEER_MESSAGE_ERR_INVALID_MESSAGE",e[e.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE=8]="PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE",e[e.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(Oe||(Oe={})),function(e){e[e.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT=2]="QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED=3]="QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT=4]="QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN=5]="QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN"}(ng||(ng={})),function(e){e[e.RENEW_TOKEN_ERR_FAILURE=1]="RENEW_TOKEN_ERR_FAILURE",e[e.RENEW_TOKEN_ERR_INVALID_ARGUMENT=2]="RENEW_TOKEN_ERR_INVALID_ARGUMENT",e[e.RENEW_TOKEN_ERR_REJECTED=3]="RENEW_TOKEN_ERR_REJECTED",e[e.RENEW_TOKEN_ERR_TOO_OFTEN=4]="RENEW_TOKEN_ERR_TOO_OFTEN",e[e.RENEW_TOKEN_ERR_TOKEN_EXPIRED=5]="RENEW_TOKEN_ERR_TOKEN_EXPIRED",e[e.RENEW_TOKEN_ERR_INVALID_TOKEN=6]="RENEW_TOKEN_ERR_INVALID_TOKEN",e[e.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN=102]="RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN",e[e.RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT=201]="RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT"}(Pe||(Pe={})),function(e){e[e.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE=1]="GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT=2]="GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN=3]="GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT=4]="GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT=5]="GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED=101]="GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN=102]="GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN"}(Qe||(Qe={})),function(e){e[e.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE=1]="PEER_SUBSCRIPTION_STATUS_ERR_FAILURE",e[e.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT=2]="PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT",e[e.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED=3]="PEER_SUBSCRIPTION_STATUS_ERR_REJECTED",e[e.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT=4]="PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT",e[e.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN=5]="PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN",e[e.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW=6]="PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW",e[e.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN=102]="PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN"}(Re||(Re={})),function(e){e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE=1]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT=2]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN=3]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN"}(zh||(zh={})),function(e){e[e.METADATA_OPERATION_ERR_FAILURE=1]="METADATA_OPERATION_ERR_FAILURE",e[e.METADATA_OPERATION_ERR_INVALID_USER_ID=2]="METADATA_OPERATION_ERR_INVALID_USER_ID",e[e.METADATA_OPERATION_ERR_INVALID_ARGUMENT=3]="METADATA_OPERATION_ERR_INVALID_ARGUMENT",e[e.METADATA_OPERATION_ERR_SIZE_OVERFLOW=4]="METADATA_OPERATION_ERR_SIZE_OVERFLOW",e[e.METADATA_OPERATION_ERR_DUPLICATE_KEY=5]="METADATA_OPERATION_ERR_DUPLICATE_KEY",e[e.METADATA_OPERATION_ERR_TOO_OFTEN=6]="METADATA_OPERATION_ERR_TOO_OFTEN",e[e.METADATA_OPERATION_ERR_TIMEOUT=7]="METADATA_OPERATION_ERR_TIMEOUT",e[e.METADATA_OPERATION_ERR_OUTDATE_REVISION=8]="METADATA_OPERATION_ERR_OUTDATE_REVISION",e[e.METADATA_OPERATION_ERR_NOT_IN_CHANNEL=9]="METADATA_OPERATION_ERR_NOT_IN_CHANNEL",e[e.METADATA_OPERATION_ERR_NOT_INITIALIZED=101]="METADATA_OPERATION_ERR_NOT_INITIALIZED",e[e.METADATA_OPERATION_ERR_USER_NOT_LOGGED_IN=102]="METADATA_OPERATION_ERR_USER_NOT_LOGGED_IN"}(dd||(dd={})),function(e){e[e.METADATA_SUBSCRIPTION_ERR_FAILURE=1]="METADATA_SUBSCRIPTION_ERR_FAILURE",e[e.METADATA_SUBSCRIPTION_ERR_TIMEOUT=2]="METADATA_SUBSCRIPTION_ERR_TIMEOUT",e[e.METADATA_SUBSCRIPTION_ERR_INVALID_ARGUMENT=3]="METADATA_SUBSCRIPTION_ERR_INVALID_ARGUMENT",e[e.METADATA_SUBSCRIPTION_ERR_TOO_OFTEN=4]="METADATA_SUBSCRIPTION_ERR_TOO_OFTEN",e[e.METADATA_SUBSCRIPTION_ERR_OVERFLOW=5]="METADATA_SUBSCRIPTION_ERR_OVERFLOW",e[e.METADATA_SUBSCRIPTION_ERR_NOT_INITIALIZED=101]="METADATA_SUBSCRIPTION_ERR_NOT_INITIALIZED",e[e.METADATA_SUBSCRIPTION_ERR_NOT_LOGGED_IN=102]="METADATA_SUBSCRIPTION_ERR_NOT_LOGGED_IN"}(Se||(Se={}));var wd=Ne.ATTRIBUTE_OPERATION_ERR_FAILURE,Tb=Ne.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT,$g=Ne.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW;Ne.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN;var iw=Ne.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND,xd=Ne.ATTRIBUTE_OPERATION_ERR_TIMEOUT,yd=Ne.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN,Wk=wf.CHANNEL_MESSAGE_ERR_FAILURE,Zo=wf.CHANNEL_MESSAGE_ERR_TIMEOUT,jw=wf.CHANNEL_MESSAGE_ERR_TOO_OFTEN,$o=wf.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE,gI=wf.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL,ap=wf.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN,hI=Wo.CREATE_CHANNEL_ERR_INVALID_ARGUMENT,kw=Xo.CREATE_INSTANCE_ERR_INVALID_ARGUMENT;Qe.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE;var lw=Qe.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT;Qe.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN;var mw=Qe.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT,iI=Qe.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT;Qe.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED;var jI=Qe.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN,kI=xf.GET_MEMBERS_ERR_FAILURE,lI=xf.GET_MEMBERS_ERR_REJECTED;xf.GET_MEMBERS_ERR_TIMEOUT,xf.GET_MEMBERS_ERR_TOO_OFTEN;var Ah=xf.GET_MEMBERS_ERR_NOT_IN_CHANNEL,Bh=xf.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN,pe=lg.INVITATION_API_CALL_ERR_INVALID_ARGUMENT,mI=lg.INVITATION_API_CALL_ERR_NOT_STARTED,Xk=lg.INVITATION_API_CALL_ERR_ALREADY_END,nw=lg.INVITATION_API_CALL_ERR_ALREADY_ACCEPT,nI=lg.INVITATION_API_CALL_ERR_ALREADY_SENT,ow=Td.JOIN_CHANNEL_ERR_FAILURE;Td.JOIN_CHANNEL_ERR_REJECTED;var oI=Td.JOIN_CHANNEL_ERR_INVALID_ARGUMENT,pw=Td.JOIN_CHANNEL_TIMEOUT,qw=Td.JOIN_CHANNEL_ERR_EXCEED_LIMIT,rw=Td.JOIN_CHANNEL_ERR_ALREADY_JOINED;Td.JOIN_CHANNEL_ERR_TOO_OFTEN;var sw=Td.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN,tw=Td.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID,uw=mg.LEAVE_CHANNEL_ERR_FAILURE,vw=mg.LEAVE_CHANNEL_ERR_REJECTED,pI=mg.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL,qI=mg.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN,rI=mg.LEAVE_CHANNEL_ERR_KICKED,ww=vd.LOGIN_ERR_UNKNOWN,fj=vd.LOGIN_ERR_REJECTED,Yk=vd.LOGIN_ERR_INVALID_ARGUMENT,xw=vd.LOGIN_ERR_INVALID_APP_ID,yw=vd.LOGIN_ERR_INVALID_TOKEN,Zk=vd.LOGIN_ERR_TOKEN_EXPIRED;vd.LOGIN_ERR_NOT_AUTHORIZED;var sI=vd.LOGIN_ERR_ALREADY_LOGIN,tI=vd.LOGIN_ERR_TIMEOUT,uI=vd.LOGIN_ERR_TOO_OFTEN,zw=Yo.LOGOUT_ERR_USER_NOT_LOGGED_IN,Aw=Oe.PEER_MESSAGE_ERR_FAILURE,bp=Oe.PEER_MESSAGE_ERR_TIMEOUT,Bw=Oe.PEER_MESSAGE_ERR_TOO_OFTEN,Cw=Oe.PEER_MESSAGE_ERR_INVALID_USERID,ri=Oe.PEER_MESSAGE_ERR_INVALID_MESSAGE,cp=Oe.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN;Oe.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE;var Dw=ng.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT;ng.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED;var vI=ng.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT;ng.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN;var wI=ng.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN,dp=Pe.RENEW_TOKEN_ERR_FAILURE,xI=Pe.RENEW_TOKEN_ERR_INVALID_ARGUMENT;Pe.RENEW_TOKEN_ERR_REJECTED,Pe.RENEW_TOKEN_ERR_TOO_OFTEN;var yI=Pe.RENEW_TOKEN_ERR_TOKEN_EXPIRED,zI=Pe.RENEW_TOKEN_ERR_INVALID_TOKEN,Ew=Pe.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN,Fw=Re.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE,gj=Re.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT;Re.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED;var AI=Re.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT;Re.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN;var Gw=Re.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW,ep=Re.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN;zh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE,zh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT,zh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN,zh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN;var Ec=dd.METADATA_OPERATION_ERR_FAILURE;dd.METADATA_OPERATION_ERR_INVALID_USER_ID;var wb=dd.METADATA_OPERATION_ERR_INVALID_ARGUMENT;dd.METADATA_OPERATION_ERR_SIZE_OVERFLOW;var yf=dd.METADATA_OPERATION_ERR_DUPLICATE_KEY;dd.METADATA_OPERATION_ERR_TOO_OFTEN;var Ub=dd.METADATA_OPERATION_ERR_TIMEOUT,qe=dd.METADATA_OPERATION_ERR_OUTDATE_REVISION;dd.METADATA_OPERATION_ERR_NOT_INITIALIZED;var Ud=dd.METADATA_OPERATION_ERR_USER_NOT_LOGGED_IN,BI=dd.METADATA_OPERATION_ERR_NOT_IN_CHANNEL,fp=Se.METADATA_SUBSCRIPTION_ERR_FAILURE,$k=Se.METADATA_SUBSCRIPTION_ERR_TIMEOUT;Se.METADATA_SUBSCRIPTION_ERR_INVALID_ARGUMENT,Se.METADATA_SUBSCRIPTION_ERR_TOO_OFTEN,Se.METADATA_SUBSCRIPTION_ERR_OVERFLOW,Se.METADATA_SUBSCRIPTION_ERR_NOT_INITIALIZED,Se.METADATA_SUBSCRIPTION_ERR_NOT_LOGGED_IN;var CI=function(e,t){var n;return Jo(e,function(r,o,i){return!(n=t(r,o,i))}),!!n},al=function(e,t,n){if(!Ic(n))return!1;var r=Ka(t);return!!(r=="number"?Vf(n)&&yo(t,n.length):r=="string"&&t in n)&&Xi(n[t],e)},gp=function(e,t,n){var r=mc(e)?Rv:CI;return n&&al(e,t,n)&&(t=void 0),r(e,wh(t))},DI=function(e,t){var n=-1,r=Vf(e)?Array(e.length):[];return Jo(e,function(o,i,s){r[++n]=t(o,i,s)}),r},EI=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},FI=function(e,t,n){t=t.length?Lg(t,function(o){return mc(o)?function(i){return Rk(i,o.length===1?o[0]:o)}:o}):[Sk];var r=-1;return t=Lg(t,Ok(wh)),e=DI(e,function(o,i,s){return{criteria:Lg(t,function(l){return l(o)}),index:++r,value:o}}),EI(e,function(o,i){t:{for(var s=-1,l=o.criteria,u=i.criteria,f=l.length,h=n.length;++s<f;){e:{var g=l[s],y=u[s];if(g!==y){var m=g!==void 0,R=g===null,A=g==g,k=Mg(g),I=y!==void 0,N=y===null,C=y==y,Y=Mg(y);if(!N&&!Y&&!k&&g>y||k&&I&&C&&!N&&!Y||R&&I&&C||!m&&C||!A){g=1;break e}if(!R&&!k&&!Y&&g<y||Y&&m&&A&&!R&&!k||N&&m&&A||!I&&A||!C){g=-1;break e}}g=0}if(g){o=s>=h?g:g*(n[s]=="desc"?-1:1);break t}}o=o.index-i.index}return o})},Hw=function(e,t){return Pv(Ov(e,t,Sk),e+"")},Iw=Hw(function(e,t){if(e==null)return[];var n=t.length;return 1<n&&al(e,t[0],t[1])?t=[]:2<n&&al(t[0],t[1],t[2])&&(t=[t[0]]),FI(e,im(t,1),[])}),Jw=function(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}(LH),Kw=lc(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=[],r=function(o,i){return new WebSocket(o,i)};t.normalClosureMessage="Normal closure",t.default=function(o,i){var s=(i=i===void 0?{protocols:n,makeWebSocket:r}:i).protocols,l=s===void 0?n:s,u=(i=i.makeWebSocket)===void 0?r:i;return new Jw.Observable(function(f){var h,g=new Jw.Subject,y=u(o,l),m=!1,R=!1,A=function(k){if(h)throw m=!0,k=Error("Web socket message factory function called more than once"),f.error(k),k;return h=k.subscribe(function(I){y.send(I)}),g};return y.onopen=function(){R?(m=!0,y.close()):f.next(A)},y.onmessage=function(k){g.next(k.data)},y.onerror=function(k){m=!0,f.error(Error(k.message))},y.onclose=function(k){m||(m=!0,R?(f.complete(),g.complete()):f.error(Error(k.code===1e3?t.normalClosureMessage:k.reason)))},function(){R=!0,h&&h.unsubscribe(),m||(m=!0,y.close())}})}});(function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default})(Kw);var zm=function(e,t,n){(n===void 0||Xi(e[t],n))&&(n!==void 0||t in e)||Zi(e,t,n)},ym=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},GI=function(e){return Hw(function(t,n){var r=-1,o=n.length,i=1<o?n[o-1]:void 0,s=2<o?n[2]:void 0;for(i=3<e.length&&typeof i=="function"?(o--,i):void 0,s&&al(n[0],n[1],s)&&(i=3>o?void 0:i,o=1),t=Object(t);++r<o;)(s=n[r])&&e(t,s,r,i);return t})}(function(e,t,n,r){Ur(e,t,n,r)}),HI=Math.floor,II=Math.random,Lw=function(e,t){return e+HI(II()*(t-e+1))},Mw=function(e){var t=e.length;return t?e[Lw(0,t-1)]:void 0},JI=function(e,t){return Lg(t,function(n){return e[n]})},Qm=function(e){return e==null?[]:JI(e,Qf(e))},KI=function(e){return Mw(Qm(e))},is=function(e){return(mc(e)?Mw:KI)(e)},Yr=[],Zr=function(e,t){return new WebSocket(e,t)};ab&&(/./g.flags!="g"||Md)&&Zb.f(RegExp.prototype,"flags",{configurable:!0,get:ek});var LI=Math.floor;xa({target:"Number",stat:!0},{isInteger:function(e){return!db(e)&&isFinite(e)&&LI(e)===e}}),mu("from",In,Hn);var MI=function(e,t){for(var n=Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise(function(s,l){n[r]=function(u){if(i)if(i=!1,u)l(u);else{for(var f=Array(arguments.length-1),h=0;h<f.length;)f[h++]=arguments[h];s.apply(null,f)}};try{e.apply(t||null,n)}catch(u){i&&(i=!1,l(u))}})},NI=lc(function(e,t){t.length=function(o){var i=o.length;if(!i)return 0;for(var s=0;1<--i%4&&o.charAt(i)==="=";)++s;return Math.ceil(3*o.length)/4-s};var n=Array(64),r=Array(123);for(e=0;64>e;)r[n[e]=26>e?e+65:52>e?e+71:62>e?e-4:e-59|43]=e++;t.encode=function(o,i,s){for(var l,u=null,f=[],h=0,g=0;i<s;){var y=o[i++];switch(g){case 0:f[h++]=n[y>>2],l=(3&y)<<4,g=1;break;case 1:f[h++]=n[l|y>>4],l=(15&y)<<2,g=2;break;case 2:f[h++]=n[l|y>>6],f[h++]=n[63&y],g=0}8191<h&&((u||(u=[])).push(String.fromCharCode.apply(String,f)),h=0)}return g&&(f[h++]=n[l],f[h++]=61,g===1&&(f[h++]=61)),u?(h&&u.push(String.fromCharCode.apply(String,f.slice(0,h))),u.join("")):String.fromCharCode.apply(String,f.slice(0,h))},t.decode=function(o,i,s){for(var l,u=s,f=0,h=0;h<o.length;){var g=o.charCodeAt(h++);if(g===61&&1<f)break;if((g=r[g])===void 0)throw Error("invalid encoding");switch(f){case 0:l=g,f=1;break;case 1:i[s++]=l<<2|(48&g)>>4,l=g,f=2;break;case 2:i[s++]=(15&l)<<4|(60&g)>>2,l=g,f=3;break;case 3:i[s++]=(3&l)<<6|g,f=0}}if(f===1)throw Error("invalid encoding");return s-u},t.test=function(o){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(o)}});Kj.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},Kj.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else{e=this._listeners[e];for(var n=0;n<e.length;)e[n].fn===t?e.splice(n,1):++n}return this},Kj.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this};var OI=$r($r),PI=function(d){try{var b=eval("quire".replace(/^/,"re"))(d);if(b&&(b.length||Object.keys(b).length))return b}catch(e){}return null},QI=lc(function(e,t){t.length=function(n){for(var r,o=0,i=0;i<n.length;++i)128>(r=n.charCodeAt(i))?o+=1:2048>r?o+=2:(64512&r)==55296&&(64512&n.charCodeAt(i+1))==56320?(++i,o+=4):o+=3;return o},t.read=function(n,r,o){if(1>o-r)return"";for(var i,s=null,l=[],u=0;r<o;)128>(i=n[r++])?l[u++]=i:191<i&&224>i?l[u++]=(31&i)<<6|63&n[r++]:239<i&&365>i?(i=((7&i)<<18|(63&n[r++])<<12|(63&n[r++])<<6|63&n[r++])-65536,l[u++]=55296+(i>>10),l[u++]=56320+(1023&i)):l[u++]=(15&i)<<12|(63&n[r++])<<6|63&n[r++],8191<u&&((s||(s=[])).push(String.fromCharCode.apply(String,l)),u=0);return s?(u&&s.push(String.fromCharCode.apply(String,l.slice(0,u))),s.join("")):String.fromCharCode.apply(String,l.slice(0,u))},t.write=function(n,r,o){for(var i,s,l=o,u=0;u<n.length;++u)128>(i=n.charCodeAt(u))?r[o++]=i:(2048>i?r[o++]=i>>6|192:((64512&i)==55296&&(64512&(s=n.charCodeAt(u+1)))==56320?(i=65536+((1023&i)<<10)+(1023&s),++u,r[o++]=i>>18|240,r[o++]=i>>12&63|128):r[o++]=i>>12|224,r[o++]=i>>6&63|128),r[o++]=63&i|128);return o-l}}),RI=function(e,t,n){var r=n||8192,o=r>>>1,i=null,s=r;return function(l){return 1>l||l>o?e(l):(s+l>r&&(i=e(r),s=0),l=t.call(i,s,s+=l),7&s&&(s=1+(7|s)),l)}},og=nc.zero=new nc(0,0);og.toNumber=function(){return 0},og.zzEncode=og.zzDecode=function(){return this},og.length=function(){return 1};var SI=nc.zeroHash="\0\0\0\0\0\0\0\0";nc.fromNumber=function(e){if(e===0)return og;var t=0>e;t&&(e=-e);var n=e>>>0;return e=(e-n)/4294967296>>>0,t&&(e=~e>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++e&&(e=0))),new nc(n,e)},nc.from=function(e){if(typeof e=="number")return nc.fromNumber(e);if(Qa.isString(e)){if(!Qa.Long)return nc.fromNumber(parseInt(e,10));e=Qa.Long.fromString(e)}return e.low||e.high?new nc(e.low>>>0,e.high>>>0):og},nc.prototype.toNumber=function(e){if(!e&&this.hi>>>31){e=1+~this.lo>>>0;var t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+4294967296*t)}return this.lo+4294967296*this.hi},nc.prototype.toLong=function(e){return Qa.Long?new Qa.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var zf=String.prototype.charCodeAt;nc.fromHash=function(e){return e===SI?og:new nc((zf.call(e,0)|zf.call(e,1)<<8|zf.call(e,2)<<16|zf.call(e,3)<<24)>>>0,(zf.call(e,4)|zf.call(e,5)<<8|zf.call(e,6)<<16|zf.call(e,7)<<24)>>>0)},nc.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},nc.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},nc.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},nc.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?t===0?16384>e?128>e?1:2:2097152>e?3:4:16384>t?128>t?5:6:2097152>t?7:8:128>n?9:10};var Qa=lc(function(e,t){function n(o,i,s){for(var l=Object.keys(i),u=0;u<l.length;++u)o[l[u]]!==void 0&&s||(o[l[u]]=i[l[u]]);return o}function r(o){function i(s,l){if(!(this instanceof i))return new i(s,l);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,i):Object.defineProperty(this,"stack",{value:Error().stack||""}),l&&n(this,l)}return(i.prototype=Object.create(Error.prototype)).constructor=i,Object.defineProperty(i.prototype,"name",{get:function(){return o}}),i.prototype.toString=function(){return this.name+": "+this.message},i}t.asPromise=MI,t.base64=NI,t.EventEmitter=Kj,t.float=OI,t.inquire=PI,t.utf8=QI,t.pool=RI,t.LongBits=nc,t.isNode=!!(pb!==void 0&&pb&&pb.process&&pb.process.versions&&pb.process.versions.node),t.global=t.isNode&&pb||typeof window<"u"&&window||typeof self<"u"&&self||pb,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},t.isString=function(o){return typeof o=="string"||o instanceof String},t.isObject=function(o){return o&&Ka(o)==="object"},t.isset=t.isSet=function(o,i){var s=o[i];return!(s==null||!o.hasOwnProperty(i))&&(Ka(s)!=="object"||0<(Array.isArray(s)?s.length:Object.keys(s).length))},t.Buffer=function(){try{var o=t.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(o){return typeof o=="number"?t.Buffer?t._Buffer_allocUnsafe(o):new t.Array(o):t.Buffer?t._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(o){return o?t.LongBits.from(o).toHash():t.LongBits.zeroHash},t.longFromHash=function(o,i){return o=t.LongBits.fromHash(o),t.Long?t.Long.fromBits(o.lo,o.hi,i):o.toNumber(!!i)},t.merge=n,t.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)},t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(o){for(var i={},s=0;s<o.length;++s)i[o[s]]=1;return function(){for(var l=Object.keys(this),u=l.length-1;-1<u;--u)if(i[l[u]]===1&&this[l[u]]!==void 0&&this[l[u]]!==null)return l[u]}},t.oneOfSetter=function(o){return function(i){for(var s=0;s<o.length;++s)o[s]!==i&&delete this[o[s]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var o=t.Buffer;o?(t._Buffer_from=o.from!==Uint8Array.from&&o.from||function(i,s){return new o(i,s)},t._Buffer_allocUnsafe=o.allocUnsafe||function(i){return new o(i)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}),Hm=gb,hp,bl=Qa.LongBits,Nw=Qa.base64,Ow=Qa.utf8,Pw=function(){return Qa.Buffer?function(){return(gb.create=function(){return new hp})()}:function(){return new gb}};gb.create=Pw(),gb.alloc=function(e){return new Qa.Array(e)},Qa.Array!==Array&&(gb.alloc=Qa.pool(gb.alloc,Qa.Array.prototype.subarray)),gb.prototype._push=function(e,t,n){return this.tail=this.tail.next=new li(e,t,n),this.len+=t,this},Em.prototype=Object.create(li.prototype),Em.prototype.fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},gb.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Em(128>(e>>>=0)?1:16384>e?2:2097152>e?3:268435456>e?4:5,e)).len,this},gb.prototype.int32=function(e){return 0>e?this._push(Fm,10,bl.fromNumber(e)):this.uint32(e)},gb.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},gb.prototype.uint64=function(e){return e=bl.from(e),this._push(Fm,e.length(),e)},gb.prototype.int64=gb.prototype.uint64,gb.prototype.sint64=function(e){return e=bl.from(e).zzEncode(),this._push(Fm,e.length(),e)},gb.prototype.bool=function(e){return this._push(Dm,1,e?1:0)},gb.prototype.fixed32=function(e){return this._push(Gm,4,e>>>0)},gb.prototype.sfixed32=gb.prototype.fixed32,gb.prototype.fixed64=function(e){return e=bl.from(e),this._push(Gm,4,e.lo)._push(Gm,4,e.hi)},gb.prototype.sfixed64=gb.prototype.fixed64,gb.prototype.float=function(e){return this._push(Qa.float.writeFloatLE,4,e)},gb.prototype.double=function(e){return this._push(Qa.float.writeDoubleLE,8,e)};var TI=Qa.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};gb.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(Dm,1,0);if(Qa.isString(e)){var n=gb.alloc(t=Nw.length(e));Nw.decode(e,n,0),e=n}return this.uint32(t)._push(TI,t,e)},gb.prototype.string=function(e){var t=Ow.length(e);return t?this.uint32(t)._push(Ow.write,t,e):this._push(Dm,1,0)},gb.prototype.fork=function(){return this.states=new fC(this),this.head=this.tail=new li(Cm,0,0),this.len=0,this},gb.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new li(Cm,0,0),this.len=0),this},gb.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},gb.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},gb._configure=function(e){hp=e,gb.create=Pw(),hp._configure()},(ce.prototype=Object.create(Hm.prototype)).constructor=ce,ce._configure=function(){ce.alloc=Qa._Buffer_allocUnsafe,ce.writeBytesBuffer=Qa.Buffer&&Qa.Buffer.prototype instanceof Uint8Array&&Qa.Buffer.prototype.set.name==="set"?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},ce.prototype.bytes=function(e){Qa.isString(e)&&(e=Qa._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(ce.writeBytesBuffer,t,e),this},ce.prototype.string=function(e){var t=Qa.Buffer.byteLength(e);return this.uint32(t),t&&this._push(gC,t,e),this},ce._configure();var Jm=Xb,ip,es=Qa.LongBits,UI=Qa.utf8,Qw=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Xb(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Xb(e);throw Error("illegal buffer")},Rw=function(){return Qa.Buffer?function(e){return(Xb.create=function(t){return Qa.Buffer.isBuffer(t)?new ip(t):Qw(t)})(e)}:Qw};Xb.create=Rw(),Xb.prototype._slice=Qa.Array.prototype.subarray||Qa.Array.prototype.slice,Xb.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++]||(e=(e|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])||(e=(e|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])||(e=(e|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])||(e=(e|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++]))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Jd(this,10);return e}}(),Xb.prototype.int32=function(){return 0|this.uint32()},Xb.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},Xb.prototype.bool=function(){return this.uint32()!==0},Xb.prototype.fixed32=function(){if(this.pos+4>this.len)throw Jd(this,4);return Lj(this.buf,this.pos+=4)},Xb.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Jd(this,4);return 0|Lj(this.buf,this.pos+=4)},Xb.prototype.float=function(){if(this.pos+4>this.len)throw Jd(this,4);var e=Qa.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Xb.prototype.double=function(){if(this.pos+8>this.len)throw Jd(this,4);var e=Qa.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Xb.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw Jd(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},Xb.prototype.string=function(){var e=this.bytes();return UI.read(e,0,e.length)},Xb.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Jd(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Jd(this);while(128&this.buf[this.pos++]);return this},Xb.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=7&this.uint32())!=4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Xb._configure=function(e){ip=e,Xb.create=Rw(),ip._configure();var t=Qa.Long?"toLong":"toNumber";Qa.merge(Xb.prototype,{int64:function(){return Im.call(this)[t](!1)},uint64:function(){return Im.call(this)[t](!0)},sint64:function(){return Im.call(this).zzDecode()[t](!1)},fixed64:function(){return fs.call(this)[t](!0)},sfixed64:function(){return fs.call(this)[t](!1)}})},(Wf.prototype=Object.create(Jm.prototype)).constructor=Wf,Wf._configure=function(){Qa.Buffer&&(Wf.prototype._slice=Qa.Buffer.prototype.slice)},Wf.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},Wf._configure(),(mi.prototype=Object.create(Qa.EventEmitter.prototype)).constructor=mi,mi.prototype.rpcCall=function e(t,n,r,o,i){if(!o)throw TypeError("request must be specified");var s=this;if(!i)return Qa.asPromise(e,s,t,n,r,o);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(l,u){if(l)return s.emit("error",l,t),i(l);if(u!==null){if(!(u instanceof r))try{u=r[s.responseDelimited?"decodeDelimited":"decode"](u)}catch(f){return s.emit("error",f,t),i(f)}return s.emit("data",u,t),i(null,u)}s.end(!0)})}catch(l){s.emit("error",l,t),setTimeout(function(){i(l)},0)}else setTimeout(function(){i(Error("already ended"))},0)},mi.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var VI=lc(function(e,t){t.Service=mi}),WI={},Vd=lc(function(e,t){function n(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}var r=t;r.build="minimal",r.Writer=Hm,r.BufferWriter=ce,r.Reader=Jm,r.BufferReader=Wf,r.util=Qa,r.rpc=VI,r.roots=WI,r.configure=n,n()});Vd.util.Long=U,Vd.configure();var S=Vd.Reader,ta=Vd.Writer,H=Vd.util,P=Vd.roots.default||(Vd.roots.default={}),XI=P.URI=function(){var e={},t=Object.create(e);return t[e[0]="Unknown"]=0,t[e[1]="PingUri"]=1,t[e[2]="PongUri"]=2,t[e[11]="UserJoinUri"]=11,t[e[12]="UserRespUri"]=12,t[e[15]="UserTicketNearlyExpireUri"]=15,t[e[16]="UserRenewTokenReqUri"]=16,t[e[17]="UserRenewTokenRespUri"]=17,t[e[21]="UserQuitUri"]=21,t[e[22]="UserDropUri"]=22,t[e[31]="GroupEnterUri"]=31,t[e[32]="GroupLeaveUri"]=32,t[e[33]="GroupReplyUri"]=33,t[e[35]="GroupDropUri"]=35,t[e[36]="GroupEnterNoticeUri"]=36,t[e[37]="GroupLeaveNoticeUri"]=37,t[e[38]="GroupEventNoticeUri"]=38,t[e[39]="GroupCountNoticeUri"]=39,t[e[41]="UserStatusListUri"]=41,t[e[42]="UserStatusResultUri"]=42,t[e[51]="GroupStatusListUri"]=51,t[e[52]="GroupStatusResultUri"]=52,t[e[55]="GroupAllUsersListUri"]=55,t[e[56]="GroupAllUsersResultUri"]=56,t[e[100]="MessageUri"]=100,t[e[101]="AckUri"]=101,t[e[201]="UserJoinNoticeUri"]=201,t[e[202]="UserQuitNoticeUri"]=202,t[e[203]="UserWaitNoticeUri"]=203,t[e[301]="UserAttributeGetUri"]=301,t[e[302]="UserAttributeRetUri"]=302,t[e[303]="UserAttributeSetUri"]=303,t[e[304]="UserAttributeModUri"]=304,t[e[305]="UserAttributeDelUri"]=305,t[e[307]="UserAttributeRspUri"]=307,t[e[308]="UserAttributeErrUri"]=308,t[e[311]="UserAttributeKeysGetUri"]=311,t[e[312]="UserAttributeKeysRetUri"]=312,t[e[351]="GroupAttributeGetUri"]=351,t[e[352]="GroupAttributeRetUri"]=352,t[e[353]="GroupAttributeSetUri"]=353,t[e[354]="GroupAttributeModUri"]=354,t[e[355]="GroupAttributeDelUri"]=355,t[e[356]="GroupAttributeAltUri"]=356,t[e[357]="GroupAttributeRspUri"]=357,t[e[358]="GroupAttributeErrUri"]=358,t[e[361]="GroupAttributeKeysGetUri"]=361,t[e[362]="GroupAttributeKeysRetUri"]=362,t[e[401]="SubscribeUserStatusUri"]=401,t[e[402]="UnsubscribeUserStatusUri"]=402,t[e[499]="SubscribeResponseUri"]=499,t[e[601]="StateSubscribeUri"]=601,t[e[602]="StateUpdateUri"]=602,t[e[603]="StateSubscribeResultUri"]=603,t[e[604]="StateUnsubscribeUri"]=604,t[e[605]="StateSetUri"]=605,t[e[606]="StateModifyUri"]=606,t[e[607]="StateRequestResultUri"]=607,t[e[608]="StateGetUri"]=608,t[e[609]="StateGetResultUri"]=609,t[e[610]="StateLockAcquireUri"]=610,t[e[611]="StateLockReleaseUri"]=611,t[e[612]="StateLockAcquireResultUri"]=612,t[e[613]="StateLockUpdateUri"]=613,t[e[614]="StateLockReleaseResultUri"]=614,t[e[615]="StateLockDisableUri"]=615,t[e[616]="StateLockDisableResultUri"]=616,t}(),cl=P.Wrapper=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.uri=0,e.prototype.data=H.newBuffer([]),e.encode=function(t,n){return n||(n=ta.create()),t.uri!=null&&Object.hasOwnProperty.call(t,"uri")&&n.uint32(8).int32(t.uri),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&n.uint32(18).bytes(t.data),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.Wrapper;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.uri=t.int32();break;case 2:r.data=t.bytes();break;default:t.skipType(7&o)}}return r},e}(),YI=P.Ping=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.ms=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.ms!=null&&Object.hasOwnProperty.call(t,"ms")&&n.uint32(16).uint64(t.ms),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.Ping;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.ms=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),ZI=P.Pong=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.ms=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.ms!=null&&Object.hasOwnProperty.call(t,"ms")&&n.uint32(16).uint64(t.ms),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.Pong;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.ms=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),$I=P.UserJoin=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.opt=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.instance=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.opt!=null&&Object.hasOwnProperty.call(t,"opt")&&n.uint32(16).uint64(t.opt),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(24).uint64(t.instance),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(34).string(t.account),t.ticket!=null&&Object.hasOwnProperty.call(t,"ticket")&&n.uint32(42).string(t.ticket),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserJoin;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.opt=t.uint64();break;case 3:r.instance=t.uint64();break;case 4:r.account=t.string();break;case 5:r.ticket=t.string();break;default:t.skipType(7&o)}}return r},e}(),aJ=P.UserResp=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(24).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserResp;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),bJ=P.UserQuit=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.encode=function(t,n){return n||(n=ta.create()),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserQuit;t.pos<n;){var o=t.uint32();t.skipType(7&o)}return r},e}(),cJ=P.UserDrop=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(8).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserDrop;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),dJ=P.UserTicketNearlyExpire=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.expireTs=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.ticket="",e.encode=function(t,n){return n||(n=ta.create()),t.expireTs!=null&&Object.hasOwnProperty.call(t,"expireTs")&&n.uint32(8).uint64(t.expireTs),t.ticket!=null&&Object.hasOwnProperty.call(t,"ticket")&&n.uint32(18).string(t.ticket),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserTicketNearlyExpire;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.expireTs=t.uint64();break;case 2:r.ticket=t.string();break;default:t.skipType(7&o)}}return r},e}(),eJ=P.UserRenewTokenReq=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(t,n){return n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(26).string(t.account),t.ticket!=null&&Object.hasOwnProperty.call(t,"ticket")&&n.uint32(34).string(t.ticket),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserRenewTokenReq;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.account=t.string();break;case 4:r.ticket=t.string();break;default:t.skipType(7&o)}}return r},e}(),fJ=P.UserRenewTokenResp=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserRenewTokenResp;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),gJ=P.GroupEnter=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupEnter;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;default:t.skipType(7&o)}}return r},e}(),hJ=P.GroupLeave=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.account="",e.encode=function(t,n){return n||(n=ta.create()),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(10).string(t.account),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupLeave;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.account=t.string();break;default:t.skipType(7&o)}}return r},e}(),iJ=P.GroupReply=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(24).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupReply;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),Sw=P.GroupLeaveNotice=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.user!=null&&Object.hasOwnProperty.call(t,"user")&&n.uint32(18).string(t.user),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(26).string(t.group),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(32).uint64(t.instance),t.size!=null&&Object.hasOwnProperty.call(t,"size")&&n.uint32(40).uint32(t.size),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupLeaveNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.user=t.string();break;case 3:r.group=t.string();break;case 4:r.instance=t.uint64();break;case 5:r.size=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),Tw=P.GroupEnterNotice=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.user!=null&&Object.hasOwnProperty.call(t,"user")&&n.uint32(18).string(t.user),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(26).string(t.group),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(32).uint64(t.instance),t.size!=null&&Object.hasOwnProperty.call(t,"size")&&n.uint32(40).uint32(t.size),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupEnterNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.user=t.string();break;case 3:r.group=t.string();break;case 4:r.instance=t.uint64();break;case 5:r.size=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),Uw=P.Message=function(){function e(t){if(this.MiscMap={},t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.dialogue=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.sequence=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.options=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.src="",e.prototype.dst="",e.prototype.payload=H.newBuffer([]),e.prototype.MiscMap=H.emptyObject,e.prototype.ms=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){if(n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.dialogue!=null&&Object.hasOwnProperty.call(t,"dialogue")&&n.uint32(16).uint64(t.dialogue),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),t.options!=null&&Object.hasOwnProperty.call(t,"options")&&n.uint32(32).uint64(t.options),t.src!=null&&Object.hasOwnProperty.call(t,"src")&&n.uint32(42).string(t.src),t.dst!=null&&Object.hasOwnProperty.call(t,"dst")&&n.uint32(50).string(t.dst),t.payload!=null&&Object.hasOwnProperty.call(t,"payload")&&n.uint32(58).bytes(t.payload),t.MiscMap!=null&&Object.hasOwnProperty.call(t,"MiscMap"))for(var r=Object.keys(t.MiscMap),o=0;o<r.length;++o)n.uint32(66).fork().uint32(10).string(r[o]).uint32(18).bytes(t.MiscMap[r[o]]).ldelim();return t.ms!=null&&Object.hasOwnProperty.call(t,"ms")&&n.uint32(72).uint64(t.ms),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r,o,i=new P.Message;t.pos<n;)switch(r=t.uint32(),r>>>3){case 1:i.instance=t.uint64();break;case 2:i.dialogue=t.uint64();break;case 3:i.sequence=t.uint64();break;case 4:i.options=t.uint64();break;case 5:i.src=t.string();break;case 6:i.dst=t.string();break;case 7:i.payload=t.bytes();break;case 8:i.MiscMap===H.emptyObject&&(i.MiscMap={});var s=t.uint32()+t.pos;for(r="",o=[];t.pos<s;){var l=t.uint32();switch(l>>>3){case 1:r=t.string();break;case 2:o=t.bytes();break;default:t.skipType(7&l)}}i.MiscMap[r]=o;break;case 9:i.ms=t.uint64();break;default:t.skipType(7&r)}return i},e}(),Vw=P.Ack=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.dialogue=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.sequence=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.dialogue!=null&&Object.hasOwnProperty.call(t,"dialogue")&&n.uint32(16).uint64(t.dialogue),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(32).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.Ack;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.dialogue=t.uint64();break;case 3:r.sequence=t.uint64();break;case 4:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),jJ=P.GroupDrop=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.account="",e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(10).string(t.account),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupDrop;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.account=t.string();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),kJ=P.GroupAllUsersList=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.pageSize=0,e.prototype.pageNumber=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.pageSize!=null&&Object.hasOwnProperty.call(t,"pageSize")&&n.uint32(24).uint32(t.pageSize),t.pageNumber!=null&&Object.hasOwnProperty.call(t,"pageNumber")&&n.uint32(32).uint32(t.pageNumber),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupAllUsersList;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.pageSize=t.uint32();break;case 4:r.pageNumber=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),lJ=P.GroupAllUsersResult=function(){function e(t){if(this.memberInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.totalSize=0,e.prototype.pageSize=0,e.prototype.pageNumber=0,e.prototype.memberInfos=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.totalSize!=null&&Object.hasOwnProperty.call(t,"totalSize")&&n.uint32(24).uint32(t.totalSize),t.pageSize!=null&&Object.hasOwnProperty.call(t,"pageSize")&&n.uint32(32).uint32(t.pageSize),t.pageNumber!=null&&Object.hasOwnProperty.call(t,"pageNumber")&&n.uint32(40).uint32(t.pageNumber),t.memberInfos!=null&&t.memberInfos.length)for(var r=0;r<t.memberInfos.length;++r)P.GroupAllUsersResult.MemberInfo.encode(t.memberInfos[r],n.uint32(50).fork()).ldelim();return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupAllUsersResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.totalSize=t.uint32();break;case 4:r.pageSize=t.uint32();break;case 5:r.pageNumber=t.uint32();break;case 6:r.memberInfos&&r.memberInfos.length||(r.memberInfos=[]),r.memberInfos.push(P.GroupAllUsersResult.MemberInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.MemberInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.account="",t.prototype.ts=0,t.encode=function(n,r){return r||(r=ta.create()),n.account!=null&&Object.hasOwnProperty.call(n,"account")&&r.uint32(10).string(n.account),n.ts!=null&&Object.hasOwnProperty.call(n,"ts")&&r.uint32(16).uint32(n.ts),r},t.decode=function(n,r){n instanceof S||(n=S.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new P.GroupAllUsersResult.MemberInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.account=n.string();break;case 2:o.ts=n.uint32();break;default:n.skipType(7&i)}}return o},t}(),e}(),mJ=P.UserStatusList=function(){function e(t){if(this.users=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.users=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.users!=null&&t.users.length)for(var r=0;r<t.users.length;++r)n.uint32(18).string(t.users[r]);return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserStatusList;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),nJ=P.UserStatusResult=function(){function e(t){if(this.userInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.userInfos=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.userInfos!=null&&t.userInfos.length)for(var r=0;r<t.userInfos.length;++r)P.UserStatusResult.UserStatusInfo.encode(t.userInfos[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserStatusResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.userInfos&&r.userInfos.length||(r.userInfos=[]),r.userInfos.push(P.UserStatusResult.UserStatusInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.UserStatusInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.account="",t.prototype.ts=0,t.encode=function(n,r){return r||(r=ta.create()),n.account!=null&&Object.hasOwnProperty.call(n,"account")&&r.uint32(10).string(n.account),n.ts!=null&&Object.hasOwnProperty.call(n,"ts")&&r.uint32(16).uint32(n.ts),r},t.decode=function(n,r){n instanceof S||(n=S.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new P.UserStatusResult.UserStatusInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.account=n.string();break;case 2:o.ts=n.uint32();break;default:n.skipType(7&i)}}return o},t}(),e}(),oJ=P.UserAttributeGet=function(){function e(t){if(this.attributes=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),t.attributes!=null&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)n.uint32(26).string(t.attributes[r]);return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserAttributeGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),pJ=P.UserAttributeRet=function(){function e(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.attributeInfos=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.attributeInfos!=null&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)P.UserAttributeRet.AttributeInfo.encode(t.attributeInfos[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserAttributeRet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(P.UserAttributeRet.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),r},t.decode=function(n,r){n instanceof S||(n=S.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new P.UserAttributeRet.AttributeInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;default:n.skipType(7&i)}}return o},t}(),e}(),qJ=P.UserAttributeSet=function(){function e(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),t.attributeInfos!=null&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)P.UserAttributeSet.AttributeInfo.encode(t.attributeInfos[r],n.uint32(26).fork()).ldelim();return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserAttributeSet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(P.UserAttributeSet.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),r},t.decode=function(n,r){n instanceof S||(n=S.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new P.UserAttributeSet.AttributeInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;default:n.skipType(7&i)}}return o},t}(),e}(),rJ=P.UserAttributeMod=function(){function e(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),t.attributeInfos!=null&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)P.UserAttributeMod.AttributeInfo.encode(t.attributeInfos[r],n.uint32(26).fork()).ldelim();return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserAttributeMod;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(P.UserAttributeMod.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),r},t.decode=function(n,r){n instanceof S||(n=S.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new P.UserAttributeMod.AttributeInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;default:n.skipType(7&i)}}return o},t}(),e}(),sJ=P.UserAttributeDel=function(){function e(t){if(this.attributes=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),t.attributes!=null&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)n.uint32(26).string(t.attributes[r]);return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserAttributeDel;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),tJ=P.UserAttributeErr=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserAttributeErr;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),uJ=P.UserAttributeKeysGet=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserAttributeKeysGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;default:t.skipType(7&o)}}return r},e}(),vJ=P.UserAttributeKeysRet=function(){function e(t){if(this.keys=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.keys=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.keys!=null&&t.keys.length)for(var r=0;r<t.keys.length;++r)n.uint32(18).string(t.keys[r]);return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserAttributeKeysRet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.keys&&r.keys.length||(r.keys=[]),r.keys.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),wJ=P.UserAttributeRsp=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserAttributeRsp;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),xJ=P.GroupStatusList=function(){function e(t){if(this.groups=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.groups=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.groups!=null&&t.groups.length)for(var r=0;r<t.groups.length;++r)n.uint32(18).string(t.groups[r]);return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupStatusList;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.groups&&r.groups.length||(r.groups=[]),r.groups.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),yJ=P.GroupStatusResult=function(){function e(t){if(this.groupInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.groupInfos=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.groupInfos!=null&&t.groupInfos.length)for(var r=0;r<t.groupInfos.length;++r)P.GroupStatusResult.GroupInfo.encode(t.groupInfos[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupStatusResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.groupInfos&&r.groupInfos.length||(r.groupInfos=[]),r.groupInfos.push(P.GroupStatusResult.GroupInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.GroupInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.group="",t.prototype.memberCount=0,t.encode=function(n,r){return r||(r=ta.create()),n.group!=null&&Object.hasOwnProperty.call(n,"group")&&r.uint32(10).string(n.group),n.memberCount!=null&&Object.hasOwnProperty.call(n,"memberCount")&&r.uint32(16).uint32(n.memberCount),r},t.decode=function(n,r){n instanceof S||(n=S.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new P.GroupStatusResult.GroupInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.group=n.string();break;case 2:o.memberCount=n.uint32();break;default:n.skipType(7&i)}}return o},t}(),e}(),zJ=P.GroupCountNotice=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.size=0,e.encode=function(t,n){return n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(26).string(t.group),t.size!=null&&Object.hasOwnProperty.call(t,"size")&&n.uint32(32).uint32(t.size),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupCountNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.group=t.string();break;case 4:r.size=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),AJ=P.GroupAttributeGet=function(){function e(t){if(this.attributes=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.attributes=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.attributes!=null&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)n.uint32(26).string(t.attributes[r]);return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupAttributeGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),BJ=P.GroupAttributeRet=function(){function e(t){if(this.attributeMaps=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.attributeMaps!=null&&t.attributeMaps.length)for(var r=0;r<t.attributeMaps.length;++r)P.GroupAttributeRet.AttributeMap.encode(t.attributeMaps[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupAttributeRet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.attributeMaps&&r.attributeMaps.length||(r.attributeMaps=[]),r.attributeMaps.push(P.GroupAttributeRet.AttributeMap.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeMap=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.prototype.origin="",t.prototype.ms=H.Long?H.Long.fromBits(0,0,!0):0,t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),n.origin!=null&&Object.hasOwnProperty.call(n,"origin")&&r.uint32(26).string(n.origin),n.ms!=null&&Object.hasOwnProperty.call(n,"ms")&&r.uint32(32).uint64(n.ms),r},t.decode=function(n,r){n instanceof S||(n=S.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new P.GroupAttributeRet.AttributeMap;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;case 3:o.origin=n.string();break;case 4:o.ms=n.uint64();break;default:n.skipType(7&i)}}return o},t}(),e}(),CJ=P.GroupAttributeSet=function(){function e(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.broadcast!=null&&Object.hasOwnProperty.call(t,"broadcast")&&n.uint32(24).bool(t.broadcast),t.attributeInfos!=null&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)P.GroupAttributeSet.AttributeInfo.encode(t.attributeInfos[r],n.uint32(34).fork()).ldelim();return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupAttributeSet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.broadcast=t.bool();break;case 4:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(P.GroupAttributeSet.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),r},t.decode=function(n,r){n instanceof S||(n=S.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new P.GroupAttributeSet.AttributeInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;default:n.skipType(7&i)}}return o},t}(),e}(),DJ=P.GroupAttributeMod=function(){function e(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.broadcast!=null&&Object.hasOwnProperty.call(t,"broadcast")&&n.uint32(24).bool(t.broadcast),t.attributeInfos!=null&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)P.GroupAttributeMod.AttributeInfo.encode(t.attributeInfos[r],n.uint32(34).fork()).ldelim();return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupAttributeMod;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.broadcast=t.bool();break;case 4:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(P.GroupAttributeMod.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),r},t.decode=function(n,r){n instanceof S||(n=S.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new P.GroupAttributeMod.AttributeInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;default:n.skipType(7&i)}}return o},t}(),e}(),EJ=P.GroupAttributeDel=function(){function e(t){if(this.attributes=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributes=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.broadcast!=null&&Object.hasOwnProperty.call(t,"broadcast")&&n.uint32(24).bool(t.broadcast),t.attributes!=null&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)n.uint32(34).string(t.attributes[r]);return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupAttributeDel;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.broadcast=t.bool();break;case 4:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),FJ=P.GroupAttributeAlt=function(){function e(t){if(this.attributeMaps=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.instance=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(24).uint64(t.instance),t.attributeMaps!=null&&t.attributeMaps.length)for(var r=0;r<t.attributeMaps.length;++r)P.GroupAttributeAlt.AttributeMap.encode(t.attributeMaps[r],n.uint32(34).fork()).ldelim();return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupAttributeAlt;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.instance=t.uint64();break;case 4:r.attributeMaps&&r.attributeMaps.length||(r.attributeMaps=[]),r.attributeMaps.push(P.GroupAttributeAlt.AttributeMap.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeMap=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.prototype.origin="",t.prototype.ms=H.Long?H.Long.fromBits(0,0,!0):0,t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),n.origin!=null&&Object.hasOwnProperty.call(n,"origin")&&r.uint32(26).string(n.origin),n.ms!=null&&Object.hasOwnProperty.call(n,"ms")&&r.uint32(32).uint64(n.ms),r},t.decode=function(n,r){n instanceof S||(n=S.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new P.GroupAttributeAlt.AttributeMap;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;case 3:o.origin=n.string();break;case 4:o.ms=n.uint64();break;default:n.skipType(7&i)}}return o},t}(),e}(),GJ=P.GroupAttributeRsp=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupAttributeRsp;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),HJ=P.GroupAttributeErr=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupAttributeErr;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),IJ=P.GroupAttributeKeysGet=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.group="",e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupAttributeKeysGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;default:t.skipType(7&o)}}return r},e}(),JJ=P.GroupAttributeKeysRet=function(){function e(t){if(this.keys=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.keys=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.keys!=null&&t.keys.length)for(var r=0;r<t.keys.length;++r)n.uint32(18).string(t.keys[r]);return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.GroupAttributeKeysRet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.keys&&r.keys.length||(r.keys=[]),r.keys.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),KJ=P.SubscribeUserStatus=function(){function e(t){if(this.users=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.users=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.users!=null&&t.users.length)for(var r=0;r<t.users.length;++r)n.uint32(18).string(t.users[r]);return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.SubscribeUserStatus;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),LJ=P.UnsubscribeUserStatus=function(){function e(t){if(this.users=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.users=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.users!=null&&t.users.length)for(var r=0;r<t.users.length;++r)n.uint32(18).string(t.users[r]);return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UnsubscribeUserStatus;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),MJ=P.UserJoinNotice=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(t,n){return n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),t.user!=null&&Object.hasOwnProperty.call(t,"user")&&n.uint32(26).string(t.user),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserJoinNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.user=t.string();break;default:t.skipType(7&o)}}return r},e}(),NJ=P.UserQuitNotice=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(t,n){return n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),t.user!=null&&Object.hasOwnProperty.call(t,"user")&&n.uint32(26).string(t.user),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserQuitNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.user=t.string();break;default:t.skipType(7&o)}}return r},e}(),OJ=P.UserWaitNotice=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(t,n){return n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),t.user!=null&&Object.hasOwnProperty.call(t,"user")&&n.uint32(26).string(t.user),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.UserWaitNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.user=t.string();break;default:t.skipType(7&o)}}return r},e}(),PJ=P.StateSubscribe=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.sequence=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.subTarget!=null&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateSubscribe;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.sequence=t.uint64();break;case 4:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),QJ=P.StateUpdate=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.allStates="",e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.subTarget!=null&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),t.allStates!=null&&Object.hasOwnProperty.call(t,"allStates")&&n.uint32(26).string(t.allStates),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateUpdate;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.allStates=t.string();break;case 4:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),RJ=P.StateSubscribeResult=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.sequence=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.subTarget!=null&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(40).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateSubscribeResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.sequence=t.uint64();break;case 4:r.flags=t.uint64();break;case 5:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),SJ=P.StateUnsubscribe=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.sequence=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.subTarget!=null&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateUnsubscribe;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.sequence=t.uint64();break;case 4:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),TJ=P.StateSet=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.author="",e.prototype.value="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.sequence=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.baseRevision=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.lockRev=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.author!=null&&Object.hasOwnProperty.call(t,"author")&&n.uint32(18).string(t.author),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&n.uint32(26).string(t.value),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(34).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(42).string(t.requestUuid),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(48).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(56).uint64(t.flags),t.baseRevision!=null&&Object.hasOwnProperty.call(t,"baseRevision")&&n.uint32(64).uint64(t.baseRevision),t.lockRev!=null&&Object.hasOwnProperty.call(t,"lockRev")&&n.uint32(72).uint64(t.lockRev),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateSet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.author=t.string();break;case 3:r.value=t.string();break;case 4:r.lock=t.string();break;case 5:r.requestUuid=t.string();break;case 6:r.sequence=t.uint64();break;case 7:r.flags=t.uint64();break;case 8:r.baseRevision=t.uint64();break;case 9:r.lockRev=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),UJ=P.StateModify=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.author="",e.prototype.value="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.sequence=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.baseRevision=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.lockRev=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.author!=null&&Object.hasOwnProperty.call(t,"author")&&n.uint32(18).string(t.author),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&n.uint32(26).string(t.value),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(34).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(42).string(t.requestUuid),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(48).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(56).uint64(t.flags),t.baseRevision!=null&&Object.hasOwnProperty.call(t,"baseRevision")&&n.uint32(64).uint64(t.baseRevision),t.lockRev!=null&&Object.hasOwnProperty.call(t,"lockRev")&&n.uint32(72).uint64(t.lockRev),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateModify;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.author=t.string();break;case 3:r.value=t.string();break;case 4:r.lock=t.string();break;case 5:r.requestUuid=t.string();break;case 6:r.sequence=t.uint64();break;case 7:r.flags=t.uint64();break;case 8:r.baseRevision=t.uint64();break;case 9:r.lockRev=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),VJ=P.StateRequestResult=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.requestUuid="",e.prototype.sequence=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(10).string(t.requestUuid),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(16).uint64(t.sequence),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(24).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateRequestResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.requestUuid=t.string();break;case 2:r.sequence=t.uint64();break;case 3:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),WJ=P.StateGet=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.lock="",e.prototype.sequence=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.lockRev=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.subTarget!=null&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(26).string(t.lock),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(32).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(40).uint64(t.flags),t.lockRev!=null&&Object.hasOwnProperty.call(t,"lockRev")&&n.uint32(48).uint64(t.lockRev),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.lock=t.string();break;case 4:r.sequence=t.uint64();break;case 5:r.flags=t.uint64();break;case 6:r.lockRev=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),XJ=P.StateGetResult=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.allStates="",e.prototype.sequence=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.subTarget!=null&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),t.allStates!=null&&Object.hasOwnProperty.call(t,"allStates")&&n.uint32(26).string(t.allStates),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(32).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(40).uint64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(48).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateGetResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.allStates=t.string();break;case 4:r.sequence=t.uint64();break;case 5:r.flags=t.uint64();break;case 6:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),YJ=P.StateLockAcquire=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.ttl=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),t.ttl!=null&&Object.hasOwnProperty.call(t,"ttl")&&n.uint32(40).uint64(t.ttl),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateLockAcquire;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;case 5:r.ttl=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),ZJ=P.StateLockRelease=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateLockRelease;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),$J=P.StateLockAcquireResult=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.lockRev=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.prototype.reason="",e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),t.lockRev!=null&&Object.hasOwnProperty.call(t,"lockRev")&&n.uint32(40).uint64(t.lockRev),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(48).uint32(t.code),t.reason!=null&&Object.hasOwnProperty.call(t,"reason")&&n.uint32(58).string(t.reason),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateLockAcquireResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;case 5:r.lockRev=t.uint64();break;case 6:r.code=t.uint32();break;case 7:r.reason=t.string();break;default:t.skipType(7&o)}}return r},e}(),aK=P.StateLockUpdate=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(24).uint64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(32).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateLockUpdate;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.flags=t.uint64();break;case 4:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),bK=P.StateLockReleaseResult=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(40).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateLockReleaseResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;case 5:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),cK=P.StateLockDisable=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.userId="",e.prototype.requestUuid="",e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(26).string(t.userId),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(34).string(t.requestUuid),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(40).uint64(t.flags),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateLockDisable;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.userId=t.string();break;case 4:r.requestUuid=t.string();break;case 5:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),dK=P.StateLockDisableResult=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(40).uint32(t.code),n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.StateLockDisableResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;case 5:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),eK=P.SubscribeResponse=function(){function e(t){if(this.errors=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.errors=H.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.errors!=null&&t.errors.length)for(var r=0;r<t.errors.length;++r)P.SubscribeResponse.SubscribeErrorsType.encode(t.errors[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(t,n){t instanceof S||(t=S.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new P.SubscribeResponse;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.errors&&r.errors.length||(r.errors=[]),r.errors.push(P.SubscribeResponse.SubscribeErrorsType.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.SubscribeErrorsType=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.account="",t.prototype.code=0,t.encode=function(n,r){return r||(r=ta.create()),n.account!=null&&Object.hasOwnProperty.call(n,"account")&&r.uint32(10).string(n.account),n.code!=null&&Object.hasOwnProperty.call(n,"code")&&r.uint32(16).uint32(n.code),r},t.decode=function(n,r){n instanceof S||(n=S.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new P.SubscribeResponse.SubscribeErrorsType;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.account=n.string();break;case 2:o.code=n.uint32();break;default:n.skipType(7&i)}}return o},t}(),e}(),fK=Object.freeze({__proto__:null,URI:XI,Wrapper:cl,Ping:YI,Pong:ZI,UserJoin:$I,UserResp:aJ,UserQuit:bJ,UserDrop:cJ,UserTicketNearlyExpire:dJ,UserRenewTokenReq:eJ,UserRenewTokenResp:fJ,GroupEnter:gJ,GroupLeave:hJ,GroupReply:iJ,GroupLeaveNotice:Sw,GroupEnterNotice:Tw,Message:Uw,Ack:Vw,GroupDrop:jJ,GroupAllUsersList:kJ,GroupAllUsersResult:lJ,UserStatusList:mJ,UserStatusResult:nJ,UserAttributeGet:oJ,UserAttributeRet:pJ,UserAttributeSet:qJ,UserAttributeMod:rJ,UserAttributeDel:sJ,UserAttributeErr:tJ,UserAttributeKeysGet:uJ,UserAttributeKeysRet:vJ,UserAttributeRsp:wJ,GroupStatusList:xJ,GroupStatusResult:yJ,GroupCountNotice:zJ,GroupAttributeGet:AJ,GroupAttributeRet:BJ,GroupAttributeSet:CJ,GroupAttributeMod:DJ,GroupAttributeDel:EJ,GroupAttributeAlt:FJ,GroupAttributeRsp:GJ,GroupAttributeErr:HJ,GroupAttributeKeysGet:IJ,GroupAttributeKeysRet:JJ,SubscribeUserStatus:KJ,UnsubscribeUserStatus:LJ,UserJoinNotice:MJ,UserQuitNotice:NJ,UserWaitNotice:OJ,StateSubscribe:PJ,StateUpdate:QJ,StateSubscribeResult:RJ,StateUnsubscribe:SJ,StateSet:TJ,StateModify:UJ,StateRequestResult:VJ,StateGet:WJ,StateGetResult:XJ,StateLockAcquire:YJ,StateLockRelease:ZJ,StateLockAcquireResult:$J,StateLockUpdate:aK,StateLockReleaseResult:bK,StateLockDisable:cK,StateLockDisableResult:dK,SubscribeResponse:eK,default:P}),gK=Math.ceil,Ww=function(e){return function(t,n,r){var o=(t=String(Dc(t))).length;return r=r===void 0?" ":String(r),(n=vb(n))<=o||r==""?t:(n-=o,(o=tt.call(r,gK(n/r.length))).length>n&&(o=o.slice(0,n)),e?t+o:o+t)}},hK=Ww(!1),iK=Ww(!0),Xw=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(fh);xa({target:"String",proto:!0,forced:Xw},{padEnd:function(e){return iK(this,e,1<arguments.length?arguments[1]:void 0)}});var jK=vi,Yw=function(e){return function(t){t=Nc(t);for(var n,r=De(t),o=r.length,i=0,s=[];o>i;)n=r[i++],ab&&!jK.call(t,n)||s.push(e?[n,t[n]]:t[n]);return s}},kK=Yw(!0),lK=Yw(!1);xa({target:"Object",stat:!0},{entries:function(e){return kK(e)}});var mK=ld.f,Zw="".endsWith,nK=Math.min,$w=ho("endsWith"),oK=!$w&&!!function(){var e=mK(String.prototype,"endsWith");return e&&!e.writable}();xa({target:"String",proto:!0,forced:!oK&&!$w},{endsWith:function(e){var t=String(Dc(this));go(e);var n=1<arguments.length?arguments[1]:void 0,r=vb(t.length);return n=n===void 0?r:nK(vb(n),r),r=String(e),Zw?Zw.call(t,r,n):t.slice(n-r.length,n)===r}}),gk("match",1,function(e,t,n){return[function(r){var o=Dc(this),i=r==null?void 0:r[e];return i!==void 0?i.call(r,o):new RegExp(r)[e](String(o))},function(r){var o=n(t,r,this);if(o.done)return o.value;if(r=sb(r),o=String(this),!r.global)return gh(r,o);var i=r.unicode;r.lastIndex=0;for(var s,l=[],u=0;(s=gh(r,o))!==null;)s=String(s[0]),l[u]=s,s===""&&(r.lastIndex=bn(o,vb(r.lastIndex),i)),u++;return u===0?null:l}]});var pK=ld.f,ax="".startsWith,qK=Math.min,bx=ho("startsWith"),rK=!bx&&!!function(){var e=pK(String.prototype,"startsWith");return e&&!e.writable}();xa({target:"String",proto:!0,forced:!rK&&!bx},{startsWith:function(e){var t=String(Dc(this));go(e);var n=vb(qK(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return ax?ax.call(t,r,n):t.slice(n,n+r.length)===r}});var qs=function(e){var t=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(e=e.replace(t,function(r,o,i,s){switch(i=n.shift(),s){case"s":i=""+i;break;case"d":i=Number(i);break;case"j":i=JSON.stringify(i)}return o?(n.unshift(i),r):i})),n.length&&(e+=" "+n.join(" ")),""+(e=e.replace(/%{2,2}/g,"%"))},sK=/\s/,tK=/^\s+/,cx=NaN,uK=/^[-+]0x[0-9a-f]+$/i,vK=/^0b[01]+$/i,wK=/^0o[0-7]+$/i,xK=parseInt,dl=function(e){if(typeof e=="number")return e;if(Mg(e))return cx;if(Ic(e)&&(e=typeof e.valueOf=="function"?e.valueOf():e,e=Ic(e)?e+"":e),typeof e!="string")return e===0?e:+e;if(e){for(var t=e.slice,n=e.length;n--&&sK.test(e.charAt(n)););e=t.call(e,0,n+1).replace(tK,"")}return(t=vK.test(e))||wK.test(e)?xK(e.slice(2),t?2:8):uK.test(e)?cx:+e},yK=Math.max,zK=Math.min,AK=function(e,t,n){function r(N){var C=u,Y=f;return u=f=void 0,m=N,h=e.apply(Y,C)}function o(N){var C=N-y;return N-=m,y===void 0||C>=t||0>C||A&&N>=I}function i(){var N=cd.Date.now();if(o(N))return s(N);var C=setTimeout,Y=N-m;N=t-(N-y),Y=A?zK(N,I-Y):N,g=C(i,Y)}function s(N){return g=void 0,k&&u?r(N):(u=f=void 0,h)}function l(){var N=cd.Date.now(),C=o(N);if(u=arguments,f=this,y=N,C){if(g===void 0)return m=N=y,g=setTimeout(i,t),R?r(N):h;if(A)return clearTimeout(g),g=setTimeout(i,t),r(y)}return g===void 0&&(g=setTimeout(i,t)),h}var u,f,h,g,y,m=0,R=!1,A=!1,k=!0;if(typeof e!="function")throw new TypeError("Expected a function");if(t=dl(t)||0,Ic(n)){R=!!n.leading;var I=(A="maxWait"in n)?yK(dl(n.maxWait)||0,t):I;k="trailing"in n?!!n.trailing:k}return l.cancel=function(){g!==void 0&&clearTimeout(g),m=0,u=y=f=g=void 0},l.flush=function(){return g===void 0?h:s(cd.Date.now())},l},BK=Math.max,CK=Math.min,dx=1/0,jp=function(e){return e?(e=dl(e))===dx||e===-dx?17976931348623157e292*(0>e?-1:1):e==e?e:0:e===0?e:0},ex=function(e,t,n){return t=jp(t),n===void 0?(n=t,t=0):n=jp(n),(e=dl(e))>=CK(t,n)&&e<BK(t,n)},uc=Vd.Writer,M=Vd.util,ac=Vd.roots.default||(Vd.roots.default={}),DK=ac.Session=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.elapse=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.appId="",e.prototype.ver="",e.prototype.buildno=0,e.prototype.installId="",e.prototype.os=0,e.prototype.did="",e.prototype.index=null,e.prototype.token="",e.prototype.version=0,e.prototype.subVersion=0,e.encode=function(t,n){return n||(n=uc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.appId!=null&&Object.hasOwnProperty.call(t,"appId")&&n.uint32(42).string(t.appId),t.ver!=null&&Object.hasOwnProperty.call(t,"ver")&&n.uint32(50).string(t.ver),t.buildno!=null&&Object.hasOwnProperty.call(t,"buildno")&&n.uint32(56).int32(t.buildno),t.installId!=null&&Object.hasOwnProperty.call(t,"installId")&&n.uint32(66).string(t.installId),t.os!=null&&Object.hasOwnProperty.call(t,"os")&&n.uint32(128).int32(t.os),t.did!=null&&Object.hasOwnProperty.call(t,"did")&&n.uint32(138).string(t.did),t.index!=null&&Object.hasOwnProperty.call(t,"index")&&ac.Session.CommonIndex.encode(t.index,n.uint32(162).fork()).ldelim(),t.token!=null&&Object.hasOwnProperty.call(t,"token")&&n.uint32(170).string(t.token),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&n.uint32(176).int32(t.version),t.subVersion!=null&&Object.hasOwnProperty.call(t,"subVersion")&&n.uint32(184).int32(t.subVersion),n},e.CommonIndex=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.index1="",t.prototype.index2="",t.prototype.index3="",t.encode=function(n,r){return r||(r=uc.create()),n.index1!=null&&Object.hasOwnProperty.call(n,"index1")&&r.uint32(10).string(n.index1),n.index2!=null&&Object.hasOwnProperty.call(n,"index2")&&r.uint32(18).string(n.index2),n.index3!=null&&Object.hasOwnProperty.call(n,"index3")&&r.uint32(26).string(n.index3),r},t}(),e}(),EK=ac.ApEvent=function(){function e(t){if(this.linkServerList=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.elapse=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.apAddr="",e.prototype.linkServerList=M.emptyArray,e.prototype.errCode=0,e.prototype.serverErrCode=0,e.prototype.isp="",e.prototype.opId=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.envId=0,e.prototype.flag=0,e.prototype.area="",e.encode=function(t,n){if(n||(n=uc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.apAddr!=null&&Object.hasOwnProperty.call(t,"apAddr")&&n.uint32(50).string(t.apAddr),t.linkServerList!=null&&t.linkServerList.length)for(var r=0;r<t.linkServerList.length;++r)n.uint32(58).string(t.linkServerList[r]);return t.errCode!=null&&Object.hasOwnProperty.call(t,"errCode")&&n.uint32(72).int32(t.errCode),t.serverErrCode!=null&&Object.hasOwnProperty.call(t,"serverErrCode")&&n.uint32(80).int32(t.serverErrCode),t.isp!=null&&Object.hasOwnProperty.call(t,"isp")&&n.uint32(90).string(t.isp),t.opId!=null&&Object.hasOwnProperty.call(t,"opId")&&n.uint32(96).int64(t.opId),t.envId!=null&&Object.hasOwnProperty.call(t,"envId")&&n.uint32(104).int32(t.envId),t.flag!=null&&Object.hasOwnProperty.call(t,"flag")&&n.uint32(112).int32(t.flag),t.area!=null&&Object.hasOwnProperty.call(t,"area")&&n.uint32(122).string(t.area),n},e}(),FK=ac.ApRequest=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.elapse=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.apAddr="",e.prototype.opId=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.envId=0,e.prototype.flag=0,e.encode=function(t,n){return n||(n=uc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.apAddr!=null&&Object.hasOwnProperty.call(t,"apAddr")&&n.uint32(42).string(t.apAddr),t.opId!=null&&Object.hasOwnProperty.call(t,"opId")&&n.uint32(48).int64(t.opId),t.envId!=null&&Object.hasOwnProperty.call(t,"envId")&&n.uint32(56).int32(t.envId),t.flag!=null&&Object.hasOwnProperty.call(t,"flag")&&n.uint32(64).int32(t.flag),n},e}(),GK=ac.LinkLoginRequest=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.elapse=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.destServerIp="",e.prototype.linkId=0,e.encode=function(t,n){return n||(n=uc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.destServerIp!=null&&Object.hasOwnProperty.call(t,"destServerIp")&&n.uint32(42).string(t.destServerIp),t.linkId!=null&&Object.hasOwnProperty.call(t,"linkId")&&n.uint32(48).int32(t.linkId),n},e}(),HK=ac.Link=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.elapse=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.ec=0,e.prototype.sc=0,e.prototype.destServerIp="",e.prototype.ackedServerIp="",e.prototype.responseTime=0,e.encode=function(t,n){return n||(n=uc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.ec!=null&&Object.hasOwnProperty.call(t,"ec")&&n.uint32(40).int32(t.ec),t.sc!=null&&Object.hasOwnProperty.call(t,"sc")&&n.uint32(48).int32(t.sc),t.destServerIp!=null&&Object.hasOwnProperty.call(t,"destServerIp")&&n.uint32(58).string(t.destServerIp),t.ackedServerIp!=null&&Object.hasOwnProperty.call(t,"ackedServerIp")&&n.uint32(66).string(t.ackedServerIp),t.responseTime!=null&&Object.hasOwnProperty.call(t,"responseTime")&&n.uint32(72).int32(t.responseTime),n},e}(),IK=ac.Logout=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.elapse=M.Long?M.Long.fromBits(0,0,!1):0,e.encode=function(t,n){return n||(n=uc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),n},e}(),JK=ac.KickedOff=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.elapse=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.linkId=0,e.prototype.code=0,e.prototype.server="",e.prototype.serverCode=0,e.encode=function(t,n){return n||(n=uc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.linkId!=null&&Object.hasOwnProperty.call(t,"linkId")&&n.uint32(48).int32(t.linkId),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(56).int32(t.code),t.server!=null&&Object.hasOwnProperty.call(t,"server")&&n.uint32(66).string(t.server),t.serverCode!=null&&Object.hasOwnProperty.call(t,"serverCode")&&n.uint32(72).int32(t.serverCode),n},e}(),KK=ac.ChnJoin=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.elapse=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(t,n){return n||(n=uc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.cname!=null&&Object.hasOwnProperty.call(t,"cname")&&n.uint32(50).string(t.cname),t.errCode!=null&&Object.hasOwnProperty.call(t,"errCode")&&n.uint32(56).int32(t.errCode),n},e}(),LK=ac.ChnJoinRes=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.elapse=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.prototype.serverErrCode=0,e.encode=function(t,n){return n||(n=uc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.cname!=null&&Object.hasOwnProperty.call(t,"cname")&&n.uint32(50).string(t.cname),t.errCode!=null&&Object.hasOwnProperty.call(t,"errCode")&&n.uint32(56).int32(t.errCode),t.serverErrCode!=null&&Object.hasOwnProperty.call(t,"serverErrCode")&&n.uint32(64).int32(t.serverErrCode),n},e}(),MK=ac.ChnLeave=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.elapse=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(t,n){return n||(n=uc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.cname!=null&&Object.hasOwnProperty.call(t,"cname")&&n.uint32(50).string(t.cname),t.errCode!=null&&Object.hasOwnProperty.call(t,"errCode")&&n.uint32(56).int32(t.errCode),n},e}(),NK=ac.ConnectionStateChange=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.elapse=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.oldState=0,e.prototype.newState=0,e.prototype.reason=0,e.prototype.reconnId=0,e.encode=function(t,n){return n||(n=uc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.oldState!=null&&Object.hasOwnProperty.call(t,"oldState")&&n.uint32(40).int32(t.oldState),t.newState!=null&&Object.hasOwnProperty.call(t,"newState")&&n.uint32(48).int32(t.newState),t.reason!=null&&Object.hasOwnProperty.call(t,"reason")&&n.uint32(56).int32(t.reason),t.reconnId!=null&&Object.hasOwnProperty.call(t,"reconnId")&&n.uint32(64).int32(t.reconnId),n},e}(),fx=ac.RtmSdkMessageCount=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.vid=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.messagecategory=0,e.prototype.reportsequence=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.sentcount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.receivedcount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack10mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack25mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack50mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack75mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack100mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack150mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack200mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack250mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack300mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack400mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack500mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack600mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack800mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack1000mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack2000mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack3000mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack5000mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerack7000mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.peerackslowcount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack10mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack25mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack50mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack75mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack100mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack150mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack200mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack250mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack300mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack400mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack500mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack600mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack800mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack1000mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack2000mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack3000mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack5000mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientack7000mscount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.norecipientackslowcount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.acktimeoutcount=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.apimajorversion=0,e.prototype.apiminorversion=0,e.prototype.os=0,e.prototype.toooftencount=0,e.prototype.receiverofflinecount=0,e.prototype.invalidmessagecount=0,e.prototype.unknowerrorcount=0,e.prototype.servercachedcount=0,e.prototype.timeoutcount=0,e.prototype.successcount=0,e.prototype.userid="",e.encode=function(t,n){return n||(n=uc.create()),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(8).int64(t.lts),t.vid!=null&&Object.hasOwnProperty.call(t,"vid")&&n.uint32(16).int64(t.vid),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(26).string(t.sid),t.messagecategory!=null&&Object.hasOwnProperty.call(t,"messagecategory")&&n.uint32(32).int32(t.messagecategory),t.reportsequence!=null&&Object.hasOwnProperty.call(t,"reportsequence")&&n.uint32(40).int64(t.reportsequence),t.sentcount!=null&&Object.hasOwnProperty.call(t,"sentcount")&&n.uint32(48).int64(t.sentcount),t.receivedcount!=null&&Object.hasOwnProperty.call(t,"receivedcount")&&n.uint32(56).int64(t.receivedcount),t.peerack10mscount!=null&&Object.hasOwnProperty.call(t,"peerack10mscount")&&n.uint32(64).int64(t.peerack10mscount),t.peerack25mscount!=null&&Object.hasOwnProperty.call(t,"peerack25mscount")&&n.uint32(72).int64(t.peerack25mscount),t.peerack50mscount!=null&&Object.hasOwnProperty.call(t,"peerack50mscount")&&n.uint32(80).int64(t.peerack50mscount),t.peerack75mscount!=null&&Object.hasOwnProperty.call(t,"peerack75mscount")&&n.uint32(88).int64(t.peerack75mscount),t.peerack100mscount!=null&&Object.hasOwnProperty.call(t,"peerack100mscount")&&n.uint32(96).int64(t.peerack100mscount),t.peerack150mscount!=null&&Object.hasOwnProperty.call(t,"peerack150mscount")&&n.uint32(104).int64(t.peerack150mscount),t.peerack200mscount!=null&&Object.hasOwnProperty.call(t,"peerack200mscount")&&n.uint32(112).int64(t.peerack200mscount),t.peerack250mscount!=null&&Object.hasOwnProperty.call(t,"peerack250mscount")&&n.uint32(120).int64(t.peerack250mscount),t.peerack300mscount!=null&&Object.hasOwnProperty.call(t,"peerack300mscount")&&n.uint32(128).int64(t.peerack300mscount),t.peerack400mscount!=null&&Object.hasOwnProperty.call(t,"peerack400mscount")&&n.uint32(136).int64(t.peerack400mscount),t.peerack500mscount!=null&&Object.hasOwnProperty.call(t,"peerack500mscount")&&n.uint32(144).int64(t.peerack500mscount),t.peerack600mscount!=null&&Object.hasOwnProperty.call(t,"peerack600mscount")&&n.uint32(152).int64(t.peerack600mscount),t.peerack800mscount!=null&&Object.hasOwnProperty.call(t,"peerack800mscount")&&n.uint32(160).int64(t.peerack800mscount),t.peerack1000mscount!=null&&Object.hasOwnProperty.call(t,"peerack1000mscount")&&n.uint32(168).int64(t.peerack1000mscount),t.peerack2000mscount!=null&&Object.hasOwnProperty.call(t,"peerack2000mscount")&&n.uint32(176).int64(t.peerack2000mscount),t.peerack3000mscount!=null&&Object.hasOwnProperty.call(t,"peerack3000mscount")&&n.uint32(184).int64(t.peerack3000mscount),t.peerack5000mscount!=null&&Object.hasOwnProperty.call(t,"peerack5000mscount")&&n.uint32(192).int64(t.peerack5000mscount),t.peerack7000mscount!=null&&Object.hasOwnProperty.call(t,"peerack7000mscount")&&n.uint32(200).int64(t.peerack7000mscount),t.peerackslowcount!=null&&Object.hasOwnProperty.call(t,"peerackslowcount")&&n.uint32(208).int64(t.peerackslowcount),t.norecipientack10mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack10mscount")&&n.uint32(216).int64(t.norecipientack10mscount),t.norecipientack25mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack25mscount")&&n.uint32(224).int64(t.norecipientack25mscount),t.norecipientack50mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack50mscount")&&n.uint32(232).int64(t.norecipientack50mscount),t.norecipientack75mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack75mscount")&&n.uint32(240).int64(t.norecipientack75mscount),t.norecipientack100mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack100mscount")&&n.uint32(248).int64(t.norecipientack100mscount),t.norecipientack150mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack150mscount")&&n.uint32(256).int64(t.norecipientack150mscount),t.norecipientack200mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack200mscount")&&n.uint32(264).int64(t.norecipientack200mscount),t.norecipientack250mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack250mscount")&&n.uint32(272).int64(t.norecipientack250mscount),t.norecipientack300mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack300mscount")&&n.uint32(280).int64(t.norecipientack300mscount),t.norecipientack400mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack400mscount")&&n.uint32(288).int64(t.norecipientack400mscount),t.norecipientack500mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack500mscount")&&n.uint32(296).int64(t.norecipientack500mscount),t.norecipientack600mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack600mscount")&&n.uint32(304).int64(t.norecipientack600mscount),t.norecipientack800mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack800mscount")&&n.uint32(312).int64(t.norecipientack800mscount),t.norecipientack1000mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack1000mscount")&&n.uint32(320).int64(t.norecipientack1000mscount),t.norecipientack2000mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack2000mscount")&&n.uint32(328).int64(t.norecipientack2000mscount),t.norecipientack3000mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack3000mscount")&&n.uint32(336).int64(t.norecipientack3000mscount),t.norecipientack5000mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack5000mscount")&&n.uint32(344).int64(t.norecipientack5000mscount),t.norecipientack7000mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack7000mscount")&&n.uint32(352).int64(t.norecipientack7000mscount),t.norecipientackslowcount!=null&&Object.hasOwnProperty.call(t,"norecipientackslowcount")&&n.uint32(360).int64(t.norecipientackslowcount),t.acktimeoutcount!=null&&Object.hasOwnProperty.call(t,"acktimeoutcount")&&n.uint32(368).int64(t.acktimeoutcount),t.apimajorversion!=null&&Object.hasOwnProperty.call(t,"apimajorversion")&&n.uint32(376).int32(t.apimajorversion),t.apiminorversion!=null&&Object.hasOwnProperty.call(t,"apiminorversion")&&n.uint32(384).int32(t.apiminorversion),t.os!=null&&Object.hasOwnProperty.call(t,"os")&&n.uint32(392).int32(t.os),t.toooftencount!=null&&Object.hasOwnProperty.call(t,"toooftencount")&&n.uint32(400).int32(t.toooftencount),t.receiverofflinecount!=null&&Object.hasOwnProperty.call(t,"receiverofflinecount")&&n.uint32(408).int32(t.receiverofflinecount),t.invalidmessagecount!=null&&Object.hasOwnProperty.call(t,"invalidmessagecount")&&n.uint32(416).int32(t.invalidmessagecount),t.unknowerrorcount!=null&&Object.hasOwnProperty.call(t,"unknowerrorcount")&&n.uint32(424).int32(t.unknowerrorcount),t.servercachedcount!=null&&Object.hasOwnProperty.call(t,"servercachedcount")&&n.uint32(432).int32(t.servercachedcount),t.timeoutcount!=null&&Object.hasOwnProperty.call(t,"timeoutcount")&&n.uint32(440).int32(t.timeoutcount),t.successcount!=null&&Object.hasOwnProperty.call(t,"successcount")&&n.uint32(448).int32(t.successcount),t.userid!=null&&Object.hasOwnProperty.call(t,"userid")&&n.uint32(458).string(t.userid),n},e}(),OK=ac.SyncOperateEvent=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.ip="",e.prototype.userid="",e.prototype.vid=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.requestts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.replyts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.target="",e.prototype.eventtype="",e.prototype.revision=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.uuid="",e.prototype.sdktype=0,e.prototype.flags=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.code=0,e.prototype.seq=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.index=null,e.prototype.lock="",e.prototype.lockrev=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.subtarget="",e.prototype.usersid="",e.prototype.sdkip="",e.encode=function(t,n){return n||(n=uc.create()),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(8).int64(t.lts),t.ip!=null&&Object.hasOwnProperty.call(t,"ip")&&n.uint32(18).string(t.ip),t.userid!=null&&Object.hasOwnProperty.call(t,"userid")&&n.uint32(26).string(t.userid),t.vid!=null&&Object.hasOwnProperty.call(t,"vid")&&n.uint32(32).int64(t.vid),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(42).string(t.sid),t.requestts!=null&&Object.hasOwnProperty.call(t,"requestts")&&n.uint32(48).int64(t.requestts),t.replyts!=null&&Object.hasOwnProperty.call(t,"replyts")&&n.uint32(56).int64(t.replyts),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(66).string(t.target),t.eventtype!=null&&Object.hasOwnProperty.call(t,"eventtype")&&n.uint32(74).string(t.eventtype),t.revision!=null&&Object.hasOwnProperty.call(t,"revision")&&n.uint32(80).int64(t.revision),t.uuid!=null&&Object.hasOwnProperty.call(t,"uuid")&&n.uint32(90).string(t.uuid),t.sdktype!=null&&Object.hasOwnProperty.call(t,"sdktype")&&n.uint32(96).int32(t.sdktype),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(104).int64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(112).int32(t.code),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(120).int64(t.seq),t.index!=null&&Object.hasOwnProperty.call(t,"index")&&ac.CommonIndex.encode(t.index,n.uint32(130).fork()).ldelim(),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(138).string(t.lock),t.lockrev!=null&&Object.hasOwnProperty.call(t,"lockrev")&&n.uint32(144).int64(t.lockrev),t.subtarget!=null&&Object.hasOwnProperty.call(t,"subtarget")&&n.uint32(154).string(t.subtarget),t.usersid!=null&&Object.hasOwnProperty.call(t,"usersid")&&n.uint32(162).string(t.usersid),t.sdkip!=null&&Object.hasOwnProperty.call(t,"sdkip")&&n.uint32(170).string(t.sdkip),n},e}(),PK=ac.SyncSubscribeEvent=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.ip="",e.prototype.userid="",e.prototype.vid=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.target="",e.prototype.eventtype="",e.prototype.sdktype=0,e.prototype.flags=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.code=0,e.prototype.seq=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.requestts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.replyts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.index=null,e.prototype.subtarget="",e.prototype.usersid="",e.prototype.sdkip="",e.encode=function(t,n){return n||(n=uc.create()),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(8).int64(t.lts),t.ip!=null&&Object.hasOwnProperty.call(t,"ip")&&n.uint32(18).string(t.ip),t.userid!=null&&Object.hasOwnProperty.call(t,"userid")&&n.uint32(26).string(t.userid),t.vid!=null&&Object.hasOwnProperty.call(t,"vid")&&n.uint32(32).int64(t.vid),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(42).string(t.sid),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(66).string(t.target),t.eventtype!=null&&Object.hasOwnProperty.call(t,"eventtype")&&n.uint32(74).string(t.eventtype),t.sdktype!=null&&Object.hasOwnProperty.call(t,"sdktype")&&n.uint32(96).int32(t.sdktype),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(104).int64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(112).int32(t.code),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(120).int64(t.seq),t.requestts!=null&&Object.hasOwnProperty.call(t,"requestts")&&n.uint32(128).int64(t.requestts),t.replyts!=null&&Object.hasOwnProperty.call(t,"replyts")&&n.uint32(136).int64(t.replyts),t.index!=null&&Object.hasOwnProperty.call(t,"index")&&ac.CommonIndex.encode(t.index,n.uint32(146).fork()).ldelim(),t.subtarget!=null&&Object.hasOwnProperty.call(t,"subtarget")&&n.uint32(154).string(t.subtarget),t.usersid!=null&&Object.hasOwnProperty.call(t,"usersid")&&n.uint32(162).string(t.usersid),t.sdkip!=null&&Object.hasOwnProperty.call(t,"sdkip")&&n.uint32(170).string(t.sdkip),n},e}(),QK=ac.SyncUpdateEvent=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.lts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.ip="",e.prototype.userid="",e.prototype.vid=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.replyts=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.target="",e.prototype.eventtype="",e.prototype.revision=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.sdktype=0,e.prototype.flags=M.Long?M.Long.fromBits(0,0,!1):0,e.prototype.count=0,e.prototype.delta=0,e.prototype.code=0,e.prototype.index=null,e.prototype.subtarget="",e.prototype.usersid="",e.prototype.sdkip="",e.encode=function(t,n){return n||(n=uc.create()),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(8).int64(t.lts),t.ip!=null&&Object.hasOwnProperty.call(t,"ip")&&n.uint32(18).string(t.ip),t.userid!=null&&Object.hasOwnProperty.call(t,"userid")&&n.uint32(26).string(t.userid),t.vid!=null&&Object.hasOwnProperty.call(t,"vid")&&n.uint32(32).int64(t.vid),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(42).string(t.sid),t.replyts!=null&&Object.hasOwnProperty.call(t,"replyts")&&n.uint32(56).int64(t.replyts),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(66).string(t.target),t.eventtype!=null&&Object.hasOwnProperty.call(t,"eventtype")&&n.uint32(74).string(t.eventtype),t.revision!=null&&Object.hasOwnProperty.call(t,"revision")&&n.uint32(80).int64(t.revision),t.sdktype!=null&&Object.hasOwnProperty.call(t,"sdktype")&&n.uint32(96).int32(t.sdktype),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(104).int64(t.flags),t.count!=null&&Object.hasOwnProperty.call(t,"count")&&n.uint32(112).int32(t.count),t.delta!=null&&Object.hasOwnProperty.call(t,"delta")&&n.uint32(120).int32(t.delta),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(128).int32(t.code),t.index!=null&&Object.hasOwnProperty.call(t,"index")&&ac.CommonIndex.encode(t.index,n.uint32(138).fork()).ldelim(),t.subtarget!=null&&Object.hasOwnProperty.call(t,"subtarget")&&n.uint32(162).string(t.subtarget),t.usersid!=null&&Object.hasOwnProperty.call(t,"usersid")&&n.uint32(170).string(t.usersid),t.sdkip!=null&&Object.hasOwnProperty.call(t,"sdkip")&&n.uint32(178).string(t.sdkip),n},e}(),RK=ac.CommonIndex=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.index1="",e.prototype.index2="",e.prototype.index3="",e.encode=function(t,n){return n||(n=uc.create()),t.index1!=null&&Object.hasOwnProperty.call(t,"index1")&&n.uint32(10).string(t.index1),t.index2!=null&&Object.hasOwnProperty.call(t,"index2")&&n.uint32(18).string(t.index2),t.index3!=null&&Object.hasOwnProperty.call(t,"index3")&&n.uint32(26).string(t.index3),n},e}(),lC=Object.freeze({__proto__:null,Session:DK,ApEvent:EK,ApRequest:FK,LinkLoginRequest:GK,Link:HK,Logout:IK,KickedOff:JK,ChnJoin:KK,ChnJoinRes:LK,ChnLeave:MK,ConnectionStateChange:NK,RtmSdkMessageCount:fx,SyncOperateEvent:OK,SyncSubscribeEvent:PK,SyncUpdateEvent:QK,CommonIndex:RK,default:ac}),SK=Ha(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});xa({target:"Date",proto:!0,forced:SK},{toJSON:function(e){e=Yb(this);var t=fe(e);return typeof t!="number"||isFinite(t)?e.toISOString():null}}),xa({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var hC=Object.prototype.hasOwnProperty,gx=function(e,t,n){return JSON.stringify(gs(e),t,n)};gx.ensureProperties=gs;var TK=function(e,t){t=t||{};var n=Ka(e);if(n==="string"&&0<e.length)return iC(e);if(n==="number"&&isFinite(e))return t.long?e=864e5<=(t=Math.abs(e))?Mj(e,t,864e5,"day"):36e5<=t?Mj(e,t,36e5,"hour"):6e4<=t?Mj(e,t,6e4,"minute"):1e3<=t?Mj(e,t,1e3,"second"):e+" ms":e=864e5<=(t=Math.abs(e))?Math.round(e/864e5)+"d":36e5<=t?Math.round(e/36e5)+"h":6e4<=t?Math.round(e/6e4)+"m":1e3<=t?Math.round(e/1e3)+"s":e+"ms",e;throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},UK=function(e){function t(o){function i(){for(var u=arguments.length,f=Array(u),h=0;h<u;h++)f[h]=arguments[h];if(i.enabled){u=Number(new Date),i.diff=u-(s||u),i.prev=s,s=i.curr=u,f[0]=t.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var g=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(y,m){return y==="%%"?"%":(g++,typeof(m=t.formatters[m])=="function"&&(y=m.call(i,f[g]),f.splice(g,1),g--),y)}),t.formatArgs.call(i,f),(i.log||t.log).apply(i,f)}}var s,l=null;return i.namespace=o,i.useColors=t.useColors(),i.color=t.selectColor(o),i.extend=n,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:function(){return l===null?t.enabled(o):l},set:function(u){l=u}}),typeof t.init=="function"&&t.init(i),i}function n(o,i){return(o=t(this.namespace+(i===void 0?":":i)+o)).log=this.log,o}function r(o){return o.toString().substring(2,o.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(o){return o instanceof Error?o.stack||o.message:o},t.disable=function(){var o=[].concat(ra(t.names.map(r)),ra(t.skips.map(r).map(function(i){return"-"+i}))).join(",");return t.enable(""),o},t.enable=function(o){t.save(o),t.names=[],t.skips=[];var i,s=(typeof o=="string"?o:"").split(/[\s,]+/),l=s.length;for(i=0;i<l;i++)s[i]&&((o=s[i].replace(/\*/g,".*?"))[0]==="-"?t.skips.push(new RegExp("^"+o.substr(1)+"$")):t.names.push(new RegExp("^"+o+"$")))},t.enabled=function(o){if(o[o.length-1]==="*")return!0;var i,s=0;for(i=t.skips.length;s<i;s++)if(t.skips[s].test(o))return!1;for(s=0,i=t.names.length;s<i;s++)if(t.names[s].test(o))return!0;return!1},t.humanize=TK,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(function(o){t[o]=e[o]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(o){for(var i=0,s=0;s<o.length;s++)i=(i<<5)-i+o.charCodeAt(s),i|=0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t},hx=lc(function(e,t){t.formatArgs=function(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var i="color: "+this.color;o.splice(1,0,i,"color: inherit");var s=0,l=0;o[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(s++,u==="%c"&&(l=s))}),o.splice(l,0,i)}},t.save=function(o){try{o?t.storage.setItem("debug",o):t.storage.removeItem("debug")}catch{}},t.load=function(){try{var o=t.storage.getItem("debug")}catch{}return!o&&typeof process<"u"&&"env"in process&&(o=process.env.DEBUG),o},t.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};t:{try{var n=localStorage;break t}catch{}n=void 0}var r;t.storage=n,t.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),t.log=console.debug||console.log||function(){},e.exports=UK(t),e.exports.formatters.j=function(o){try{return JSON.stringify(o)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}),ix=hx("RTM:DEBUG"),Ch;ix.enabled=!1,function(e){e[e.Uploading=0]="Uploading",e[e.Free=1]="Free"}(Ch||(Ch={}));var VK=function(){function e(t){Za(this,e),E(this,"uploadRequest",void 0),E(this,"uploadState",void 0),E(this,"uploadResendCount",void 0),E(this,"LogCache",void 0),E(this,"LogsToPost",void 0),E(this,"processId",void 0),E(this,"sdkVersion",void 0),E(this,"logId",void 0),E(this,"rtmConfig",void 0),this.processId=t.processId,this.sdkVersion=t.sdkVersion,this.rtmConfig=t.rtmConfig,this.uploadRequest=t.uploadRequest,this.uploadState=Ch.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0}return Nb(e,[{key:"upload",value:function(t){this.LogCache.push(t),this.uploadState===Ch.Free&&(this.LogsToPost=40>this.LogCache.length?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,40),this.postLog(this.LogsToPost))}},{key:"postLog",value:function(t){var n=this;this.uploadState=Ch.Uploading,setTimeout(Aa(X.mark(function r(){var o,i,s;return X.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o={sdk_version:n.sdkVersion,process_id:n.processId,payload:JSON.stringify(t)},l.prev=1,l.next=4,n.uploadRequest(o,(i=n.rtmConfig.enableCloudProxy)!==null&&i!==void 0&&i);case 4:if(!xm){l.next=6;break}throw Error("RTM is busy");case 6:l.next=13;break;case 8:return l.prev=8,l.t0=l.catch(1),s=2>n.uploadResendCount++?2e3:1e4,setTimeout(function(){return n.postLog(n.LogsToPost)},s),l.abrupt("return");case 13:if(ix('The logs uploaded for "process-'.concat(ej,'"')),n.LogCache.length!==0){l.next=17;break}return n.uploadState=Ch.Free,l.abrupt("return");case 17:n.uploadResendCount=0,n.LogsToPost=40>n.LogCache.length?n.LogCache.splice(0,n.LogCache.length):n.LogCache.splice(0,40),n.postLog(n.LogsToPost);case 20:case"end":return l.stop()}},r,null,[[1,8]])})),pg.getParameter("LOG_UPLOAD_INTERVAL"))}}]),e}(),jx=function(e,t,n,r,o,i,s,l){var u=0;for(s=!!s&&mf(s,l,3);u<r;){if(u in n){if(l=s?s(n[u],u,t):n[u],0<i&&nf(l))o=jx(e,t,l,vb(l.length),o,i-1)-1;else{if(9007199254740991<=o)throw TypeError("Exceed the acceptable array length");e[o]=l}o++}u++}return o},kx=jx;xa({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=Yb(this),n=vb(t.length),r=Bi(t,0);return r.length=kx(r,t,t,n,0,e===void 0?1:Ld(e)),r}}),xa({target:"Object",stat:!0},{values:function(e){return lK(e)}});var Te=function(e){function t(r,o){return Za(this,t),E(K(r=n.call(this,ps(r,o))),"originalError",void 0),E(K(r),"code",void 0),E(K(r),"serverCode",void 0),typeof o=="number"?r.code=o:typeof o=="string"?r.name=o:o!==void 0&&(o.originalError&&(r.originalError=o.originalError),o.code!==void 0&&(r.code=o.code),o.serverCode!==void 0&&(r.serverCode=o.serverCode)),r}mb(t,e);var n=nb(t);return t}($h(Error)),hc=function(e){function t(r,o){return Za(this,t),E(K(r=n.call(this,ps(r,o))),"name","RtmInternalError"),E(K(r),"code",void 0),r.code=o,r}mb(t,e);var n=nb(t);return t}($h(Error)),el=function(){return function(e){function t(r){Za(this,t);var o=Object.keys(r);return n.call(this,r[o[0]],o[0])}mb(t,e);var n=nb(t);return t}(hc)},qb=el(),Yc=function(e){function t(){Za(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(K(r=n.call.apply(n,[this].concat(o))),"name","RtmTimeoutError"),r}mb(t,e);var n=nb(t);return t}(Te),ka=function(e){function t(){Za(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(K(r=n.call.apply(n,[this].concat(o))),"name","RtmInvalidArgumentError"),r}mb(t,e);var n=nb(t);return t}(Te),ja=function(e){function t(){Za(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(K(r=n.call.apply(n,[this].concat(o))),"name","RtmInvalidStatusError"),r}mb(t,e);var n=nb(t);return t}(Te),qd=function(e){function t(){Za(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(K(r=n.call.apply(n,[this].concat(o))),"name","RtmLimitExceededError"),r}mb(t,e);var n=nb(t);return t}(Te),WK=function(e){function t(){Za(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(K(r=n.call.apply(n,[this].concat(o))),"name","RtmInvokeTooOftenError"),r}mb(t,e);var n=nb(t);return t}(Te),wa=function(e){function t(){Za(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(K(r=n.call.apply(n,[this].concat(o))),"name","RtmUnavailableError"),E(K(r),"serverCode",void 0),E(K(r),"statusCode",void 0),r}mb(t,e);var n=nb(t);return t}(Te),Dh=function(e){function t(){Za(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(K(r=n.call.apply(n,[this].concat(o))),"name","RtmUnauthenticatedError"),E(K(r),"serverCode",void 0),r}mb(t,e);var n=nb(t);return t}(Te),ed=function(e){function t(){Za(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(K(r=n.call.apply(n,[this].concat(o))),"name","RtmUnknownError"),r}mb(t,e);var n=nb(t);return t}(Te),vc=function(e){return e instanceof Yc||e instanceof Xc},Ra=function(e){return e instanceof Te},qg=function(e,t,n){return['Executing "%s.%s" timed out after %ds',e,t,n/1e3]},XK=["CODE"],fd,Af,pa;(function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"})(pa||(pa={}));var YK={CN:pa.CHINA,NA:pa.NORTH_AMERICA,EU:pa.EUROPE,AS:pa.ASIA,JP:pa.JAPAN,IN:pa.INDIA,GLOB:pa.GLOBAL,AF:pa.AFRICA,OC:pa.OVERSEA,OVS:pa.OVERSEA,SA:pa.SOUTH_AMERICA},Nj=us((fd={},E(fd,pa.ASIA,{CODE:pa.ASIA,AP_DOMAINS:["ap-web-1-asia.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-asia.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_AP:["proxy-ap-web-asia.agora.io"],PROXY_NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]}),E(fd,pa.NORTH_AMERICA,{CODE:pa.NORTH_AMERICA,AP_DOMAINS:["ap-web-1-north-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-north-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_AP:["proxy-ap-web-america.agora.io"],PROXY_NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]}),E(fd,pa.EUROPE,{CODE:pa.EUROPE,AP_DOMAINS:["ap-web-1-europe.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-europe.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_AP:["proxy-ap-web-europe.agora.io"],PROXY_NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]}),E(fd,pa.JAPAN,{CODE:pa.JAPAN,AP_DOMAINS:["ap-web-1-japan.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-japan.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_AP:["proxy-ap-web-japan.agora.io"],PROXY_NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]}),E(fd,pa.INDIA,{CODE:pa.INDIA,AP_DOMAINS:["ap-web-1-india.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-india.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_AP:["proxy-ap-web-india.agora.io"],PROXY_NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]}),E(fd,pa.OVERSEA,{CODE:pa.OVERSEA,AP_DOMAINS:["ap-web-1-oversea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_AP:["proxy-ap-web-oversea.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.agora.io"]}),E(fd,pa.GLOBAL,{CODE:pa.GLOBAL,AP_DOMAINS:["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS:["ap-web-3.agora.io","ap-web-4.agora.io"],EVENT_REPORT_DOMAIN:["webcollector-rtm.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["webcollector-1.agora.io"],LOG_UPLOAD_SERVER:["logservice-rtm.agora.io"],PROXY_AP:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.sd-rtn.com"]}),E(fd,pa.OCEANIA,{CODE:pa.OCEANIA,AP_DOMAINS:["ap-web-1-oceania.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oceania.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_AP:["proxy-ap-web-oceania.agora.io"],PROXY_NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]}),E(fd,pa.SOUTH_AMERICA,{CODE:pa.SOUTH_AMERICA,AP_DOMAINS:["ap-web-1-south-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-south-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_AP:["proxy-ap-web-south-america.agora.io"],PROXY_NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]}),E(fd,pa.AFRICA,{CODE:pa.AFRICA,AP_DOMAINS:["ap-web-1-africa.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-africa.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_AP:["proxy-ap-web-africa.agora.io"],PROXY_NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}),E(fd,pa.CHINA,{CODE:pa.CHINA,AP_DOMAINS:["webrtc2-2.ap.sd-rtn.com"],AP_BACKUP_DOMAINS:["webrtc2-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_AP:["proxy-ap-web.agoraio.cn"],PROXY_NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),fd)),oi=(Af={},E(Af,pa.ASIA,[pa.CHINA,pa.JAPAN,pa.INDIA]),E(Af,pa.EUROPE,[]),E(Af,pa.NORTH_AMERICA,[]),E(Af,pa.SOUTH_AMERICA,[]),E(Af,pa.OCEANIA,[]),E(Af,pa.AFRICA,[]),Af),lx=[pa.OVERSEA,pa.GLOBAL,pa.CHINA,pa.NORTH_AMERICA,pa.EUROPE,pa.ASIA,pa.JAPAN,pa.INDIA,pa.OCEANIA,pa.SOUTH_AMERICA,pa.AFRICA],hs=function(e){return Object.values(oi).flat().includes(e)},kC=function(e){var t;return(t=Tj(oi).find(function(n){return(n=Ob(n,2))[0],n[1].includes(e)}))===null||t===void 0?void 0:t[0]},ZK=function(e){return e.sort(function(t,n){return lx.indexOf(t)-lx.indexOf(n)})},Xg=function(e){var t=new Set;if((e=ZK(e).slice(0,3).map(function(n){var r=Nj[n];if(r===void 0)throw new hc("invalid area key");return n=r.CODE,r=am(r,XK),t.add(n),r})).length===0)throw new hc("areas cannot be empty");return Jb({CODES:t},e.reduce(function(n,r){for(var o=0,i=Tj(n);o<i.length;o++){var s=Ob(i[o],2),l=s[0];s=s[1],n[l]=Array.from(new Set([].concat(ra(r[l]),ra(s))))}return n}))},Ba,mx=function(){var e=Aa(X.mark(function t(n,r){var o,i,s,l,u,f=arguments;return X.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(2<(i=2<f.length&&f[2]!==void 0?f[2]:0))){h.next=3;break}return h.abrupt("return");case 3:return s={withCredentials:!0,body:n,timeout:2e4},l=0<i?(Ba==null?void 0:Ba.LOG_UPLOAD_SERVER[0])||"rtm.logservice.sd-rtn.com":(Ba==null?void 0:Ba.LOG_UPLOAD_SERVER[0])||"logservice-rtm.agora.io",u=r?"https://".concat((o=Ba==null?void 0:Ba.PROXY_NGINX[0])!==null&&o!==void 0?o:"webrtc-cloud-proxy.sd-rtn.com","/ls/?h=").concat(l,"&p=443&d=upload/v1"):"https://".concat(l,"/upload/v1"),h.next=8,Oj(u,s).catch(function(g){return mx(n,r,i+1)});case 8:case"end":return h.stop()}},t)}));return function(t,n){return e.apply(this,arguments)}}(),nx=new VK({processId:"process-".concat(ej),sdkVersion:"Agora_RTM_SDK_for_Web_".concat("v1.5.1-20-gbcf9f2a0"),uploadRequest:mx,rtmConfig:{}}),kp="text payload rawMessage thumbnail attributeInfos keys value extra".split(" "),ox="account ticket uid detail token account fileName cname user group key origin users src dst lastUpdateUserId channel cert wan_ip".split(" "),px=["serverReceivedTs","hasPeerReceived","messageType","enableNotificationToChannelMembers","lastUpdateTs"],$K="ChannelMessage MemberLeft MessageFromPeer LocalInvitationRefused LocalInvitationAccepted RemoteInvitationCanceled PeersOnlineStatusChanged AttributesUpdated MemberJoined".split(" "),Yg=function(e){if(typeof e=="string")return ub(e);if(Array.isArray(e)&&e.every(function(i){return typeof i=="string"}))return e.map(function(i){return ub(i)});if(!hr(e)){for(var t={},n=0;n<px.length;n++){var r=px[n];r in e&&(t[r]=e[r])}if(0<Object.keys(t).length)return t;if(5>Object.keys(e).length){for(n=0,e=Object.entries(e);n<e.length;n++){var o=Ob(e[n],2);r=o[0],o=o[1],kp.includes(r)?t[r]="[Hidden Info]":t[ub(r)]=typeof o=="string"?ub(o):"[Sensitive Info]"}return t}return"[Sensitive Info]"}return e},qx=function(e){return Ka(e)==="object"?Fg(e)?ts(Jg(e,5),kp,ox):e.constructor&&e.constructor.name:e},rx=function(e,t){return e instanceof Error?e.message:typeof e!="string"?JSON.stringify(ts(Jg(e,5),kp,ox)):(t=t.map(function(n){return n instanceof Error?n.message:Ka(n)==="object"?gx(Array.isArray(n)?n.map(qx):qx(n)):n}),qs.apply(void 0,[e.replace(/%[%Oo]/g,function(n){return n==="%%"?"%":n==="%o"||n==="%O"?"%s":n})].concat(ra(t))))},aL=1,sx=function(e,t,n){var r=hx(e);return r.enabled=!0,r.log=n,r.useColors=!1,function(o){for(var i=arguments.length,s=Array(1<i?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];if(t.enableLogUpload){i=Rj(o);var u=rx(i,s);nx.upload({log_item_id:"".concat(aL++),log_level:e,payload_str:"[".concat(bL(),"] ").concat(e," - ").concat(256<u.length?u.slice(0,256):u)})}switch(i=function(f){var h=u||rx(Rj(o),s),g=Sd.LOG_HANDLER;typeof g=="function"&&g({level:f,message:h}),r(h)},e){case"RTM:INFO":t.logFilter.info&&i("log");break;case"RTM:WARN":t.logFilter.warn&&i("warning");break;case"RTM:ERROR":t.logFilter.error&&i("error");break;case"RTM:TRACK":t.logFilter.track&&i("log");break;case"RTM:MSG:RECV":case"RTM:MSG:SEND":t.logFilter.debug&&i("debug");break;case"RTM:DEBUG":t.logFilter.debug&&i("debug")}}},lp,tx=function(e){return function(t){var n=lp===1||e===void 0?"":"Ins#".concat(e," ");return"".concat(n).concat(t)}},mp=function(e,t,n){var r=tx(lp);return sx("RTM:".concat(t),n,function(o){return e(r(o))})},zd=function(){return function(e){function t(r,o){var i=2<arguments.length&&arguments[2]!==void 0&&arguments[2];Za(this,t);var s=n.call(this);if(E(K(s),"logError",void 0),E(K(s),"invokeTracker",void 0),E(K(s),"resultTracker",void 0),E(K(s),"errorTracker",void 0),E(K(s),"eventTracker",void 0),E(K(s),"info",void 0),E(K(s),"warn",void 0),E(K(s),"log",void 0),E(K(s),"genLogger",void 0),E(K(s),"loggerId",void 0),E(K(s),"logger",void 0),E(K(s),"name",void 0),s.logger=r,s.name=o,s.loggerId=r.loggerId,s.info=r.info,s.warn=r.warn,s.logError=r.logError,s.genLogger=r.genLogger,s.log=r.genLogger("RTM:DEBUG","<".concat(o,"> ")),s.invokeTracker=r.genTracker("Invoke"),s.eventTracker=r.genTracker("Event"),s.resultTracker=r.genTracker("Result"),s.errorTracker=r.genTracker("Error"),i){var l=s.emit.bind(K(s));s.emit=function(){for(var u=arguments.length,f=Array(u),h=0;h<u;h++)f[h]=arguments[h];u=f[0],h=f.slice(1);var g=$K.includes(u);s.eventTracker.apply(s,["%s: ".concat(0<h.length?"%s emitted with args: ".concat(h.map(function(){return"%o"})):"%s emitted"),o,u].concat(ra(g?h.map(Yg):h)));try{l.apply(void 0,f)}catch(y){s.logError("Caught in the callback function of the event %s",u,y)}}}return s}mb(t,e);var n=nb(t);return t}(ib)},cL=function(e){return mp(console.log.bind(console),"INFO",e)},dL=function(e){return mp(console.warn.bind(console),"WARN",e)},eL=function(e){return mp(console.error.bind(console),"ERROR",e)},ux=function(e,t){return function(n){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"",o=tx(e),i=console.debug.bind(console),s=sx(n,t,function(l){return i(o(l))});return function(l){for(var u=arguments.length,f=Array(1<u?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return s.apply(void 0,[r+l].concat(f))}}},fL=function(e,t){return function(n){return ux(e,t)("RTM:TRACK","[".concat(n,"] "))}},mC=Object.freeze({__proto__:null,Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654,default:{Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654}}),tb;(function(e){e[e.ChannelSMsg=1]="ChannelSMsg",e[e.ChannelRMsg=2]="ChannelRMsg",e[e.P2pSMsgOfflineFlag=3]="P2pSMsgOfflineFlag",e[e.P2pRMsgOfflineFlag=4]="P2pRMsgOfflineFlag",e[e.P2pSMsgNoOfflineFlag=5]="P2pSMsgNoOfflineFlag",e[e.P2pRMsgNoOfflineFlag=6]="P2pRMsgNoOfflineFlag",e[e.P2pCallInvitation=7]="P2pCallInvitation",e[e.P2pCallCancellation=8]="P2pCallCancellation",e[e.P2pCallAcceptance=9]="P2pCallAcceptance",e[e.P2pCallRefusal=10]="P2pCallRefusal"})(tb||(tb={}));var fl=function(e){function t(r,o,i){return Za(this,t),E(K(o=n.call(this,o,"MessageReport")),"messagecount",o.getInitMessageCount()),E(K(o),"context",void 0),E(K(o),"rtmMessageCategory",void 0),E(K(o),"seq",U.fromNumber(1,!0)),o.context=r,o.rtmMessageCategory=i,o}mb(t,e);var n=nb(t);return Nb(t,[{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1)}},{key:"getInitMessageCount",value:function(){return{peerack10mscount:U.fromNumber(0),peerack25mscount:U.fromNumber(0),peerack50mscount:U.fromNumber(0),peerack75mscount:U.fromNumber(0),peerack100mscount:U.fromNumber(0),peerack150mscount:U.fromNumber(0),peerack200mscount:U.fromNumber(0),peerack250mscount:U.fromNumber(0),peerack300mscount:U.fromNumber(0),peerack400mscount:U.fromNumber(0),peerack500mscount:U.fromNumber(0),peerack600mscount:U.fromNumber(0),peerack800mscount:U.fromNumber(0),peerack1000mscount:U.fromNumber(0),peerack2000mscount:U.fromNumber(0),peerack3000mscount:U.fromNumber(0),peerack5000mscount:U.fromNumber(0),peerack7000mscount:U.fromNumber(0),peerackslowcount:U.fromNumber(0),norecipientack10mscount:U.fromNumber(0),norecipientack25mscount:U.fromNumber(0),norecipientack50mscount:U.fromNumber(0),norecipientack75mscount:U.fromNumber(0),norecipientack100mscount:U.fromNumber(0),norecipientack150mscount:U.fromNumber(0),norecipientack200mscount:U.fromNumber(0),norecipientack250mscount:U.fromNumber(0),norecipientack300mscount:U.fromNumber(0),norecipientack400mscount:U.fromNumber(0),norecipientack500mscount:U.fromNumber(0),norecipientack600mscount:U.fromNumber(0),norecipientack800mscount:U.fromNumber(0),norecipientack1000mscount:U.fromNumber(0),norecipientack2000mscount:U.fromNumber(0),norecipientack3000mscount:U.fromNumber(0),norecipientack5000mscount:U.fromNumber(0),norecipientack7000mscount:U.fromNumber(0),norecipientackslowcount:U.fromNumber(0),sentcount:U.fromNumber(0),receivedcount:U.fromNumber(0),acktimeoutcount:U.fromNumber(0),toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0}}},{key:"updatePeerAckCount",value:function(r){r/=2;for(var o=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],i=0;i<o.length;i++){var s,l=o[i];if(ex(r,l[0],l[1]))l="peerack".concat(l[1],"mscount"),this.messagecount[l]=(s=this.messagecount[l])===null||s===void 0?void 0:s.add(1);else if(7e3<r){var u;this.messagecount.peerackslowcount=(u=this.messagecount.peerackslowcount)===null||u===void 0?void 0:u.add(1)}}}},{key:"updateNorecipientackCount",value:function(r){r/=2;for(var o=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],i=0;i<o.length;i++){var s,l=o[i];if(ex(r,l[0],l[1]))l="norecipientack".concat(l[1],"mscount"),this.messagecount[l]=(s=this.messagecount[l])===null||s===void 0?void 0:s.add(1);else if(7e3<r){var u;this.messagecount.norecipientackslowcount=(u=this.messagecount.norecipientackslowcount)===null||u===void 0?void 0:u.add(1)}}}},{key:"updateCommonCount",value:function(r){var o=this.messagecount[r];U.isLong(o)?this.messagecount[r]=o.add(1):this.messagecount[r]=o+1}},{key:"report",value:function(){var r,o;Qb("RtmSdkMessageCount",new fx(Jb(Jb({},this.messagecount),{},{vid:U.fromString((r=this.context.vid)!==null&&r!==void 0?r:"0"),os:7,lts:U.fromNumber(Date.now()),sid:this.context.sid,reportsequence:this.incGetSeq(),apimajorversion:4,apiminorversion:19,userid:this.context.uid,messagecategory:this.rtmMessageCategory})),(o=this.context.config.enableCloudProxy)!==null&&o!==void 0&&o),this.messagecount=Jb(Jb({},this.messagecount),{},{toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0})}}]),t}(zd()),os=new Map,bL=function(){var e=new Date;return"".concat(e.toISOString().split("T")[1].replace(/\..+/,""),".").concat(e.getMilliseconds())},ni=Object.keys,Tj=Object.entries.bind(Object),Rj=function(e){return typeof e=="string"?e.endsWith(".")?e:"".concat(e,"."):e},Pm=P.URI,qC=cl,gL=am(fK,["Wrapper"]),ws=Io(gL,"URI"),vx=function(e,t){var n=-1,r=e.length,o=r-1;for(t=t===void 0?r:t;++n<t;){var i=e[r=Lw(n,o)];e[r]=e[n],e[n]=i}return e.length=t,e},hL=function(e){return vx(fm(e))},iL=function(e){return vx(Qm(e))},Eh=function(e){return(mc(e)?hL:iL)(e)},Fh={0:9591,1:9593},rg=function(e){var t=pi(null);return"https://".concat(t?null:e,"/api/v1")},jL=dc.apply(void 0,ra(Eh(["web-1.ap.sd-rtn.com","web-2.ap.sd-rtn.com"].map(rg)))),kL=dc.apply(void 0,ra(Eh(["ap-web-1.agora.io","ap-web-2.agora.io"].map(rg)))),lL=dc.apply(void 0,ra(Eh(["web-3.ap.sd-rtn.com","web-4.ap.sd-rtn.com"].map(rg)))),mL=dc.apply(void 0,ra(Eh(["ap-web-3.agora.io","ap-web-4.agora.io"].map(rg)))),wx=el(),np=function(e){function t(r,o,i,s,l,u){var f,h;Za(this,t);var g=n.call(this,l,Lm("Socket-",l.loggerId));if(E(K(g),"isActiveClose",!1),E(K(g),"loggedIn",!1),E(K(g),"useNewDomain",void 0),E(K(g),"receivedPacket",new ec),E(K(g),"open$",void 0),E(K(g),"input$",new ec),E(K(g),"userJoin$",new ec),E(K(g),"attemptsSinceLastError",0),E(K(g),"message$",new ec),E(K(g),"socket$",void 0),E(K(g),"toClose",new ec),E(K(g),"toReconnect",new ec),E(K(g),"sendLogger",void 0),E(K(g),"receiveLogger",void 0),E(K(g),"ip",void 0),E(K(g),"env",void 0),E(K(g),"ticket",void 0),E(K(g),"context",void 0),E(K(g),"getDomain",function(){return xs(g.ip,g.useNewDomain)}),E(K(g),"socketReconnector",function(R){var A=function(k){return g.attemptsSinceLastError+=1,g.warn("The %s of Env %d reconnecting %s",g.name,g.env,k.message),Be(3e3)};return R.pipe(Pb(function(k){return g.log("socket connection closed"),g.loggedIn=!1,2<=g.attemptsSinceLastError?(g.warn("socket connection failure"),g.emit("connectionFailure"),g.close(),Ua(k)):g.isActiveClose?Wc:(g.emit("reconnect"),g.useNewDomain=!g.useNewDomain,Ua(k))}),Tg(function(k){return k.pipe(Cc(A))}))}),g.ip=r,g.env=o,g.ticket=i,g.context=s,g.useNewDomain=u!=null?u:.5<=Math.random(),g.sendLogger=g.genLogger("RTM:MSG:SEND"),g.receiveLogger=g.genLogger("RTM:MSG:RECV"),o!==0&&o!==1)throw new wx({ILLEGAL_RTM_ENV:"The env number is out of rtm env count"});var y=Fh[o];g.log("Opening websocket address %s for the Env %d",g.ip,g.env),Qb("LinkLoginRequest",{sid:g.context.sid,userId:g.context.uid,lts:U.fromNumber(Date.now()),elapse:Kb(g.context.startTime),destServerIp:g.ip,linkId:g.env},(f=g.context.config.enableCloudProxy||g.context.socketUseProxy)!==null&&f!==void 0&&f),Qb("LinkLoginRequest",{sid:g.context.sid,userId:g.context.uid,lts:U.fromNumber(Date.now()),elapse:Kb(g.context.startTime),destServerIp:g.ip,linkId:g.env},(h=g.context.config.enableCloudProxy||g.context.socketUseProxy)!==null&&h!==void 0&&h);var m=Lc(g.input$,g.userJoin$.pipe(dC(2)),g.message$).pipe(jb(function(R){return cl.encode(R).finish()}));return r=Lc(eC("",{protocols:[],makeWebSocket:function(){if(g.context.config.enableCloudProxy||g.context.socketUseProxy){if(g.context.cloudProxyServers.length===0)throw g.logError("No cloud proxy server to connect"),new wa;var R=pi(null)?JSON.parse(null.replace(/-/g,".")):g.context.cloudProxyServers;R=Zg(R="wss://".concat(xs(is(R),!1),"/"),"sid",g.context.sid),R=Zg(R,"remote_port",y.toString()),R=Zg(R,"remote_ip",g.ip),R=Zg(R,"token",g.context.key),R=new WebSocket(R)}else R=new WebSocket("wss://".concat(g.getDomain(),":").concat(y));return R.binaryType="arraybuffer",R}}),g.toReconnect),g.socket$=$a(r,Vo.pipe(Mc(7e3),Pb(function(R){return vc(R)&&g.warn("socket open timed out"),Ua(R)}))).pipe(jb(function(R){if(R instanceof Error)throw g.warn("Env_%d: Force reconnect the socket",g.env),R;return R(m).pipe(jb(function(A){return cl.decode(new Uint8Array(A))}))}),g.socketReconnector),g.open$=g.socket$.pipe(Ia(function(R){g.log("Websocket opened",g.name),R.subscribe(function(A){var k=A.data;A=Pm[A.uri].slice(0,-3),k=ws[A].decode(k);var I=GI({},Io(k,"toJSON"),function(te,Xe){return Xe instanceof U?ns(Xe):Xe}),N=!1;if((k instanceof Tw||k instanceof Sw)&&k.instance.lessThanOrEqual(4294967295)&&(N=!0),k instanceof Uw||k instanceof Vw){var C=k.instance,Y=k.sequence;(k.dialogue.lessThanOrEqual(4294967295)||C.lessThanOrEqual(4294967295)||Y.lessThan(1))&&(N=!0)}N?g.warn("Env_%d: Illegal %s, abandoned %o",g.env,A,I):(A!=="Pong"&&g.receiveLogger("Env_%d: %s %o",g.env,A,I),g.receivedPacket.next([A,k]))},function(){})}),ji(void 0),be(g.toClose),Ug()),g}mb(t,e);var n=nb(t);return Nb(t,[{key:"address",get:function(){return"".concat(this.ip,":").concat(Fh[this.env])}},{key:"sendPacket",value:function(r,o){if(r!=="Ping"){var i=Ke(o,function(s){return s instanceof U?ns(s):s});this.sendLogger("Env_%d: %s %o",this.env,r,i)}o=pC(r,o),r==="UserJoin"?this.userJoin$.next(o):r==="Message"?this.message$.next(o):this.input$.next(o)}},{key:"close",value:function(){this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}},{key:"fromReceived",value:function(r){return this.receivedPacket.pipe(sc(function(o){return Ob(o,1)[0]===r}),jb(function(o){return Ob(o,2)[1]}))}},{key:"forceReconnect",value:function(){this.toReconnect.next(new wx({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}}]),t}(zd());xa({target:"String",proto:!0,forced:Xw},{padStart:function(e){return hK(this,e,1<arguments.length?arguments[1]:void 0)}});var nL=function(e){var t=ni(Nj);e=oC(e);for(var n=0;n<t.length;n++){var r=Nj[t[n]];if(r!=null&&r.AP_DOMAINS.includes(e)||r!=null&&r.AP_BACKUP_DOMAINS.includes(e)||r!=null&&r.PROXY_AP.includes(e))return[r.CODE]}return[pa.CHINA,pa.GLOBAL]},oL={INVALID_APP_ID:"Illegal App ID",NO_AUTHORIZED:"Signature verification failed",TOKEN_TIMEOUT:"Dynamic key expired",INVALID_TOKEN_UID:"UID in the security key(token) is not valid",APP_ID_NO_ACTIVATED:"The vendor is not activated",DYNAMIC_KEY_NOT_ENABLED:"The vendor did not enable the dynamic key, but uses the dynamic key",DYNAMIC_ENABLED_BUT_STATIC_KEY:"The vendor enabled the dynamic key, but uses the static key",TOKEN_EXPIRED:"The token has expired",INVALID_USER_ID:"The user ID to login does not match the token",FORBIDDEN_REGION:"Forbidden to access the request in this area",CANNOT_MEET_AREA_DEMAND:"Cannot allocate to meet the requirements of the given area limit"},xx={5:"INVALID_APP_ID",7:"INVALID_USER_ID",9:"NO_AUTHORIZED",10:"TOKEN_TIMEOUT",11:"APP_ID_NO_ACTIVATED",12:"INVALID_TOKEN_UID",13:"TOKEN_EXPIRED",14:"DYNAMIC_KEY_NOT_ENABLED",15:"DYNAMIC_ENABLED_BUT_STATIC_KEY",18:"FORBIDDEN_REGION",19:"CANNOT_MEET_AREA_DEMAND"},pL=[100,101,102],gl=/web-(\d)/,yx=function(e){function t(r,o){var i=2<arguments.length&&arguments[2]!==void 0&&arguments[2];Za(this,t);var s=n.call(this,o,"AccessPoint");return E(K(s),"handleUniLbsError",function(l,u){var f=l;if(4<l.toString().length){var h=l.toString().padStart(8,"0"),g=parseInt(h.slice(0,4),10);if(h=parseInt(h.slice(4,8),10),g===201)f=h;else if(g===101&&!pL.includes(h))return Ua(Error("service is currently unavailable"))}if(g=f.toString(),!Object.keys(xx).includes(g))return(l=new wa(["Login is rejected by the server. The response code is %d",l],fj)).serverCode=f,Ua(l);switch(g=xx[g],f=oL[g],g){case"INVALID_APP_ID":case"APP_ID_NO_ACTIVATED":return(u=new Dh(f,xw)).serverCode=l,Ua(u);case"INVALID_USER_ID":return(u=new Dh(f,Yk)).serverCode=l,Ua(u);case"TOKEN_EXPIRED":case"TOKEN_TIMEOUT":return(u=new Dh(f,Zk)).serverCode=l,Ua(u);case"NO_AUTHORIZED":case"INVALID_TOKEN_UID":case"DYNAMIC_KEY_NOT_ENABLED":case"DYNAMIC_ENABLED_BUT_STATIC_KEY":return(u=new Dh(f,yw)).serverCode=l,Ua(u);case"CANNOT_MEET_AREA_DEMAND":return(u=nL(u)).forEach(function(y){return s.failedAreas.add(y)}),s.failedAreas.size===(Ba===void 0?2:Ba.CODES.size)?((u=new ka(f,fj)).serverCode=l,Ua(u)):Ua(Error("ap ".concat(u.join(", ")," cannot meet requirement")));case"FORBIDDEN_REGION":return(u=new wa(f,fj)).serverCode=l,Ua(u);default:return Ua(ls("ApResErrType",g))}}),E(K(s),"getApEdgeInfo$",void 0),E(K(s),"getApEdgeInfoEndFirst$",void 0),E(K(s),"apFinish$",new ec),E(K(s),"retryCount",0),E(K(s),"failedAreas",new Set),E(K(s),"usedUrl",[]),E(K(s),"newDomainUsed",!1),E(K(s),"backupNewDomainUsed",!1),E(K(s),"genUrl",function(){return Ba===void 0?vm.apply(void 0,ra(Eh([jL,kL]))).pipe(wm(function(l){return dc.apply(void 0,ra(l))})):dc.apply(void 0,ra(Ba.AP_DOMAINS.slice(0,3).map(rg)))}),E(K(s),"genBackupUrl",function(){return Ba===void 0?vm.apply(void 0,ra(Eh([lL,mL]))).pipe(wm(function(l){return dc.apply(void 0,ra(l))})):dc.apply(void 0,ra(Ba.AP_BACKUP_DOMAINS.slice(0,3).map(rg)))}),E(K(s),"getApUrl$",function(l){var u,f;return s.genUrl().pipe(sc(function(h){return(!s.newDomainUsed||!h.includes("sd-rtn.com"))&&(h.includes("sd-rtn.com")&&(s.newDomainUsed=!0),!gp(s.usedUrl,function(g){var y;return g===((y=h.match(gl))===null||y===void 0?void 0:y[1])}))}),Ia(function(h){var g;Ba===void 0&&typeof(h=(g=h.match(gl))===null||g===void 0?void 0:g[1])=="string"&&s.usedUrl.push(h)}),Wb(l?Math.max(Sd.RECONNECTING_AP_NUM,(u=Ba==null?void 0:Ba.CODES.size)!==null&&u!==void 0?u:0):(f=Ba==null?void 0:Ba.CODES.size)!==null&&f!==void 0?f:2),Uf(function(){return t.runOutOfUrlSymbol}),Pb(function(h,g){return s.newDomainUsed=!1,h===t.runOutOfUrlSymbol?(s.usedUrl=[],g):Ua(h)}))}),E(K(s),"getBackupApUrl$",function(l){var u,f;return s.genBackupUrl().pipe(sc(function(h){return(!s.backupNewDomainUsed||!h.includes("sd-rtn.com"))&&(h.includes("sd-rtn.com")&&(s.backupNewDomainUsed=!0),!gp(s.usedUrl,function(g){var y;return g===((y=h.match(gl))===null||y===void 0?void 0:y[1])}))}),Ia(function(h){var g;Ba===void 0&&typeof(h=(g=h.match(gl))===null||g===void 0?void 0:g[1])=="string"&&s.usedUrl.push(h)}),Wb(l?Math.max(Sd.RECONNECTING_AP_NUM,(u=Ba==null?void 0:Ba.CODES.size)!==null&&u!==void 0?u:0):(f=Ba==null?void 0:Ba.CODES.size)!==null&&f!==void 0?f:2),Uf(function(){return t.runOutOfUrlSymbol}),Pb(function(h,g){return s.backupNewDomainUsed=!1,h===t.runOutOfUrlSymbol?(s.usedUrl=[],g):Ua(h)}))}),E(K(s),"getProxyApUrl$",function(l){var u,f;return dc.apply(void 0,ra(((Ba==null?void 0:Ba.PROXY_AP.slice(0,3))||["ap-proxy-1.agora.io","ap-proxy-2.agora.io"]).map(rg))).pipe(Wb(l?Math.max(Sd.RECONNECTING_AP_NUM,(u=Ba==null?void 0:Ba.CODES.size)!==null&&u!==void 0?u:0):(f=Ba==null?void 0:Ba.CODES.size)!==null&&f!==void 0?f:2))}),E(K(s),"context",void 0),E(K(s),"fetchCloudProxy",function(l,u){var f=Lm("AP-",s.loggerId);s.log("The AccessPoint requests %s(%s)",l,f);var h,g=new AbortController;return s.apFinish$.pipe(Wb(1)).subscribe(function(){return g.abort()}),gf(Aa(X.mark(function y(){var m,R;return X.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return R=Pj(0,Number.MAX_SAFE_INTEGER),s.log("%s request opid: %d",f,R),Qb("ApRequest",{sid:s.context.sid,userId:s.context.uid,lts:U.fromNumber(Date.now()),elapse:Kb(s.context.startTime),apAddr:l,opId:U.fromNumber(R),envId:0,flag:128},(m=s.context.config.enableCloudProxy)!==null&&m!==void 0&&m),A.abrupt("return",Oj(l,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:s.context.sid,opid:R,appid:s.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:u!=null?u:s.context.key,cname:s.context.uid,uid:0,detail:Jb({},Ba===void 0?{11:[pa.CHINA,pa.GLOBAL].join(),12:"1"}:{11:Array.from(Ba.CODES).map(function(k){return k===pa.OVERSEA?"".concat(pa.ASIA,",").concat(pa.EUROPE,",").concat(pa.AFRICA,",").concat(pa.NORTH_AMERICA,",").concat(pa.SOUTH_AMERICA,",").concat(pa.OCEANIA):k}).join(","),12:"1"})}}]},signal:g.signal}));case 4:case"end":return A.stop()}},y)}))).pipe(Pb(function(y){return y.name!=="AbortError"&&(s.logError(y),s.warn("The AP server %s request failure",l,y)),Wc}),Ac((h=Aa(X.mark(function y(m){var R,A,k,I,N,C,Y,te,Xe,_e,$e,_a,q,V,z,_t,L,D,J;return X.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(R=m.responseText,A=JSON.parse(R),s.log("The %s response is %o",f,A),((k=A.response_body)===void 0||k.length===0||k.some(function(ue){var aa;return((aa=ue.buffer)===null||aa===void 0?void 0:aa.code)===void 0||ue.uri!==23}))&&Ua(new wa("cloud proxy response_body not valid",fj)),(I=k.filter(function(ue){return ue.buffer.code!==0})).length===0){Q.next=14;break}if((N=I.find(function(ue){return ue.buffer.flag===128}))===void 0){Q.next=12;break}return Q.abrupt("return",s.handleUniLbsError(N.buffer.code,l));case 12:return s.logError("cloud proxy error response"),Q.abrupt("return",s.handleUniLbsError(I[0].buffer.code,l));case 14:for(C=[],Y=0;Y<k.length;Y++)if(((_e=k[Y])==null||(te=_e.buffer)===null||te===void 0?void 0:te.flag)===262144)($e=_e.buffer)===null||$e===void 0||(_a=$e.edges_services)===null||_a===void 0||(q=_a.forEach)===null||q===void 0||q.call(_a,function(ue){js(ue=ue.ip)&&s.context.cloudProxyServers.indexOf(ue)===-1&&(s.log("got cloud proxy server: %s",ue),s.context.cloudProxyServers.push(ue))});else if((_e==null||(Xe=_e.buffer)===null||Xe===void 0?void 0:Xe.flag)===128){for(L=function(ue,aa){var Ve=aa[ue];C.some(function(da){return da.ip===Ve.ip})||C.push({ip:Ve.ip,ticket:_e.buffer.cert})},D=0,J=_e.buffer.edges_services;D<J.length;D++)L(D,J);s.context.rtmArea=(V=(z=_e.buffer)===null||z===void 0||(_t=z.detail)===null||_t===void 0?void 0:_t[9])!==null&&V!==void 0?V:""}return Q.abrupt("return",dc.apply(void 0,ra(C).concat([cj])));case 19:case"end":return Q.stop()}},y)})),function(y){return h.apply(this,arguments)})),Pb(function(y){return Ra(y)?Ua(y):Wc}),Ej(),sc(function(y){return y!==void 0&&typeof y.ip=="string"&&typeof y.ticket=="string"&&js(y.ip)}))}),E(K(s),"fetchAp",function(l,u){var f=Lm("AP-",s.loggerId);s.log("The AccessPoint requests %s(%s)",l,f);var h=new AbortController;s.apFinish$.pipe(Wb(1)).subscribe(function(){return h.abort()});var g,y=Pj(0,Number.MAX_SAFE_INTEGER);return gf(Aa(X.mark(function m(){var R;return X.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return s.log("%s request opid: %d",f,y),Qb("ApRequest",{sid:s.context.sid,userId:s.context.uid,lts:U.fromNumber(Date.now()),elapse:Kb(s.context.startTime),apAddr:l,opId:U.fromNumber(y),envId:0,flag:128},(R=s.context.config.enableCloudProxy)!==null&&R!==void 0&&R),A.abrupt("return",Oj(l,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"69","Content-Type":"application/json"},body:{flag:128,opid:y,key:u||s.context.key,cname:s.context.uid,detail:Jb({},Ba===void 0?{11:[pa.CHINA,pa.GLOBAL].join(),12:"1"}:{11:Array.from(Ba.CODES).map(function(k){return k===pa.OVERSEA?"".concat(pa.ASIA,",").concat(pa.EUROPE,",").concat(pa.AFRICA,",").concat(pa.NORTH_AMERICA,",").concat(pa.SOUTH_AMERICA,",").concat(pa.OCEANIA):k}).join(","),12:"1"}),uid:0,sid:s.context.sid},signal:h.signal}));case 3:case"end":return A.stop()}},m)}))).pipe(Pb(function(m){return m.name!=="AbortError"&&(s.logError(m),s.warn("The AP server %s request failure",l,m)),Wc}),Ac((g=Aa(X.mark(function m(R){var A,k,I,N,C,Y,te,Xe,_e;return X.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(k=R.responseText,I=JSON.parse(k),s.log("The %s response is %o",f,I),C=(N=I).code,Y=N.addresses,te=N.detail,s.context.vid=te[8],Qb("ApEvent",{sid:s.context.sid,userId:s.context.uid,lts:U.fromNumber(Date.now()),elapse:Kb(s.context.startTime),apAddr:l,linkServerList:Y.map(function(_a){return _a.ip}),serverErrCode:C,flag:128,envId:0,opId:U.fromNumber(y),errCode:0,area:te[9],isp:te[2]},(A=s.context.config.enableCloudProxy)!==null&&A!==void 0&&A),s.info(I),C===0){$e.next=9;break}return $e.abrupt("return",s.handleUniLbsError(C,l));case 9:if(Xe=Y,pi(null)&&(_e=JSON.parse(null.replace(/-/g,".")),Xe=_e.map(function(_a){return{ip:_a,ticket:Xe[0].ticket}})),Xe.length!==0){$e.next=14;break}return $e.abrupt("return",Ua(Error("No available edge address to connect")));case 14:return s.context.rtmArea=te==null?void 0:te[9],$e.abrupt("return",dc.apply(void 0,ra(Xe).concat([cj])));case 16:case"end":return $e.stop()}},m)})),function(m){return g.apply(this,arguments)})),Ej(),Pb(function(m){return Ra(m)?Ua(m):Wc}),sc(function(m){return m!==void 0&&typeof m.ip=="string"&&typeof m.ticket=="string"}))}),s.context=r,s.getApEdgeInfoEndFirst$=function(){var l=0<arguments.length&&arguments[0]!==void 0&&arguments[0];return Be(0,l||i?Sd.RECONNECTING_AP_INTERVAL:2e3).pipe(Wb(1),Ia(function(){s.retryCount+=1}),Ac(function(){return s.context.config.enableCloudProxy||s.context.socketUseProxy?s.getProxyApUrl$(l||i):(4<=s.retryCount&&(s.retryCount=0),3>=s.retryCount?s.getApUrl$(l||i):s.getBackupApUrl$(l||i))}),Ac(function(u){return s.context.config.enableCloudProxy||s.context.socketUseProxy?s.fetchCloudProxy(u):s.fetchAp(u)}),Pb(function(u){return u instanceof Xc&&s.warn("AP request timeout"),Ua(u)}),Or(function(u){return u.ip}),be(s.apFinish$))},s.getApEdgeInfo$=function(l){return Be(0,l||i?Sd.RECONNECTING_AP_INTERVAL:2e3).pipe(Wb(8),Ia(function(){s.retryCount+=1}),Ac(function(){return s.context.config.enableCloudProxy||s.context.socketUseProxy?s.getProxyApUrl$(l||i):3>=s.retryCount?s.getApUrl$(l||i):s.getBackupApUrl$(l||i)}),Ac(function(u){return(s.context.config.enableCloudProxy||s.context.socketUseProxy?s.fetchCloudProxy(u):s.fetchAp(u)).pipe()}),Pb(function(u){return u instanceof Xc&&s.warn("AP request timeout"),Ua(u)}),Or(function(u){return u.ip}),be(s.apFinish$))},s}mb(t,e);var n=nb(t);return Nb(t,[{key:"clearUp",value:function(){this.failedAreas.clear(),this.retryCount=0}}]),t}(zd());E(yx,"runOutOfUrlSymbol",Symbol("AP urls are used up"));var zx=el(),Ax=function(e){function t(r,o,i){Za(this,t);var s=n.call(this,o,"Connection");E(K(s),"apClient",void 0),E(K(s),"lastOpenSockets",[new Vg(1),new Vg(1)]),E(K(s),"curOpenSockets",[void 0,void 0]),E(K(s),"ipIterator",0),E(K(s),"loginSocketOpenFailureCount",0),E(K(s),"firstEnv",.5<=Math.random()?1:0),E(K(s),"firstSocketOpener",void 0),E(K(s),"secondSocketOpener",void 0),E(K(s),"firstOpenKeeperSubject",new ec),E(K(s),"secondOpenKeeperSubject",new ec),E(K(s),"blacklistedIP",{}),E(K(s),"edgeInfoReplayed",void 0),E(K(s),"firstEnvOpenSocket",void 0),E(K(s),"firstOpenKeeperSub",void 0),E(K(s),"secondOpenKeeperSub",void 0),E(K(s),"context",void 0),E(K(s),"logger",void 0),s.context=r,s.logger=o,s.apClient=new yx(s.context,o),s.apClient.apFinish$.subscribe(function(){s.log("Ap client fetch finished")});var l,u=[];return s.edgeInfoReplayed=s.apClient.getApEdgeInfo$(i).pipe(Tg(function(f){return f.pipe(Ia(function(h){if(Ra(h))throw h}),Tf(i?pg.getParameter("RECONNECTING_AP_INTERVAL"):900),be(Be(2e4)))}),sc(function(f){var h;return!gp(u,f)&&1>=((h=s.blacklistedIP[f.ip])!==null&&h!==void 0?h:0)}),Uf(function(){return new zx({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})}),Ia(function(f){u.push(f),s.log("An edge info got %o",f)}),Ia({error:function(f){s.emit("connectionInitFailure",f)}}),Ij(function(){s.apClient.clearUp()}),Rr()),s.firstEnvOpenSocket=s.edgeInfoReplayed.pipe(Ac(function(f){if(f===void 0)return Ua(Error("Invalid edge info"));var h=new np(f.ip,s.firstEnv,f.ticket,s.context,o,l);if(s.firstEnv=s.firstEnv===1?0:1,h.once("connectionFailure",function(){return s.onSocketConnectionFailure(h)}),!i&&Sd.ENABLE_EDGE_AUTO_FALLBACK&&!s.context.config.enableCloudProxy){var g,y=Date.now();h.on("reconnect",function(){var m;s.loginSocketOpenFailureCount+=1,(m=g)!==null&&m!==void 0||(g=Date.now()-y),500>g&&1<s.loginSocketOpenFailureCount&&(s.context.socketUseProxy=!0)})}return l=!h.useNewDomain,h.open$.pipe(ji(h))}),Ia(function(f){s.log("The websocket of ENV_%d opened to %s:%d",f.env,f.ip,Fh[f.env]),s.curOpenSockets[f.env]=f,s.lastOpenSockets[f.env].next(f),s.firstEnv=f.env,s.openSecondSocket(f.env,f.ip,f.useNewDomain)}),Wb(1),Ug()),s.firstSocketOpener=s.firstEnvOpenSocket.pipe(Ac(function(f){return f.open$.pipe(Ia(function(){s.log("The websocket of first ENV_%d re-opened to %s:%d",f.env,f.ip,Fh[f.env]),s.curOpenSockets[f.env]=f,s.lastOpenSockets[f.env].next(f)}))})),r=s.firstOpenKeeperSubject.pipe(Cc(ef)),s.firstOpenKeeperSub=r.subscribe({error:s.logError}),s}mb(t,e);var n=nb(t);return Nb(t,[{key:"initConnection",value:function(){this.firstOpenKeeperSubject.next(this.firstSocketOpener)}},{key:"closeSocket",value:function(r,o){if(![0,1].includes(r))throw new qb({INVALID_ENV:"The env argument is not 0 or 1"});var i=r===this.firstEnv?this.firstOpenKeeperSub:this.secondOpenKeeperSub;this.firstOpenKeeperSub=void 0;var s=this.curOpenSockets[r];this.curOpenSockets[r]=void 0,s&&(s.isActiveClose=!0,setTimeout(function(){s.close()},o)),i!==void 0&&setTimeout(function(){i==null||i.unsubscribe()},o)}},{key:"waitClosing",value:function(r){var o=this;return r.isActiveClose=!0,r.open$.pipe(IB(),Pb(function(i){return i.message===Kw.normalClosureMessage?Wc:Ua(i)}),Mc(5e3),Pb(function(i){return i instanceof Xc?(o.warn("Force closing the ENV_%d connection",r.env),Wc):Ua(i)}))}},{key:"onSocketConnectionFailure",value:function(r){var o=[0,1].filter(function(i){return i!==r.env})[0];(o=this.curOpenSockets[o])&&o.loggedIn?this.reopenSocketWithApRequest(r.env):this.emit("socketsFailure")}},{key:"openSecondSocket",value:function(r,o,i){var s=this,l=r===1?0:1;this.secondSocketOpener=this.edgeInfoReplayed.pipe(Qr(function(u,f){return[].concat(ra(u),[f])},[]),jb(function(u){return Iw(u,function(f){return ms(o,f.ip)}).slice(-1)[0]}),Wb(1),Ac(function(u){if(u===void 0)return Ua(Error("Invalid edge info"));var f=new np(u.ip,l,u.ticket,s.context,s.logger,i);return f.on("connectionFailure",function(){return s.onSocketConnectionFailure(f)}),f.open$.pipe(Ia(function(){s.lastOpenSockets[l].next(f),s.curOpenSockets[l]=f}))}),Ug()),this.secondOpenKeeperSub=this.secondOpenKeeperSubject.pipe(Cc(ef)).subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}},{key:"reopenSocketWithApRequest",value:function(r){var o=this,i=[0,1].filter(function(u){return u!==r})[0];if((i=this.curOpenSockets[i])!==void 0){var s,l=i.ip;i=this.apClient.getApEdgeInfoEndFirst$(!0).pipe(Uf(function(){return new zx({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})}),Tg(function(u){return u.pipe(Ia(function(f){if(f.code===Zk)o.emit("tokenExpired"),o.apClient.apFinish$.next(void 0);else if(Ra(f))throw f}),Tf(pg.getParameter("RECONNECTING_AP_INTERVAL")),be(Be(15e3)))}),Ia(function(u){o.log("An edge info got %o",u)}),Ij(function(){o.apClient.clearUp()})).pipe(Qr(function(u,f){return[].concat(ra(u),[f])},[]),jb(function(u){return(u=Iw(u,function(f){return ms(l,f.ip)})).length-1>=o.ipIterator?u.slice(-o.ipIterator++-1)[0]:(o.ipIterator=0,u.slice(-1)[0])}),Uf(),Ac(function(u){if(u===void 0)return Ua(Error("Invalid edge info"));var f=new np(u.ip,r,u.ticket,o.context,o.logger,s);return f.on("connectionFailure",function(){return o.onSocketConnectionFailure(f)}),s=!f.useNewDomain,f.open$.pipe(ji(f))}),Ia(function(u){o.log("The websocket of ENV_%d re-opened to %s:%d using ap",u.env,u.ip,Fh[u.env]),o.curOpenSockets[r]=u,o.lastOpenSockets[r].next(u)}),Ac(function(u){return u.open$.pipe(Ia(function(){o.log("The websocket of ENV_%d re-opened to %s:%d",u.env,u.ip,Fh[u.env]),o.curOpenSockets[r]=u,o.lastOpenSockets[r].next(u)}))}),Ug()),r===this.firstEnv?this.firstOpenKeeperSubject.next(i):this.secondOpenKeeperSubject.next(i)}}}]),t}(zd()),qL=function(e){function t(r,o,i){return Za(this,t),E(K(i=n.call(this,i,"Context")),"_token",void 0),E(K(i),"config",void 0),E(K(i),"_uid",void 0),E(K(i),"_sid",void 0),E(K(i),"_vid",void 0),E(K(i),"_startTime",void 0),E(K(i),"_area","CN"),E(K(i),"_socketUseProxy",!1),E(K(i),"appId",void 0),E(K(i),"enableCloudProxy",!1),E(K(i),"cloudProxyServers",[]),i.appId=r,i.config=o,i}mb(t,e);var n=nb(t);return Nb(t,[{key:"socketUseProxy",get:function(){return this._socketUseProxy&&Sd.ENABLE_EDGE_AUTO_FALLBACK},set:function(r){this.log("socketUseProxy is set to %s",r),this._socketUseProxy=r}},{key:"token",set:function(r){this._token=typeof r=="string"&&r?r:void 0}},{key:"uid",get:function(){if(typeof this._uid=="string"&&this._uid)return this._uid;throw new hc("Cannot get illegal uid")},set:function(r){if(this.log("The user ID is set to %s",ub(r)),!Eb(r))throw new hc;this._uid=r}},{key:"vid",get:function(){if(typeof this._vid=="string"&&this._vid)return this._vid;throw new hc("Cannot get illegal vid")},set:function(r){if(typeof r!="string"||!r)throw new hc;this._vid=r}},{key:"key",get:function(){if(typeof this._token=="string"&&this._token)return this._token;if(typeof this.appId=="string"&&this.appId)return this.appId;throw new hc("Cannot get illegal key")}},{key:"sid",get:function(){if(typeof this._sid=="string"&&this._sid)return this._sid;throw new hc("Cannot get illegal sid")},set:function(r){if(this.log("sid is set to %s",r),typeof r!="string"||!r)throw new hc;this._sid=r}},{key:"startTime",get:function(){if(typeof this._startTime=="number"&&this._startTime)return this._startTime;throw new hc("Cannot get illegal startTime")},set:function(r){if(this.log("startTime is set to %s",r),typeof r!="number"||!r)throw new hc;this._startTime=r}},{key:"rtmArea",get:function(){if(typeof this._area=="string"&&this._area)return this._area;throw new hc("Cannot get illegal area")},set:function(r){this.log("area is set to %s",r),typeof r=="string"&&r?this._area=r:this.warn("set area failed")}}]),t}(zd());mu("of",function(){for(var e=0,t=arguments.length,n=new(qh(this))(t);t>e;)n[e]=arguments[e++];return n},Hn);var rL=Math.max,sC=function(e,t,n){var r=Object(e);if(!Vf(e)){var o=wh(t);e=Qf(e),t=function(i){return o(r[i],i,r)}}return-1<(t=function(i,s,l){var u=i==null?0:i.length;if(!u)return-1;if(l==null)l=0;else{var f=(l=jp(l))%1;l=l==l?f?l-f:l:0}return 0>l&&(l=rL(u+l,0)),uv(i,wh(s),l)}(e,t,n))?r[o?e[t]:t]:void 0},rC=function(e,t){return e&&e.length?xo(e,void 0,typeof t=="function"?t:void 0):[]},Bx=function(){function e(){Za(this,e),E(this,"size",0),E(this,"fields",new Map)}return Nb(e,[{key:"define",value:function(t,n,r){if(this.size+=r,64<this.size)throw new RangeError("the struct over 64 bits is not supported");Wj(n={val:0,isNumber:n==="number",isBoolean:n==="boolean",oneof:n==="number"||n==="boolean"?void 0:n,len:r}),this.fields.set(t,n)}},{key:"set",value:function(t,n){if(!(t=this.fields.get(t)))throw Error("field not found");var r=t.oneof;if(!U.isLong(n)&&typeof n!="number")if(typeof n=="boolean")n=n?1:0;else{if(r===void 0)throw Error("invalid field type");if((n=r[n])===void 0)throw Error("field type not found")}Wj(t,n),t.val=n}},{key:"toNumber",value:function(){for(var t=0,n=0,r=0,o=Array.from(this.fields);r<o.length;r++){var i=Ob(o[r],2)[1],s=i.len;(i=i.val)!==void 0&&(t+=U.fromValue(i).shiftLeft(n).toNumber(),n+=s)}return t}},{key:"toLong",value:function(){for(var t=U.fromNumber(0,!0),n=0,r=0,o=Array.from(this.fields);r<o.length;r++){var i=Ob(o[r],2)[1],s=i.len;(i=i.val)!==void 0&&(t=U.fromValue(i).shiftLeft(n).add(t),n+=s)}return t}},{key:"assert",value:function(t,n){function r(s){if(!U.isLong(s)&&typeof s!="number")if(typeof s=="boolean")s=s?1:0;else{if(i===void 0)throw Error("invalid field type");if((s=i[s])===void 0)throw Error("field type not found")}return Wj(o,s),Vj(s,o.val)}var o=this.fields.get(t);if(!o)throw Error("field not found");var i=o.oneof;if(!Array.isArray(n))return r(n);if(n.length===1)return r(n[0]);if(n.every(function(s){return typeof s=="string"})&&i!==void 0)return n.some(function(s){return r(s)});throw Error("invalid valueTypes")}},{key:"from",value:function(t){t=U.fromValue(t);for(var n=0,r=0,o=Array.from(this.fields);r<o.length;r++){var i=Ob(o[r],2)[1],s=i.len,l=U.fromNumber(Math.pow(2,s)-1,!0).shiftLeft(n);Wj(i,l=t.and(l).shiftRightUnsigned(n)),i.val=l,n+=s}}},{key:"typeOf",value:function(t){if((t=this.fields.get(t))!==void 0){var n=t.oneof;if(t=t.val,n!==void 0){var r=0;for(n=Object.entries(n);r<n.length;r++){var o=Ob(n[r],2),i=o[0];if(Vj(t,o[1]))return i}}}throw new TypeError("can only get type of oneof type")}}]),e}(),Cx=function(e){function t(r){Za(this,t);var o=n.call(this);return o.define("Rejoin","boolean",1),o.define("Unused","number",31),o.define("Platform","number",8),o.define("Version","number",12),o.define("Subversion","number",12),o.set("Platform",7),o.set("Version",4),o.set("Subversion",19),o.set("Rejoin",r),o}mb(t,e);var n=nb(t);return t}(Bx),sL=Jb(Jb({},{PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2}),{PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5}),Dx={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},tL=Jb(Jb({},sL),Dx),uL={Uncompressed:0,Zlib:1},Gh=function(e){function t(r){Za(this,t);var o=n.call(this);if(o.define("MessageType",tL,8),o.define("BroadcastJumps","number",2),o.define("ToCache","boolean",1),o.define("FromCache","boolean",1),o.define("CompressionMethod",uL,2),o.define("IterationNumber","number",4),o.define("BufferedMessage","boolean",1),o.define("ToArchive","boolean",1),o.define("FromArchive","boolean",1),typeof r=="number"||U.isLong(r))o.from(r);else if(r!==void 0){var i=0;for(r=Tj(r);i<r.length;i++){var s=Ob(r[i],2);o.set(s[0],s[1])}}return o}mb(t,e);var n=nb(t);return Nb(t,[{key:"isTextMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","ChannelTextMessage","VendorTextMessage"])}},{key:"isRawMessage",value:function(){return this.assert("MessageType",["ChannelRawMessage","PeerRawMessage","VendorRawMessage"])}},{key:"isRawPeerMessage",value:function(){return this.assert("MessageType","PeerRawMessage")}},{key:"isRawChannelMessage",value:function(){return this.assert("MessageType","ChannelRawMessage")}},{key:"isPeerTextMessage",value:function(){return this.assert("MessageType","PeerTextMessage")}},{key:"isChannelTextMessage",value:function(){return this.assert("MessageType","ChannelTextMessage")}},{key:"isInvitation",value:function(r){var o=this;return r!==void 0?this.assert("MessageType",r):ni(Dx).some(function(i){return o.assert("MessageType",i)})}},{key:"isPeerMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","PeerRawMessage"])}},{key:"isZlibCompressed",value:function(){return this.assert("CompressionMethod","Zlib")}},{key:"isFromCache",value:function(){return this.assert("FromCache",!0)}},{key:"isBufferedMessage",value:function(){return this.assert("BufferedMessage",!0)}},{key:"getInvitationType",value:function(){if(!this.isInvitation())throw new TypeError("cannot get InvitationType of a normal message type");return this.typeOf("MessageType")}}]),t}(Bx),vL=function(e){function t(r){return Za(this,t),E(K(r=n.call(this,r,"ChatManager")),"dialogueLru",new $F(void 0,{maxlen:1e4,ttl:1e4})),r}mb(t,e);var n=nb(t);return Nb(t,[{key:"getChatInfo",value:function(r){var o=this.dialogueLru.get(r);if(this.dialogueLru.prune(),o){var i=o.dialogue,s={dialogue:i,sequence:o=o.sequence.add(1)};return this.dialogueLru.set(r,{dialogue:i,sequence:o}),s}return i={dialogue:Qj(),sequence:U.fromNumber(1,!0)},this.dialogueLru.set(r,i),i}}]),t}(zd()),W={};Ka(module)=="object"&&(module.exports=W),W.parse=function(e,t){var n,r=W.bin.readUshort,o=W.bin.readUint,i={};for(n=(e=new Uint8Array(e)).length-4;o(e,n)!=101010256;)n--;var s=r(e,n=n+4+4);r(e,n+=2),o(e,n+=2),n=o(e,n+=4);for(var l=0;l<s;l++){o(e,n),n+=4,n+=4,n+=4,o(e,n+=4);var u=o(e,n+=4),f=o(e,n+=4),h=r(e,n+=4),g=r(e,n+2),y=r(e,n+4);n+=6;var m=o(e,n+=8);n+=4,n+=h+g+y,W._readLocal(e,m,i,u,f,t)}return i},W._readLocal=function(e,t,n,r,o,i){var s=W.bin.readUshort,l=W.bin.readUint;l(e,t),s(e,t+=4),s(e,t+=2);var u=s(e,t+=2);l(e,t+=2),l(e,t+=4),l=s(e,t=t+4+8);var f=s(e,t+=2);if(t+=2,s=W.bin.readUTF8(e,t,l),t=t+l+f,i)n[s]={size:o,csize:r};else if(e=new Uint8Array(e.buffer,t),u==0)n[s]=new Uint8Array(e.buffer.slice(t,t+r));else{if(u!=8)throw"unknown compression method: "+u;t=new Uint8Array(o),W.inflateRaw(e,t),n[s]=t}},W.inflateRaw=function(e,t){return W.F.inflate(e,t)},W.inflate=function(e,t){return e[0],e[1],W.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-2),t)},W.deflate=function(e,t){t==null&&(t={level:6});var n=0,r=new Uint8Array(50+Math.floor(1.1*e.length));return r[n]=120,r[n+1]=156,n=W.F.deflateRaw(e,r,n+2,t.level),e=W.adler(e,0,e.length),r[n+0]=e>>>24&255,r[n+1]=e>>>16&255,r[n+2]=e>>>8&255,r[n+3]=e>>>0&255,new Uint8Array(r.buffer,0,n+4)},W.deflateRaw=function(e,t){t==null&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),r=W.F.deflateRaw(e,n,r,t.level);return new Uint8Array(n.buffer,0,r)},W.encode=function(e,t){t==null&&(t=!1);var n,r=0,o=W.bin.writeUint,i=W.bin.writeUshort,s={};for(n in e){var l=!W._noNeed(n)&&!t,u=e[n],f=W.crc.crc(u,0,u.length);s[n]={cpr:l,usize:u.length,crc:f,file:l?W.deflateRaw(u):u}}for(n in s)r+=s[n].file.length+30+46+2*W.bin.sizeUTF8(n);for(n in e=new Uint8Array(r+22),t=0,u=[],s)f=s[n],u.push(t),t=W._writeHeader(e,t,n,f,0);for(n in r=0,l=t,s)f=s[n],u.push(t),t=W._writeHeader(e,t,n,f,1,u[r++]);return s=t-l,o(e,t,101010256),i(e,t=t+4+4,r),i(e,t+=2,r),o(e,t+=2,s),o(e,t+4,l),e.buffer},W._noNeed=function(e){return e=e.split(".").pop().toLowerCase(),"png,jpg,jpeg,zip".indexOf(e)!=-1},W._writeHeader=function(e,t,n,r,o,i){var s=W.bin.writeUint,l=W.bin.writeUshort,u=r.file;return s(e,t,o==0?67324752:33639248),t+=4,o==1&&(t+=2),l(e,t,20),l(e,t+=2,0),l(e,t+=2,r.cpr?8:0),s(e,t+=2,0),s(e,t+=4,r.crc),s(e,t+=4,u.length),s(e,t+=4,r.usize),l(e,t+=4,W.bin.sizeUTF8(n)),l(e,t+=2,0),t+=2,o==1&&(s(e,t=t+2+2+6,i),t+=4),t+=n=W.bin.writeUTF8(e,t,n),o==0&&(e.set(u,t),t+=u.length),t},W.crc={table:function(){for(var e=new Uint32Array(256),t=0;256>t;t++){for(var n=t,r=0;8>r;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}(),update:function(e,t,n,r){for(var o=0;o<r;o++)e=W.crc.table[255&(e^t[n+o])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^W.crc.update(4294967295,e,t,n)}},W.adler=function(e,t,n){var r=1,o=0,i=t;for(t+=n;i<t;){for(n=Math.min(i+5552,t);i<n;)o+=r+=e[i++];r%=65521,o%=65521}return o<<16|r},W.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",o=0;o<n;o++)r+=String.fromCharCode(e[t+o]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return 2>e.length?"0"+e:e},readUTF8:function(e,t,n){for(var r,o="",i=0;i<n;i++)o+="%"+W.bin.pad(e[t+i].toString(16));try{r=decodeURIComponent(o)}catch{return W.bin.readASCII(e,t,n)}return r},writeUTF8:function(e,t,n){for(var r=n.length,o=0,i=0;i<r;i++){var s=n.charCodeAt(i);if((4294967168&s)==0)e[t+o]=s,o++;else if((4294965248&s)==0)e[t+o]=192|s>>6,e[t+o+1]=128|s>>0&63,o+=2;else if((4294901760&s)==0)e[t+o]=224|s>>12,e[t+o+1]=128|s>>6&63,e[t+o+2]=128|s>>0&63,o+=3;else{if((4292870144&s)!=0)throw"e";e[t+o]=240|s>>18,e[t+o+1]=128|s>>12&63,e[t+o+2]=128|s>>6&63,e[t+o+3]=128|s>>0&63,o+=4}}return o},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var o=e.charCodeAt(r);if((4294967168&o)==0)n++;else if((4294965248&o)==0)n+=2;else if((4294901760&o)==0)n+=3;else{if((4292870144&o)!=0)throw"e";n+=4}}return n}},W.F={},W.F.deflateRaw=function(e,t,n,r){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],i=W.F.U,s=W.F._goodIndex;W.F._hash;var l=W.F._putsE,u=0;n<<=3;var f=0,h=e.length;if(r==0){for(;u<h;){var g=Math.min(65535,h-u);l(t,n,u+g==h?1:0),n=W.F._copyExact(e,u,g,t,n+8),u+=g}return n>>>3}l=i.lits,r=i.strt;var y=i.prev,m=0,R=0,A=0,k=0,I=0;for(2<h&&(r[I=W.F._hash(e,0)]=0),u=0;u<h;u++){if(g=I,u+1<h-2){I=W.F._hash(e,u+1);var N=u+1&32767;y[N]=r[I],r[I]=N}if(f<=u){if((14e3<m||26697<R)&&100<h-u&&(f<u&&(l[m]=u-f,m+=2,f=u),n=W.F._writeBlock(u==h-1||f==h?1:0,l,m,k,e,A,u-A,t,n),m=R=k=0,A=u),N=0,u<h-2&&(N=W.F._bestMatch(e,u,y,g,Math.min(o[2],h-u),o[3])),N!=0){g=N>>>16,N&=65535;var C=s(g,i.of0);i.lhst[257+C]++;var Y=s(N,i.df0);i.dhst[Y]++,k+=i.exb[C]+i.dxb[Y],l[m]=g<<23|u-f,l[m+1]=N<<16|C<<8|Y,m+=2,f=u+g}else i.lhst[e[u]]++;R++}}for(A==u&&e.length!=0||(f<u&&(l[m]=u-f,m+=2),n=W.F._writeBlock(1,l,m,k,e,A,u-A,t,n));(7&n)!=0;)n++;return n>>>3},W.F._bestMatch=function(e,t,n,r,o,i){var s=32767&t,l=n[s],u=s-l+32768&32767;if(l==s||r!=W.F._hash(e,t-u))return 0;for(var f=r=0,h=Math.min(32767,t);u<=h&&--i!=0&&l!=s;){if((r==0||e[t+r]==e[t+r-u])&&(s=W.F._howLong(e,t,u))>r){if(f=u,(r=s)>=o)break;u+2<s&&(s=u+2);for(var g=0,y=0;y<s-2;y++){var m=t-u+y+32768&32767,R=m-n[m]+32768&32767;R>g&&(g=R,l=m)}}u+=(s=l)-(l=n[s])+32768&32767}return r<<16|f},W.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,o=Math.min(e.length,t+258);for(t+=3;t<o&&e[t]==e[t-n];)t++;return t-r},W.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},W.saved=0,W.F._writeBlock=function(e,t,n,r,o,i,s,l,u){var f=W.F.U,h=W.F._putsF,g=W.F._putsE;f.lhst[256]++;var y=W.F.getTrees(),m=y[0],R=y[1],A=y[2],k=y[3],I=y[4],N=y[5],C=y[6];y=y[7];var Y=32+((u+3&7)==0?0:8-(u+3&7))+(s<<3),te=r+W.F.contSize(f.fltree,f.lhst)+W.F.contSize(f.fdtree,f.dhst);r=r+W.F.contSize(f.ltree,f.lhst)+W.F.contSize(f.dtree,f.dhst),r+=14+3*N+W.F.contSize(f.itree,f.ihst)+(2*f.ihst[16]+3*f.ihst[17]+7*f.ihst[18]);for(var Xe=0;286>Xe;Xe++)f.lhst[Xe]=0;for(Xe=0;30>Xe;Xe++)f.dhst[Xe]=0;for(Xe=0;19>Xe;Xe++)f.ihst[Xe]=0;if(Y=Y<te&&Y<r?0:te<r?1:2,h(l,u,e),h(l,u+1,Y),u+=3,Y==0){for(;(7&u)!=0;)u++;u=W.F._copyExact(o,i,s,l,u)}else{if(Y==1)var _e=f.fltree,$e=f.fdtree;if(Y==2){for(W.F.makeCodes(f.ltree,m),W.F.revCodes(f.ltree,m),W.F.makeCodes(f.dtree,R),W.F.revCodes(f.dtree,R),W.F.makeCodes(f.itree,A),W.F.revCodes(f.itree,A),_e=f.ltree,$e=f.dtree,g(l,u,k-257),g(l,u+=5,I-1),g(l,u+=5,N-4),u+=4,e=0;e<N;e++)g(l,u+3*e,f.itree[1+(f.ordr[e]<<1)]);u=W.F._codeTiny(C,f.itree,l,u+3*N),u=W.F._codeTiny(y,f.itree,l,u)}for(N=0;N<n;N+=2){for(C=(e=t[N])>>>23,e=i+(8388607&e);i<e;)u=W.F._writeLit(o[i++],_e,l,u);C!=0&&(e=(m=t[N+1])>>16,s=m>>8&255,m&=255,g(l,u=W.F._writeLit(257+s,_e,l,u),C-f.of0[s]),u+=f.exb[s],h(l,u=W.F._writeLit(m,$e,l,u),e-f.df0[m]),u+=f.dxb[m],i+=C)}u=W.F._writeLit(256,_e,l,u)}return u},W.F._copyExact=function(e,t,n,r,o){var i=o>>>3;return r[i]=n,r[i+1]=n>>>8,r[i+2]=255-r[i],r[i+3]=255-r[i+1],i+=4,r.set(new Uint8Array(e.buffer,t,n),i),o+(n+4<<3)},W.F.getTrees=function(){for(var e=W.F.U,t=W.F._hufTree(e.lhst,e.ltree,15),n=W.F._hufTree(e.dhst,e.dtree,15),r=[],o=W.F._lenCodes(e.ltree,r),i=[],s=W.F._lenCodes(e.dtree,i),l=0;l<r.length;l+=2)e.ihst[r[l]]++;for(l=0;l<i.length;l+=2)e.ihst[i[l]]++;l=W.F._hufTree(e.ihst,e.itree,7);for(var u=19;4<u&&e.itree[1+(e.ordr[u-1]<<1)]==0;)u--;return[t,n,l,o,s,u,r,i]},W.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},W.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)e[n+1]!=0&&(t+=(n>>1)+",");return t},W.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},W.F._codeTiny=function(e,t,n,r){for(var o=0;o<e.length;o+=2){var i=e[o],s=e[o+1];r=W.F._writeLit(i,t,n,r);var l=i==16?2:i==17?3:7;15<i&&(W.F._putsE(n,r,s,l),r+=l)}return r},W.F._lenCodes=function(e,t){for(var n=e.length;n!=2&&e[n-1]==0;)n-=2;for(var r=0;r<n;r+=2){var o=e[r+1],i=r+3<n?e[r+3]:-1,s=r+5<n?e[r+5]:-1,l=r==0?-1:e[r-1];if(o==0&&i==o&&s==o){for(i=r+5;i+2<n&&e[i+2]==o;)i+=2;11>(o=Math.min(i+1-r>>>1,138))?t.push(17,o-3):t.push(18,o-11),r+=2*o-2}else if(o==l&&i==o&&s==o){for(i=r+5;i+2<n&&e[i+2]==o;)i+=2;o=Math.min(i+1-r>>>1,6),t.push(16,o-3),r+=2*o-2}else t.push(o,0)}return n>>>1},W.F._hufTree=function(e,t,n){var r=[],o=e.length,i=t.length,s=0;for(s=0;s<i;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<o;s++)e[s]!=0&&r.push({lit:s,f:e[s]});if(e=r.length,o=r.slice(0),e==0)return 0;if(e==1)return t[1+((n=r[0].lit)<<1)]=1,t[1+((n==0?1:0)<<1)]=1;r.sort(function(h,g){return h.f-g.f}),s=r[0],i=r[1];var l=0,u=1,f=2;for(r[0]={lit:-1,f:s.f+i.f,l:s,r:i,d:0};u!=e-1;)s=l!=u&&(f==e||r[l].f<r[f].f)?r[l++]:r[f++],i=l!=u&&(f==e||r[l].f<r[f].f)?r[l++]:r[f++],r[u++]={lit:-1,f:s.f+i.f,l:s,r:i};for((r=W.F.setDepth(r[u-1],0))>n&&(W.F.restrictDepth(o,n,r),r=n),s=0;s<e;s++)t[1+(o[s].lit<<1)]=o[s].d;return r},W.F.setDepth=function(e,t){return e.lit!=-1?e.d=t:Math.max(W.F.setDepth(e.l,t+1),W.F.setDepth(e.r,t+1))},W.F.restrictDepth=function(e,t,n){var r=0,o=1<<n-t,i=0;for(e.sort(function(l,u){return u.d==l.d?l.f-u.f:u.d-l.d}),r=0;r<e.length&&e[r].d>t;r++){var s=e[r].d;e[r].d=t,i+=o-(1<<n-s)}for(i>>>=n-t;0<i;)(s=e[r].d)<t?(e[r].d++,i-=1<<t-s-1):r++;for(;0<=r;r--)e[r].d==t&&0>i&&(e[r].d--,i++);i!=0&&console.log("debt left")},W.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},W.F._writeLit=function(e,t,n,r){return W.F._putsF(n,r,t[e<<1]),r+t[1+(e<<1)]},W.F.inflate=function(e,t){var n=Uint8Array;if(e[0]==3&&e[1]==0)return t||new n(0);var r=W.F,o=r._bitsF,i=r._bitsE,s=r._decodeTiny,l=r.makeCodes,u=r.codes2map,f=r._get17,h=r.U,g=t==null;g&&(t=new n(e.length>>>2<<3));for(var y,m,R,A,k=0,I=0,N=m=0,C=0;k==0;)if(k=o(e,C,1),y=o(e,C+1,2),C+=3,y==0)(7&C)!=0&&(C+=8-(7&C)),y=e[(C=4+(C>>>3))-4]|e[C-3]<<8,g&&(t=W.F._check(t,N+y)),t.set(new n(e.buffer,e.byteOffset+C,y),N),C=C+y<<3,N+=y;else{if(g&&(t=W.F._check(t,N+131072)),y==1&&(R=h.flmap,A=h.fdmap,I=511,m=31),y==2){for(m=i(e,C,5)+257,y=i(e,C+5,5)+1,R=i(e,C+10,4)+4,C+=14,A=0;38>A;A+=2)h.itree[A]=0,h.itree[A+1]=0;for(I=1,A=0;A<R;A++){var Y=i(e,C+3*A,3);h.itree[1+(h.ordr[A]<<1)]=Y,Y>I&&(I=Y)}C+=3*R,l(h.itree,I),u(h.itree,I,h.imap),R=h.lmap,A=h.dmap,C=s(h.imap,(1<<I)-1,m+y,e,C,h.ttree),I=(1<<(Y=r._copyOut(h.ttree,0,m,h.ltree)))-1,m=(1<<(y=r._copyOut(h.ttree,m,y,h.dtree)))-1,l(h.ltree,Y),u(h.ltree,Y,R),l(h.dtree,y),u(h.dtree,y,A)}for(;;)if(C+=15&(y=R[f(e,C)&I]),(Y=y>>>4)>>>8==0)t[N++]=Y;else{if(Y==256)break;y=N+Y-254,264<Y&&(y=N+((Y=h.ldef[Y-257])>>>3)+i(e,C,7&Y),C+=7&Y),C+=15&(Y=A[f(e,C)&m]);var te=((Y=h.ddef[Y>>>4])>>>4)+o(e,C,15&Y);for(C+=15&Y,g&&(t=W.F._check(t,N+131072));N<y;)t[N]=t[N++-te],t[N]=t[N++-te],t[N]=t[N++-te],t[N]=t[N++-te];N=y}}return t.length==N?t:t.slice(0,N)},W.F._check=function(e,t){var n=e.length;return t<=n?e:((t=new Uint8Array(Math.max(n<<1,t))).set(e,0),t)},W.F._decodeTiny=function(e,t,n,r,o,i){for(var s=W.F._bitsE,l=W.F._get17,u=0;u<n;){var f=e[l(r,o)&t];o+=15&f;var h=f>>>4;if(15>=h)i[u]=h,u++;else{var g=f=0;for(h==16?(g=3+s(r,o,2),o+=2,f=i[u-1]):h==17?(g=3+s(r,o,3),o+=3):h==18&&(g=11+s(r,o,7),o+=7),h=u+g;u<h;)i[u]=f,u++}}return o},W.F._copyOut=function(e,t,n,r){for(var o=0,i=0,s=r.length>>>1;i<n;){var l=e[i+t];r[i<<1]=0,r[1+(i<<1)]=l,l>o&&(o=l),i++}for(;i<s;)r[i<<1]=0,r[1+(i<<1)]=0,i++;return o},W.F.makeCodes=function(e,t){var n,r,o=W.F.U,i=e.length,s=o.bl_count;for(n=0;n<=t;n++)s[n]=0;for(n=1;n<i;n+=2)s[e[n]]++;for(o=o.next_code,n=0,s[0]=0,r=1;r<=t;r++)n=n+s[r-1]<<1,o[r]=n;for(t=0;t<i;t+=2)(s=e[t+1])!=0&&(e[t]=o[s],o[s]++)},W.F.codes2map=function(e,t,n){for(var r=e.length,o=W.F.U.rev15,i=0;i<r;i+=2)if(e[i+1]!=0){var s=e[i+1],l=i>>1<<4|s,u=t-s;for(u=(s=e[i]<<u)+(1<<u);s!=u;)n[o[s]>>>15-t]=l,s++}},W.F.revCodes=function(e,t){for(var n=W.F.U.rev15,r=15-t,o=0;o<e.length;o+=2)e[o]=n[e[o]<<t-e[o+1]]>>>r},W.F._putsE=function(e,t,n){n<<=7&t,e[t>>>=3]|=n,e[t+1]|=n>>>8},W.F._putsF=function(e,t,n){n<<=7&t,e[t>>>=3]|=n,e[t+1]|=n>>>8,e[t+2]|=n>>>16},W.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},W.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},W.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},W.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},W.F.U=function(){var e=Uint16Array,t=Uint32Array;return{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}}(),function(){function e(o,i,s){for(;i--!=0;)o.push(0,s)}for(var t=W.F.U,n=0;32768>n;n++){var r=n;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,t.rev15[n]=(r>>>16|r<<16)>>>17}for(n=0;32>n;n++)t.ldef[n]=t.of0[n]<<3|t.exb[n],t.ddef[n]=t.df0[n]<<4|t.dxb[n];e(t.fltree,144,8),e(t.fltree,112,9),e(t.fltree,24,7),e(t.fltree,8,8),W.F.makeCodes(t.fltree,9),W.F.codes2map(t.fltree,9,t.flmap),W.F.revCodes(t.fltree,9),e(t.fdtree,32,5),W.F.makeCodes(t.fdtree,5),W.F.codes2map(t.fdtree,5,t.fdmap),W.F.revCodes(t.fdtree,5),e(t.itree,19,0),e(t.ltree,286,0),e(t.dtree,30,0),e(t.ttree,320,0)}();var wL=Array.isArray||function(e){return e&&typeof e.length=="number"},xL=Object.defineProperty({isArray:wL},"__esModule",{value:!0}),yL=Object.defineProperty({isObject:function(e){return e!==null&&Ka(e)==="object"}},"__esModule",{value:!0}),zL=Object.defineProperty({isFunction:function(e){return typeof e=="function"}},"__esModule",{value:!0}),AL=function(){function e(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e}(),Xj=Object.defineProperty({UnsubscriptionError:AL},"__esModule",{value:!0}),BL=function(){function e(n){this.closed=!1,this._subscriptions=this._parentOrParents=null,n&&(this._ctorUnsubscribe=!0,this._unsubscribe=n)}var t;return e.prototype.unsubscribe=function(){if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,o=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,n instanceof e)n.remove(this);else if(n!==null)for(var s=0;s<n.length;++s)n[s].remove(this);if(zL.isFunction(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(u){var l=u instanceof Xj.UnsubscriptionError?ys(u.errors):[u]}}if(xL.isArray(i)){for(s=-1,n=i.length;++s<n;)if(r=i[s],yL.isObject(r))try{r.unsubscribe()}catch(u){l=l||[],u instanceof Xj.UnsubscriptionError?l=l.concat(ys(u.errors)):l.push(u)}}if(l)throw new Xj.UnsubscriptionError(l)}},e.prototype.add=function(n){var r=n;if(!n)return e.EMPTY;switch(Ka(n)){case"function":r=new e(n);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;r instanceof e||(n=r,(r=new e)._subscriptions=[n]);break;default:throw Error("unrecognized teardown "+n+" added to Subscription.")}if((n=r._parentOrParents)===null)r._parentOrParents=this;else if(n instanceof e){if(n===this)return r;r._parentOrParents=[n,this]}else{if(n.indexOf(this)!==-1)return r;n.push(this)}return(n=this._subscriptions)===null?this._subscriptions=[r]:n.push(r),r},e.prototype.remove=function(n){var r=this._subscriptions;r&&(n=r.indexOf(n))!==-1&&r.splice(n,1)},e.EMPTY=((t=new e).closed=!0,t),e}(),CL=Object.defineProperty({Subscription:BL},"__esModule",{value:!0}),DL=pb&&pb.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),EL=function(e){function t(n,r){return e.call(this)||this}return DL(t,e),t.prototype.schedule=function(n,r){return this},t}(CL.Subscription),FL=Object.defineProperty({Action:EL},"__esModule",{value:!0}),GL=pb&&pb.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ex=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return GL(t,e),t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n,n=this.id;var o=this.scheduler;return n!=null&&(this.id=this.recycleAsyncId(o,n,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!==null&&this.delay===o&&this.pending===!1)return r;clearInterval(r)},t.prototype.execute=function(n,r){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(n=this._execute(n,r))?n:void(this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(n,r){r=!1;var o=void 0;try{this.work(n)}catch(i){r=!0,o=!!i&&i||Error(i)}if(r)return this.unsubscribe(),o},t.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,o=r.actions,i=o.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,i!==-1&&o.splice(i,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},t}(FL.Action),HL=function(){function e(t,n){n===void 0&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,t).schedule(r,n)},e.now=function(){return Date.now()},e}(),Fx=Object.defineProperty({Scheduler:HL},"__esModule",{value:!0}),IL=pb&&pb.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gx=function(e){function t(n,r){r===void 0&&(r=Fx.Scheduler.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return IL(t,e),t.prototype.schedule=function(n,r,o){return r===void 0&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(n){var r=this.actions;if(this.active)r.push(n);else{var o;this.active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}}},t}(Fx.Scheduler),JL=lb("iterator"),op=!Ha(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach(function(r,o){t.delete("b"),n+=o+r}),!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[JL]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"}),KL=/[^\0-\u007E]/,LL=/[.\u3002\uFF0E\uFF61]/g,Hh=Math.floor,pp=String.fromCharCode,Hx=function(e){var t=Di(e);if(typeof t!="function")throw TypeError(String(e)+" is not iterable");return sb(t.call(e))},Ix=ge("fetch"),qp=ge("Headers"),ML=lb("iterator"),Jx=Rb.set,gd=Rb.getterFor("URLSearchParams"),NL=Rb.getterFor("URLSearchParamsIterator"),OL=/\+/g,Kx=Array(4),PL=function(e){try{return decodeURIComponent(e)}catch{return e}},Lx=function(e){var t=e.replace(OL," ");e=4;try{return decodeURIComponent(t)}catch{for(;e;){var n=t.replace,r=e--;r=Kx[r-1]||(Kx[r-1]=RegExp("((?:%[\\da-f]{2}){"+r+"})","gi")),t=n.call(t,r,PL)}return t}},Mx=/[!'()~]|%20/g,QL={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Nx=function(e){return QL[e]},Ox=function(e,t){if(t){t=t.split("&");for(var n,r=0;r<t.length;)(n=t[r++]).length&&(n=n.split("="),e.push({key:Lx(n.shift()),value:Lx(n.join("="))}))}},RL=function(e){this.entries.length=0,Ox(this.entries,e)},Ih=function(e,t){if(e<t)throw TypeError("Not enough arguments")},rp=rt(function(e,t){Jx(this,{type:"URLSearchParamsIterator",iterator:Hx(gd(e).entries),kind:t})},"Iterator",function(){var e=NL(this),t=e.kind,n=(e=e.iterator.next()).value;return e.done||(e.value=t==="keys"?n.key:t==="values"?n.value:[n.key,n.value]),e}),hj=function(){Od(this,hj,"URLSearchParams");var e,t,n,r=0<arguments.length?arguments[0]:void 0,o=[];if(Jx(this,{type:"URLSearchParams",entries:o,updateURL:function(){},updateSearchParams:RL}),r!==void 0)if(db(r)){var i=Di(r);if(typeof i=="function")for(r=i.call(r),i=r.next;!(e=i.call(r)).done;){var s=(e=Hx(sb(e.value))).next;if((t=s.call(e)).done||(n=s.call(e)).done||!s.call(e).done)throw TypeError("Expected sequence with length 2");o.push({key:t.value+"",value:n.value+""})}else for(e in r)Fa(r,e)&&o.push({key:e,value:r[e]+""})}else Ox(o,typeof r=="string"?r.charAt(0)==="?"?r.slice(1):r:r+"")},hl=hj.prototype;kh(hl,{append:function(e,t){Ih(arguments.length,2);var n=gd(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){Ih(arguments.length,1);for(var t=gd(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){Ih(arguments.length,1);for(var t=gd(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){Ih(arguments.length,1);for(var t=gd(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){Ih(arguments.length,1);for(var t=gd(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){Ih(arguments.length,1);for(var n,r=gd(this),o=r.entries,i=!1,s=e+"",l=t+"",u=0;u<o.length;u++)(n=o[u]).key===s&&(i?o.splice(u--,1):(i=!0,n.value=l));i||o.push({key:s,value:l}),r.updateURL()},sort:function(){var e,t,n=gd(this),r=n.entries,o=r.slice();for(t=r.length=0;t<o.length;t++){var i=o[t];for(e=0;e<t;e++)if(r[e].key>i.key){r.splice(e,0,i);break}e===t&&r.push(i)}n.updateURL()},forEach:function(e){for(var t,n=gd(this).entries,r=mf(e,1<arguments.length?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new rp(this,"keys")},values:function(){return new rp(this,"values")},entries:function(){return new rp(this,"entries")}},{enumerable:!0}),Lb(hl,ML,hl.entries),Lb(hl,"toString",function(){for(var e,t=gd(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(encodeURIComponent(e.key).replace(Mx,Nx)+"="+encodeURIComponent(e.value).replace(Mx,Nx));return n.join("&")},{enumerable:!0}),Nd(hj,"URLSearchParams"),xa({global:!0,forced:!op},{URLSearchParams:hj}),op||typeof Ix!="function"||typeof qp!="function"||xa({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t=[e];if(1<arguments.length){var n=arguments[1];if(db(n)){var r=n.body;if(jh(r)==="URLSearchParams"){var o=n.headers?new qp(n.headers):new qp;o.has("content-type")||o.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),n=rd(n,{body:ee(0,String(r)),headers:ee(0,o)})}}t.push(n)}return Ix.apply(this,t)}});var ij=oa.URL,SL=hj,TL=Rb.set,Sb=Rb.getterFor("URL"),UL=Math.floor,Px=Math.pow,Qx=/[A-Za-z]/,VL=/[\d+-.A-Za-z]/,sp=/\d/,WL=/^(0x|0X)/,XL=/^[0-7]+$/,YL=/^\d+$/,Rx=/^[\dA-Fa-f]+$/,ZL=/[\0\t\n\r #%/:?@[\\]]/,$L=/[\0\t\n\r #/:?@[\\]]/,aM=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,bM=/[\t\n\r]/g,tp=function(e,t){var n;if(t.charAt(0)=="["){if(t.charAt(t.length-1)!="]")return"Invalid host";var r=cM(t.slice(1,-1));if(!r)return"Invalid host"}else if(pc(e)){for(r=[],t=t.toLowerCase().replace(LL,".").split("."),n=0;n<t.length;n++){var o=t[n],i=r,s=i.push;if(KL.test(o)){var l=o;o=[];var u=l;l=[];for(var f=0,h=u.length;f<h;){var g=u.charCodeAt(f++);if(55296<=g&&56319>=g&&f<h){var y=u.charCodeAt(f++);(64512&y)==56320?l.push(((1023&g)<<10)+(1023&y)+65536):(l.push(g),f--)}else l.push(g)}f=l.length,h=128;var m=0,R=72;for(u=0;u<l.length;u++){var A=l[u];128>A&&o.push(pp(A))}for((y=g=o.length)&&o.push("-");y<f;){var k=2147483647;for(u=0;u<l.length;u++)(A=l[u])>=h&&A<k&&(k=A);var I=y+1;if(k-h>Hh((2147483647-m)/I))throw RangeError("Overflow: input needs wider integers to process");for(m+=(k-h)*I,h=k,u=0;u<l.length;u++){if((A=l[u])<h&&2147483647<++m)throw RangeError("Overflow: input needs wider integers to process");if(A==h){var N=m;for(A=36;!(N<(k=A<=R?1:A>=R+26?26:A-R));A+=36){var C=36-k,Y=o;k+=(N-=k)%C,Y.push.call(Y,pp(k+22+75*(26>k))),N=Hh(N/C)}for(o.push(pp(N+22+75*(26>N))),R=I,A=0,m=y==g?Hh(m/700):m>>1,m+=Hh(m/R);455<m;A+=36)m=Hh(m/35);R=Hh(A+36*m/(m+38)),m=0,++y}}++m,++h}o="xn--"+o.join("")}s.call(i,o)}if(t=r.join("."),ZL.test(t)||(r=dM(t))===null)return"Invalid host"}else{if($L.test(t))return"Invalid host";for(r="",t=bg(t),n=0;n<t.length;n++)r+=Cf(t[n],il)}e.host=r},dM=function(e){var t,n=e.split(".");n.length&&n[n.length-1]==""&&n.pop();var r=n.length;if(4<r)return e;var o=[];for(t=0;t<r;t++){var i=n[t];if(i=="")return e;var s=10;if(1<i.length&&i.charAt(0)=="0"&&(s=WL.test(i)?16:8,i=i.slice(s==8?1:2)),i==="")i=0;else{if(!(s==10?YL:s==8?XL:Rx).test(i))return e;i=parseInt(i,s)}o.push(i)}for(t=0;t<r;t++)if(i=o[t],t==r-1){if(i>=Px(256,5-r))return null}else if(255<i)return null;for(e=o.pop(),t=0;t<o.length;t++)e+=o[t]*Px(256,3-t);return e},cM=function(e){var t,n,r=[0,0,0,0,0,0,0,0],o=0,i=null,s=0,l=function(){return e.charAt(s)};if(l()==":"){if(e.charAt(1)!=":")return;s+=2,i=++o}for(;l();){if(o==8)return;if(l()==":"){if(i!==null)return;s++,i=++o}else{for(t=n=0;4>n&&Rx.test(l());)t=16*t+parseInt(l(),16),s++,n++;if(l()=="."){if(n==0||(s-=n,6<o))return;for(t=0;l();){if(n=null,0<t){if(!(l()=="."&&4>t))return;s++}if(!sp.test(l()))return;for(;sp.test(l());){var u=parseInt(l(),10);if(n===null)n=u;else{if(n==0)return;n=10*n+u}if(255<n)return;s++}r[o]=256*r[o]+n,++t!=2&&t!=4||o++}if(t!=4)return;break}if(l()==":"){if(s++,!l())return}else if(l())return;r[o++]=t}}if(i!==null)for(l=o-i,o=7;o!=0&&0<l;)t=r[o],r[o--]=r[i+l-1],r[i+--l]=t;else if(o!=8)return;return r},jj=function(e){var t,n;if(typeof e=="number"){var r=[];for(t=0;4>t;t++)r.unshift(e%256),e=UL(e/256);return r.join(".")}if(typeof e=="object"){r="",t=null;for(var o=1,i=null,s=0,l=0;8>l;l++)e[l]!==0?(s>o&&(t=i,o=s),i=null,s=0):(i===null&&(i=l),++s);for(s>o&&(t=i),o=t,t=0;8>t;t++)n&&e[t]===0||(n&&(n=!1),o===t?(r+=t?":":"::",n=!0):(r+=e[t].toString(16),7>t&&(r+=":")));return"["+r+"]"}return e},il={},Sx=Si({},il,{" ":1,'"':1,"<":1,">":1,"`":1}),Tx=Si({},Sx,{"#":1,"?":1,"{":1,"}":1}),up=Si({},Tx,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Cf=function(e,t){var n=YC(e,0);return 32<n&&127>n&&!Fa(t,e)?e:encodeURIComponent(e)},jl={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pc=function(e){return Fa(jl,e.scheme)},vp=function(e){return!e.host||e.cannotBeABaseURL||e.scheme=="file"},kj=function(e,t){var n;return e.length==2&&Qx.test(e.charAt(0))&&((n=e.charAt(1))==":"||!t&&n=="|")},Ux=function(e){var t;return 1<e.length&&kj(e.slice(0,2))&&(e.length==2||(t=e.charAt(2))==="/"||t==="\\"||t==="?"||t==="#")},Vx=function(e){var t=e.path,n=t.length;!n||e.scheme=="file"&&n==1&&kj(t[0],!0)||t.pop()},wp={},Wx={},xp={},Xx={},Yx={},yp={},Zx={},$x={},kl={},ll={},zp={},Ap={},Bp={},Cp={},ay={},Dp={},lj={},re={},by={},sg={},Ue={},se=function(e,t,n,r){var o=n||wp,i=0,s="",l=!1,u=!1,f=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(aM,"")),t=t.replace(bM,""),t=bg(t);i<=t.length;){var h=t[i];switch(o){case wp:if(!h||!Qx.test(h)){if(n)return"Invalid scheme";o=xp;continue}s+=h.toLowerCase(),o=Wx;break;case Wx:if(h&&(VL.test(h)||h=="+"||h=="-"||h=="."))s+=h.toLowerCase();else{if(h!=":"){if(n)return"Invalid scheme";s="",o=xp,i=0;continue}if(n&&(pc(e)!=Fa(jl,s)||s=="file"&&(e.username!=""||e.password!=""||e.port!==null)||e.scheme=="file"&&!e.host))return;if(e.scheme=s,n)return void(pc(e)&&jl[e.scheme]==e.port&&(e.port=null));s="",e.scheme=="file"?o=Cp:pc(e)&&r&&r.scheme==e.scheme?o=Xx:pc(e)?o=$x:t[i+1]=="/"?(o=Yx,i++):(e.cannotBeABaseURL=!0,e.path.push(""),o=by)}break;case xp:if(!r||r.cannotBeABaseURL&&h!="#")return"Invalid scheme";if(r.cannotBeABaseURL&&h=="#"){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,o=Ue;break}o=r.scheme=="file"?Cp:yp;continue;case Xx:if(h!="/"||t[i+1]!="/"){o=yp;continue}o=kl,i++;break;case Yx:if(h=="/"){o=ll;break}o=re;continue;case yp:if(e.scheme=r.scheme,h==null)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if(h=="/"||h=="\\"&&pc(e))o=Zx;else if(h=="?")e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",o=sg;else{if(h!="#"){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),o=re;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",o=Ue}break;case Zx:if(!pc(e)||h!="/"&&h!="\\"){if(h!="/"){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,o=re;continue}o=ll}else o=kl;break;case $x:if(o=kl,h!="/"||s.charAt(i+1)!="/")continue;i++;break;case kl:if(h!="/"&&h!="\\"){o=ll;continue}break;case ll:if(h=="@"){for(l&&(s="%40"+s),l=!0,s=bg(s),h=0;h<s.length;h++){var g=s[h];g!=":"||f?(g=Cf(g,up),f?e.password+=g:e.username+=g):f=!0}s=""}else if(h==null||h=="/"||h=="?"||h=="#"||h=="\\"&&pc(e)){if(l&&s=="")return"Invalid authority";i-=bg(s).length+1,s="",o=zp}else s+=h;break;case zp:case Ap:if(n&&e.scheme=="file"){o=Dp;continue}if(h!=":"||u){if(h==null||h=="/"||h=="?"||h=="#"||h=="\\"&&pc(e)){if(pc(e)&&s=="")return"Invalid host";if(n&&s==""&&(e.username!=""||e.password!=""||e.port!==null))return;if(o=tp(e,s))return o;if(s="",o=lj,n)return;continue}h=="["?u=!0:h=="]"&&(u=!1),s+=h}else{if(s=="")return"Invalid host";if(o=tp(e,s))return o;if(s="",o=Bp,n==Ap)return}break;case Bp:if(!sp.test(h)){if(h==null||h=="/"||h=="?"||h=="#"||h=="\\"&&pc(e)||n){if(s!=""){if(65535<(o=parseInt(s,10)))return"Invalid port";e.port=pc(e)&&o===jl[e.scheme]?null:o,s=""}if(n)return;o=lj;continue}return"Invalid port"}s+=h;break;case Cp:if(e.scheme="file",h=="/"||h=="\\")o=ay;else{if(!r||r.scheme!="file"){o=re;continue}if(h==null)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if(h=="?")e.host=r.host,e.path=r.path.slice(),e.query="",o=sg;else{if(h!="#"){Ux(t.slice(i).join(""))||(e.host=r.host,e.path=r.path.slice(),Vx(e)),o=re;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",o=Ue}}break;case ay:if(h=="/"||h=="\\"){o=Dp;break}r&&r.scheme=="file"&&!Ux(t.slice(i).join(""))&&(kj(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),o=re;continue;case Dp:if(h==null||h=="/"||h=="\\"||h=="?"||h=="#"){if(!n&&kj(s))o=re;else{if(s==""){if(e.host="",n)return}else{if(o=tp(e,s))return o;if(e.host=="localhost"&&(e.host=""),n)return;s=""}o=lj}continue}s+=h;break;case lj:if(pc(e)){if(o=re,h!="/"&&h!="\\")continue}else if(n||h!="?")if(n||h!="#"){if(h!=null&&(o=re,h!="/"))continue}else e.fragment="",o=Ue;else e.query="",o=sg;break;case re:if(h==null||h=="/"||h=="\\"&&pc(e)||!n&&(h=="?"||h=="#")){if((g=(g=s).toLowerCase())===".."||g==="%2e."||g===".%2e"||g==="%2e%2e"?(Vx(e),h=="/"||h=="\\"&&pc(e)||e.path.push("")):s==="."||s.toLowerCase()==="%2e"?h=="/"||h=="\\"&&pc(e)||e.path.push(""):(e.scheme=="file"&&!e.path.length&&kj(s)&&(e.host&&(e.host=""),s=s.charAt(0)+":"),e.path.push(s)),s="",e.scheme=="file"&&(h==null||h=="?"||h=="#"))for(;1<e.path.length&&e.path[0]==="";)e.path.shift();h=="?"?(e.query="",o=sg):h=="#"&&(e.fragment="",o=Ue)}else s+=Cf(h,Tx);break;case by:h=="?"?(e.query="",o=sg):h=="#"?(e.fragment="",o=Ue):h!=null&&(e.path[0]+=Cf(h,il));break;case sg:n||h!="#"?h!=null&&(h=="'"&&pc(e)?e.query+="%27":e.query=h=="#"?e.query+"%23":e.query+Cf(h,il)):(e.fragment="",o=Ue);break;case Ue:h!=null&&(e.fragment+=Cf(h,Sx))}i++}},Df=function(e){var t=Od(this,Df,"URL"),n=1<arguments.length?arguments[1]:void 0,r=String(e),o=TL(t,{type:"URL"});if(n!==void 0){if(n instanceof Df)var i=Sb(n);else if(n=se(i={},String(n)))throw TypeError(n)}if(n=se(o,r,null,i))throw TypeError(n);var s=o.searchParams=new SL;(r=gd(s)).updateSearchParams(o.query),r.updateURL=function(){o.query=String(s)||null},ab||(t.href=ml.call(t),t.origin=cy.call(t),t.protocol=dy.call(t),t.username=ey.call(t),t.password=fy.call(t),t.host=gy.call(t),t.hostname=hy.call(t),t.port=iy.call(t),t.pathname=jy.call(t),t.search=ky.call(t),t.searchParams=ly.call(t),t.hash=my.call(t))},Ep=Df.prototype,ml=function(){var e=Sb(this),t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,s=e.path,l=e.query,u=e.fragment,f=t+":";return o!==null?(f+="//",e.username==""&&e.password==""||(f+=n+(r?":"+r:"")+"@"),f+=jj(o),i!==null&&(f+=":"+i)):t=="file"&&(f+="//"),f+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",l!==null&&(f+="?"+l),u!==null&&(f+="#"+u),f},cy=function(){var e=Sb(this),t=e.scheme,n=e.port;if(t=="blob")try{return new Df(t.path[0]).origin}catch{return"null"}return t!="file"&&pc(e)?t+"://"+jj(e.host)+(n!==null?":"+n:""):"null"},dy=function(){return Sb(this).scheme+":"},ey=function(){return Sb(this).username},fy=function(){return Sb(this).password},gy=function(){var e=Sb(this),t=e.host;return e=e.port,t===null?"":e===null?jj(t):jj(t)+":"+e},hy=function(){var e=Sb(this).host;return e===null?"":jj(e)},iy=function(){var e=Sb(this).port;return e===null?"":String(e)},jy=function(){var e=Sb(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},ky=function(){var e=Sb(this).query;return e?"?"+e:""},ly=function(){return Sb(this).searchParams},my=function(){var e=Sb(this).fragment;return e?"#"+e:""},Ad=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(ab&&ot(Ep,{href:Ad(ml,function(e){var t=Sb(this);if(e=se(t,String(e)))throw TypeError(e);gd(t.searchParams).updateSearchParams(t.query)}),origin:Ad(cy),protocol:Ad(dy,function(e){var t=Sb(this);se(t,String(e)+":",wp)}),username:Ad(ey,function(e){var t=Sb(this);if(e=bg(String(e)),!vp(t)){t.username="";for(var n=0;n<e.length;n++)t.username+=Cf(e[n],up)}}),password:Ad(fy,function(e){var t=Sb(this);if(e=bg(String(e)),!vp(t)){t.password="";for(var n=0;n<e.length;n++)t.password+=Cf(e[n],up)}}),host:Ad(gy,function(e){var t=Sb(this);t.cannotBeABaseURL||se(t,String(e),zp)}),hostname:Ad(hy,function(e){var t=Sb(this);t.cannotBeABaseURL||se(t,String(e),Ap)}),port:Ad(iy,function(e){var t=Sb(this);vp(t)||((e=String(e))==""?t.port=null:se(t,e,Bp))}),pathname:Ad(jy,function(e){var t=Sb(this);t.cannotBeABaseURL||(t.path=[],se(t,e+"",lj))}),search:Ad(ky,function(e){var t=Sb(this);(e=String(e))==""?t.query=null:(e.charAt(0)=="?"&&(e=e.slice(1)),t.query="",se(t,e,sg)),gd(t.searchParams).updateSearchParams(t.query)}),searchParams:Ad(ly),hash:Ad(my,function(e){var t=Sb(this);(e=String(e))==""?t.fragment=null:(e.charAt(0)=="#"&&(e=e.slice(1)),t.fragment="",se(t,e,Ue))})}),Lb(Ep,"toJSON",function(){return ml.call(this)},{enumerable:!0}),Lb(Ep,"toString",function(){return ml.call(this)},{enumerable:!0}),ij){var ny=ij.createObjectURL,oy=ij.revokeObjectURL;ny&&Lb(Df,"createObjectURL",function(e){return ny.apply(ij,arguments)}),oy&&Lb(Df,"revokeObjectURL",function(e){return oy.apply(ij,arguments)})}Nd(Df,"URL"),xa({global:!0,forced:!op,sham:!ab},{URL:Df});var eM=new Blob(["var fakeIdToId = {};onmessage = function (event) {	var data = event.data,		name = data.name,		fakeId = data.fakeId,		time;	if(data.hasOwnProperty('time')) {		time = data.time;	}	switch (name) {		case 'setInterval':			fakeIdToId[fakeId] = setInterval(function () {				postMessage({fakeId: fakeId});			}, time);			break;		case 'clearInterval':			if (fakeIdToId.hasOwnProperty (fakeId)) {				clearInterval(fakeIdToId[fakeId]);				delete fakeIdToId[fakeId];			}			break;	}}"]),fM=window.URL.createObjectURL(eM),ah={},ti=0,Rm=new Worker(fM);Rm.onmessage=function(e){if(e=e.data.fakeId,ah.hasOwnProperty(e)){var t=ah[e];e=t.callback,t=t.parameters,e.apply(window,t)}};var gM=function(e){function t(){return Za(this,t),n.apply(this,arguments)}mb(t,e);var n=nb(t);return Nb(t,[{key:"requestAsyncId",value:function(r,o){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return tC(r.flush.bind(r,this),i)}},{key:"recycleAsyncId",value:function(r,o){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(i!==null&&this.delay===i&&this.pending===!1)return o;ah.hasOwnProperty(o)&&(delete ah[o],Rm.postMessage({name:"clearInterval",fakeId:o}))}}]),t}(Ex),hM=new Gx(gM);xa({target:"Array",proto:!0,forced:Ln!==[].lastIndexOf},{lastIndexOf:Ln}),xa({target:"Array",proto:!0},{flatMap:function(e){var t=Yb(this),n=vb(t.length);Oc(e);var r=Bi(t,0);return r.length=kx(r,t,t,n,0,1,e,1<arguments.length?arguments[1]:void 0),r}}),pf("flatMap");var iM=ag("reduceRight"),jM=!ke&&79<ie&&83>ie;xa({target:"Array",proto:!0,forced:!iM||jM},{reduceRight:function(e){return vu(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var Fp=function(e){return Ha(function(){return!!`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`[e]()||"\u200B\x85\u180E"[e]()!="\u200B\x85\u180E"||`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`[e].name!==e})};xa({target:"String",proto:!0,forced:Fp("trim")},{trim:function(){return hk(this)}});var py=Fp("trimEnd"),qy=py?function(){return dD(this)}:"".trimEnd;xa({target:"String",proto:!0,forced:py},{trimEnd:qy,trimRight:qy});var ry=Fp("trimStart"),sy=ry?function(){return cD(this)}:"".trimStart;xa({target:"String",proto:!0,forced:ry},{trimStart:sy,trimLeft:sy});var ui=lc(function(e,t){(function(){function n(B,Z,w){switch(w.length){case 0:return B.call(Z);case 1:return B.call(Z,w[0]);case 2:return B.call(Z,w[0],w[1]);case 3:return B.call(Z,w[0],w[1],w[2])}return B.apply(Z,w)}function r(B,Z,w,_o){for(var na=-1,_n=B==null?0:B.length;++na<_n;){var qa=B[na];Z(_o,qa,w(qa),B)}return _o}function o(B,Z){for(var w=-1,_o=B==null?0:B.length;++w<_o&&Z(B[w],w,B)!==!1;);return B}function i(B,Z){for(var w=B==null?0:B.length;w--&&Z(B[w],w,B)!==!1;);return B}function s(B,Z){for(var w=-1,_o=B==null?0:B.length;++w<_o;)if(!Z(B[w],w,B))return!1;return!0}function l(B,Z){for(var w=-1,_o=B==null?0:B.length,na=0,_n=[];++w<_o;){var qa=B[w];Z(qa,w,B)&&(_n[na++]=qa)}return _n}function u(B,Z){return!(B==null||!B.length)&&-1<I(B,Z,0)}function f(B,Z,w){for(var _o=-1,na=B==null?0:B.length;++_o<na;)if(w(Z,B[_o]))return!0;return!1}function h(B,Z){for(var w=-1,_o=B==null?0:B.length,na=Array(_o);++w<_o;)na[w]=Z(B[w],w,B);return na}function g(B,Z){for(var w=-1,_o=Z.length,na=B.length;++w<_o;)B[na+w]=Z[w];return B}function y(B,Z,w,_o){var na=-1,_n=B==null?0:B.length;for(_o&&_n&&(w=B[++na]);++na<_n;)w=Z(w,B[na],na,B);return w}function m(B,Z,w,_o){var na=B==null?0:B.length;for(_o&&na&&(w=B[--na]);na--;)w=Z(w,B[na],na,B);return w}function R(B,Z){for(var w=-1,_o=B==null?0:B.length;++w<_o;)if(Z(B[w],w,B))return!0;return!1}function A(B,Z,w){var _o;return w(B,function(na,_n,qa){if(Z(na,_n,qa))return _o=_n,!1}),_o}function k(B,Z,w,_o){var na=B.length;for(w+=_o?1:-1;_o?w--:++w<na;)if(Z(B[w],w,B))return w;return-1}function I(B,Z,w){if(Z==Z)t:{--w;for(var _o=B.length;++w<_o;)if(B[w]===Z){B=w;break t}B=-1}else B=k(B,C,w);return B}function N(B,Z,w,_o){--w;for(var na=B.length;++w<na;)if(_o(B[w],Z))return w;return-1}function C(B){return B!=B}function Y(B,Z){var w=B==null?0:B.length;return w?$e(B,Z)/w:Rh}function te(B){return function(Z){return Z==null?T:Z[B]}}function Xe(B){return function(Z){return B==null?T:B[Z]}}function _e(B,Z,w,_o,na){return na(B,function(_n,qa,tl){w=_o?(_o=!1,_n):Z(w,_n,qa,tl)}),w}function $e(B,Z){for(var w,_o=-1,na=B.length;++_o<na;){var _n=Z(B[_o]);_n!==T&&(w=w===T?_n:w+_n)}return w}function _a(B,Z){for(var w=-1,_o=Array(B);++w<B;)_o[w]=Z(w);return _o}function q(B){return B&&B.slice(0,Sa(B)+1).replace(Cd,"")}function V(B){return function(Z){return B(Z)}}function z(B,Z){return h(Z,function(w){return B[w]})}function _t(B,Z){return B.has(Z)}function L(B,Z){for(var w=-1,_o=B.length;++w<_o&&-1<I(Z,B[w],0););return w}function D(B,Z){for(var w=B.length;w--&&-1<I(Z,B[w],0););return w}function J(B){return"\\"+d_[B]}function Q(B){var Z=-1,w=Array(B.size);return B.forEach(function(_o,na){w[++Z]=[na,_o]}),w}function ue(B,Z){return function(w){return B(Z(w))}}function aa(B,Z){for(var w=-1,_o=B.length,na=0,_n=[];++w<_o;){var qa=B[w];qa!==Z&&qa!=="__lodash_placeholder__"||(B[w]="__lodash_placeholder__",_n[na++]=w)}return _n}function Ve(B){var Z=-1,w=Array(B.size);return B.forEach(function(_o){w[++Z]=_o}),w}function da(B){if(Gl.test(B)){for(var Z=jd.lastIndex=0;jd.test(B);)++Z;B=Z}else B=y_(B);return B}function Ze(B){return Gl.test(B)?B.match(jd)||[]:B.split("")}function Sa(B){for(var Z=B.length;Z--&&z1.test(B.charAt(Z)););return Z}var T,Ll=1/0,Rh=NaN,M1=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],U1=/\b__p \+= '';/g,D1=/\b(__p \+=) '' \+/g,q1=/(__e\(.*?\)|\b__t\)) \+\n'';/g,O0=/&(?:amp|lt|gt|quot|#39);/g,k0=/[&<>"']/g,F1=RegExp(O0.source),B1=RegExp(k0.source),G1=/<%-([\s\S]+?)%>/g,K1=/<%([\s\S]+?)%>/g,R0=/<%=([\s\S]+?)%>/g,H1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V1=/^\w*$/,W1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kd=/[\\^$.*+?()[\]{}|]/g,J1=RegExp(kd.source),Cd=/^\s+/,z1=/\s/,X1=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y1=/\{\n\/\* \[wrapped with (.+)\] \*/,$1=/,? & /,Z1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Q1=/[()=,{}\[\]\/\s]/,_w=/\\(\\)?/g,t_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A0=/\w*$/,e_=/^[-+]0x[0-9a-f]+$/i,n_=/^0b[01]+$/i,r_=/^\[object .+?Constructor\]$/,o_=/^0o[0-7]+$/i,i_=/^(?:0|[1-9]\d*)$/,a_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Sh=/($^)/,s_=/['\n\r\u2028\u2029\\]/g,u_=/['\u2019]/g,c_=/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g,jd=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,l_=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Gl=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,f_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,h_="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),p_=-1,ma={};ma["[object Float32Array]"]=ma["[object Float64Array]"]=ma["[object Int8Array]"]=ma["[object Int16Array]"]=ma["[object Int32Array]"]=ma["[object Uint8Array]"]=ma["[object Uint8ClampedArray]"]=ma["[object Uint16Array]"]=ma["[object Uint32Array]"]=!0,ma["[object Arguments]"]=ma["[object Array]"]=ma["[object ArrayBuffer]"]=ma["[object Boolean]"]=ma["[object DataView]"]=ma["[object Date]"]=ma["[object Error]"]=ma["[object Function]"]=ma["[object Map]"]=ma["[object Number]"]=ma["[object Object]"]=ma["[object RegExp]"]=ma["[object Set]"]=ma["[object String]"]=ma["[object WeakMap]"]=!1;var ya={};ya["[object Arguments]"]=ya["[object Array]"]=ya["[object ArrayBuffer]"]=ya["[object DataView]"]=ya["[object Boolean]"]=ya["[object Date]"]=ya["[object Float32Array]"]=ya["[object Float64Array]"]=ya["[object Int8Array]"]=ya["[object Int16Array]"]=ya["[object Int32Array]"]=ya["[object Map]"]=ya["[object Number]"]=ya["[object Object]"]=ya["[object RegExp]"]=ya["[object Set]"]=ya["[object String]"]=ya["[object Symbol]"]=ya["[object Uint8Array]"]=ya["[object Uint8ClampedArray]"]=ya["[object Uint16Array]"]=ya["[object Uint32Array]"]=!0,ya["[object Error]"]=ya["[object Function]"]=ya["[object WeakMap]"]=!1;var d_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},g_=parseFloat,b_=parseInt,I0=Ka(pb)=="object"&&pb&&pb.Object===Object&&pb,v_=(typeof self>"u"?"undefined":Ka(self))=="object"&&self&&self.Object===Object&&self,_s=I0||v_||Function("return this")(),Dd=t&&!t.nodeType&&t,Pl=Dd&&e&&!e.nodeType&&e,S0=Pl&&Pl.exports===Dd,Fd=S0&&I0.process,Uc=function(){try{var B=Pl&&Pl.require&&Pl.require("util").types;return B||Fd&&Fd.binding&&Fd.binding("util")}catch{}}(),T0=Uc&&Uc.isArrayBuffer,N0=Uc&&Uc.isDate,x0=Uc&&Uc.isMap,C0=Uc&&Uc.isRegExp,L0=Uc&&Uc.isSet,P0=Uc&&Uc.isTypedArray,y_=te("length"),m_=Xe({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),E_=Xe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),w_=Xe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Kl=function B(Z){function w(a){if(Pa(a)&&!ua(a)&&!(a instanceof _n)){if(a instanceof na)return a;if(va.call(a,"__wrapped__"))return Ky(a)}return new na(a)}function _o(){}function na(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=T}function _n(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function qa(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var v=a[c];this.set(v[0],v[1])}}function tl(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var v=a[c];this.set(v[0],v[1])}}function pl(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var v=a[c];this.set(v[0],v[1])}}function Ml(a){var c=-1,p=a==null?0:a.length;for(this.__data__=new pl;++c<p;)this.add(a[c])}function nl(a){this.size=(this.__data__=new tl(a)).size}function j0(a,c){var p,v=ua(a),_=!v&&Bl(a),O=!v&&!_&&Cl(a),x=!v&&!_&&!O&&df(a),j=(_=(v=v||_||O||x)?_a(a.length,j_):[]).length;for(p in a)!c&&!va.call(a,p)||v&&(p=="length"||O&&(p=="offset"||p=="parent")||x&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||_l(p,j))||_.push(p);return _}function M0(a){var c=a.length;return c?a[wg(0,c-1)]:T}function __(a,c){return Rp(yc(a),Ul(c,0,a.length))}function O_(a){return Rp(yc(a))}function Bd(a,c,p){(p===T||rl(a[c],p))&&(p!==T||c in a)||vl(a,c,p)}function Ef(a,c,p){var v=a[c];va.call(a,c)&&rl(v,p)&&(p!==T||c in a)||vl(a,c,p)}function Th(a,c){for(var p=a.length;p--;)if(rl(a[p][0],c))return p;return-1}function k_(a,c,p,v){return xl(a,function(_,O,x){c(v,_,p(_),x)}),v}function U0(a,c){return a&&sl(c,Xa(c),a)}function vl(a,c,p){c=="__proto__"&&Yp?Yp(a,c,{configurable:!0,enumerable:!0,value:p,writable:!0}):a[c]=p}function Gd(a,c){for(var p=-1,v=c.length,_=Wa(v),O=a==null;++p<v;)_[p]=O?T:n0(a,c[p]);return _}function Ul(a,c,p){return a==a&&(p!==T&&(a=a<=p?a:p),c!==T&&(a=a>=c?a:c)),a}function qc(a,c,p,v,_,O){var x,j=1&c,F=2&c,G=4&c;if(p&&(x=_?p(a,v,_,O):p(a)),x!==T)return x;if(!Ta(a))return a;if(v=ua(a)){if(x=function(ve){var _r=ve.length,ia=new ve.constructor(_r);return _r&&typeof ve[0]=="string"&&va.call(ve,"index")&&(ia.index=ve.index,ia.input=ve.input),ia}(a),!j)return yc(a,x)}else{var $=oc(a),We=$=="[object Function]"||$=="[object GeneratorFunction]";if(Cl(a))return uy(a,j);if($=="[object Object]"||$=="[object Arguments]"||We&&!_){if(x=F||We?{}:Uy(a),!j)return F?function(ve,_r){return sl(ve,k1(ve),_r)}(a,function(ve,_r){return ve&&sl(_r,_c(_r),ve)}(x,a)):function(ve,_r){return sl(ve,v0(ve),_r)}(a,U0(x,a))}else{if(!ya[$])return _?a:{};x=function(ve,_r,ia){var la=ve.constructor;switch(_r){case"[object ArrayBuffer]":return cb(ve);case"[object Boolean]":case"[object Date]":return new la(+ve);case"[object DataView]":return _r=ia?cb(ve.buffer):ve.buffer,new ve.constructor(_r,ve.byteOffset,ve.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return vy(ve,ia);case"[object Map]":return new la;case"[object Number]":case"[object String]":return new la(ve);case"[object RegExp]":return(_r=new ve.constructor(ve.source,A0.exec(ve))).lastIndex=ve.lastIndex,_r;case"[object Set]":return new la;case"[object Symbol]":return _h?Ea(_h.call(ve)):{}}}(a,$,j)}}if(O||(O=new nl),_=O.get(a))return _;O.set(a,x),N1(a)?a.forEach(function(ve){x.add(qc(ve,c,p,ve,a,O))}):T1(a)&&a.forEach(function(ve,_r){x.set(_r,qc(ve,c,p,_r,a,O))}),F=G?F?Ib:_b:F?_c:Xa;var Ye=v?T:F(a);return o(Ye||a,function(ve,_r){Ye&&(ve=a[_r=ve]),Ef(x,_r,qc(ve,c,p,_r,a,O))}),x}function D0(a,c,p){var v=p.length;if(a==null)return!v;for(a=Ea(a);v--;){var _=p[v],O=c[_],x=a[_];if(x===T&&!(_ in a)||!O(x))return!1}return!0}function q0(a,c,p){if(typeof a!="function")throw new zc("Expected a function");return Oh(function(){a.apply(T,p)},c)}function _f(a,c,p,v){var _=-1,O=u,x=!0,j=a.length,F=[],G=c.length;if(!j)return F;p&&(c=h(c,V(p))),v?(O=f,x=!1):200<=c.length&&(O=_t,x=!1,c=new Ml(c));t:for(;++_<j;){var $=a[_],We=p==null?$:p($);if($=v||$!==0?$:0,x&&We==We){for(var Ye=G;Ye--;)if(c[Ye]===We)continue t;F.push($)}else O(c,We,v)||F.push($)}return F}function R_(a,c){var p=!0;return xl(a,function(v,_,O){return p=!!c(v,_,O)}),p}function Nh(a,c,p){for(var v=-1,_=a.length;++v<_;){var O=a[v],x=c(O);if(x!=null&&(j===T?x==x&&!Tc(x):p(x,j)))var j=x,F=O}return F}function F0(a,c){var p=[];return xl(a,function(v,_,O){c(v,_,O)&&p.push(v)}),p}function _u(a,c,p,v,_){var O=-1,x=a.length;for(p||(p=L_),_||(_=[]);++O<x;){var j=a[O];0<c&&p(j)?1<c?_u(j,c-1,p,v,_):g(_,j):v||(_[_.length]=j)}return _}function ol(a,c){return a&&g0(a,c,Xa)}function Wd(a,c){return a&&w1(a,c,Xa)}function Lh(a,c){return l(c,function(p){return Ol(a[p])})}function yl(a,c){for(var p=0,v=(c=Sl(c,a)).length;a!=null&&p<v;)a=a[ul(c[p++])];return p&&p==v?a:T}function B0(a,c,p){return c=c(a),ua(a)?c:g(c,p(a))}function ic(a){if(a==null)return a===T?"[object Undefined]":"[object Null]";if(Fl&&Fl in Ea(a)){var c=va.call(a,Fl),p=a[Fl];try{a[Fl]=T;var v=!0}catch{}var _=Hp.call(a);v&&(c?a[Fl]=p:delete a[Fl]),a=_}else a=Hp.call(a);return a}function Xd(a,c){return a>c}function A_(a,c){return a!=null&&va.call(a,c)}function I_(a,c){return a!=null&&c in Ea(a)}function Yd(a,c,p){for(var v=p?f:u,_=a[0].length,O=a.length,x=O,j=Wa(O),F=1/0,G=[];x--;){var $=a[x];x&&c&&($=h($,V(c))),F=rc($.length,F),j[x]=!p&&(c||120<=_&&120<=$.length)?new Ml(x&&$):T}$=a[0];var We=-1,Ye=j[0];t:for(;++We<_&&G.length<F;){var ve=$[We],_r=c?c(ve):ve;if(ve=p||ve!==0?ve:0,Ye?!Ye.has(_r):!v(G,_r,p)){for(x=O;--x;){var ia=j[x];if(ia?!ia.has(_r):!v(a[x],_r,p))continue t}Ye&&Ye.push(_r),G.push(ve)}}return G}function If(a,c,p){return(c=(a=2>(c=Sl(c,a)).length?a:yl(a,Rc(c,0,-1)))==null?a:a[ul(Fc(c))])==null?T:n(c,a,p)}function G0(a){return Pa(a)&&ic(a)=="[object Arguments]"}function Al(a,c,p,v,_){if(a===c)return!0;if(a==null||c==null||!Pa(a)&&!Pa(c))return a!=a&&c!=c;t:{var O=ua(a),x=ua(c),j=O?"[object Array]":oc(a),F=x?"[object Array]":oc(c),G=(j=j=="[object Arguments]"?"[object Object]":j)=="[object Object]";if(x=(F=F=="[object Arguments]"?"[object Object]":F)=="[object Object]",(F=j==F)&&Cl(a)){if(!Cl(c)){c=!1;break t}O=!0,G=!1}if(F&&!G)_||(_=new nl),c=O||df(a)?Py(a,c,p,v,Al,_):function(ia,la,Na,_i,ba,La,za){switch(Na){case"[object DataView]":if(ia.byteLength!=la.byteLength||ia.byteOffset!=la.byteOffset)break;ia=ia.buffer,la=la.buffer;case"[object ArrayBuffer]":if(ia.byteLength!=la.byteLength||!La(new Wp(ia),new Wp(la)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return rl(+ia,+la);case"[object Error]":return ia.name==la.name&&ia.message==la.message;case"[object RegExp]":case"[object String]":return ia==la+"";case"[object Map]":var xc=Q;case"[object Set]":if(xc||(xc=Ve),ia.size!=la.size&&!(1&_i))break;return(Na=za.get(ia))?Na==la:(_i|=2,za.set(ia,la),la=Py(xc(ia),xc(la),_i,ba,La,za),za.delete(ia),la);case"[object Symbol]":if(_h)return _h.call(ia)==_h.call(la)}return!1}(a,c,j,p,v,Al,_);else{if(!(1&p)&&(O=G&&va.call(a,"__wrapped__"),j=x&&va.call(c,"__wrapped__"),O||j)){a=O?a.value():a,c=j?c.value():c,_||(_=new nl),c=Al(a,c,p,v,_);break t}if(F)e:if(_||(_=new nl),O=1&p,j=_b(a),x=j.length,F=_b(c).length,x==F||O){for(F=x;F--;){var $=j[F];if(!(O?$ in c:va.call(c,$))){c=!1;break e}}if(G=_.get(a),$=_.get(c),G&&$)c=G==c&&$==a;else{G=!0,_.set(a,c),_.set(c,a);for(var We=O;++F<x;){var Ye=a[$=j[F]],ve=c[$];if(v)var _r=O?v(ve,Ye,$,c,a,_):v(Ye,ve,$,a,c,_);if(_r===T?Ye!==ve&&!Al(Ye,ve,p,v,_):!_r){G=!1;break}We||(We=$=="constructor")}G&&!We&&(p=a.constructor)!=(v=c.constructor)&&"constructor"in a&&"constructor"in c&&!(typeof p=="function"&&p instanceof p&&typeof v=="function"&&v instanceof v)&&(G=!1),_.delete(a),_.delete(c),c=G}}else c=!1;else c=!1}}return c}function tg(a,c,p,v){var _=p.length,O=_,x=!v;if(a==null)return!O;for(a=Ea(a);_--;){var j=p[_];if(x&&j[2]?j[1]!==a[j[0]]:!(j[0]in a))return!1}for(;++_<O;){var F=(j=p[_])[0],G=a[F],$=j[1];if(x&&j[2]){if(G===T&&!(F in a))return!1}else{if(j=new nl,v)var We=v(G,$,F,a,c,j);if(We===T?!Al($,G,3,v,j):!We)return!1}}return!0}function K0(a){return!(!Ta(a)||h1&&h1 in a)&&(Ol(a)?q_:r_).test(ql(a))}function H0(a){return typeof a=="function"?a:a==null?kc:Ka(a)=="object"?ua(a)?J0(a[0],a[1]):W0(a):c1(a)}function ug(a){if(!Ff(a))return V_(a);var c,p=[];for(c in Ea(a))va.call(a,c)&&c!="constructor"&&p.push(c);return p}function vg(a,c){return a<c}function V0(a,c){var p=-1,v=wc(a)?Wa(a.length):[];return xl(a,function(_,O,x){v[++p]=c(_,O,x)}),v}function W0(a){var c=Cb(a);return c.length==1&&c[0][2]?Dy(c[0][0],c[0][1]):function(p){return p===a||tg(p,a,c)}}function J0(a,c){return Mb(a)&&c==c&&!Ta(c)?Dy(ul(a),c):function(p){var v=n0(p,a);return v===T&&v===c?r0(p,a):Al(c,v,3)}}function Ph(a,c,p,v,_){a!==c&&g0(c,function(O,x){if(_||(_=new nl),Ta(O)){O=_;var j=Hb(a,x),F=Hb(c,x),G=O.get(F);if(G)Bd(a,x,G);else{var $=(G=v?v(j,F,x+"",a,c,O):T)===T;if($){var We=ua(F),Ye=!We&&Cl(F),ve=!We&&!Ye&&df(F);G=F,We||Ye||ve?ua(j)?G=j:Da(j)?G=yc(j):Ye?($=!1,G=uy(F,!0)):ve?($=!1,G=vy(F,!0)):G=[]:Bf(F)||Bl(F)?(G=j,Bl(j)?G=o1(j):Ta(j)&&!Ol(j)||(G=Uy(F))):$=!1}$&&(O.set(F,G),Ph(G,F,p,v,O),O.delete(F)),Bd(a,x,G)}}else(j=v?v(Hb(a,x),O,x+"",a,c,_):T)===T&&(j=O),Bd(a,x,j)},_c)}function z0(a,c){var p=a.length;if(p)return _l(c+=0>c?p:0,p)?a[c]:T}function X0(a,c,p){c=c.length?h(c,function(_){return ua(_)?function(O){return yl(O,_.length===1?_[0]:_)}:_}):[kc];var v=-1;return c=h(c,V(ea())),function(_,O){var x=_.length;for(_.sort(O);x--;)_[x]=_[x].value;return _}(a=V0(a,function(_,O,x){return{criteria:h(c,function(j){return j(_)}),index:++v,value:_}}),function(_,O){t:{for(var x=-1,j=_.criteria,F=O.criteria,G=j.length,$=p.length;++x<G;){var We=yy(j[x],F[x]);if(We){if(x>=$){_=We;break t}_=We*(p[x]=="desc"?-1:1);break t}}_=_.index-O.index}return _})}function Y0(a,c,p){for(var v=-1,_=c.length,O={};++v<_;){var x=c[v],j=yl(a,x);p(j,x)&&Hl(O,Sl(x,a),j)}return O}function yg(a,c,p,v){var _=v?N:I,O=-1,x=c.length,j=a;for(a===c&&(c=yc(c)),p&&(j=h(a,V(p)));++O<x;){var F=0,G=c[O];for(G=p?p(G):G;-1<(F=_(j,G,F,v));)j!==a&&Xp.call(j,F,1),Xp.call(a,F,1)}return a}function $0(a,c){for(var p=a?c.length:0,v=p-1;p--;){var _=c[p];if(p==v||_!==O){var O=_;_l(_)?Xp.call(a,_,1):xg(a,_)}}return a}function wg(a,c){return a+Zp(y1()*(c-a+1))}function _g(a,c){var p="";if(!a||1>c||9007199254740991<c)return p;do c%2&&(p+=a),(c=Zp(c/2))&&(a+=a);while(c);return p}function fa(a,c){return y0(Fy(a,c,kc),a+"")}function S_(a){return M0(zl(a))}function T_(a,c){return Rp(a=zl(a),Ul(c,0,a.length))}function Hl(a,c,p,v){if(!Ta(a))return a;for(var _=-1,O=(c=Sl(c,a)).length,x=O-1,j=a;j!=null&&++_<O;){var F=ul(c[_]),G=p;if(F==="__proto__"||F==="constructor"||F==="prototype")break;if(_!=x){var $=j[F];(G=v?v($,F,j):T)===T&&(G=Ta($)?$:_l(c[_+1])?[]:{})}Ef(j,F,G),j=j[F]}return a}function N_(a){return Rp(zl(a))}function Rc(a,c,p){var v=-1,_=a.length;for(0>c&&(c=-c>_?0:_+c),0>(p=p>_?_:p)&&(p+=_),_=c>p?0:p-c>>>0,c>>>=0,p=Wa(_);++v<_;)p[v]=a[v+c];return p}function x_(a,c){var p;return xl(a,function(v,_,O){return!(p=c(v,_,O))}),!!p}function Mh(a,c,p){var v=0,_=a==null?v:a.length;if(typeof c=="number"&&c==c&&2147483647>=_){for(;v<_;){var O=v+_>>>1,x=a[O];x!==null&&!Tc(x)&&(p?x<=c:x<c)?v=O+1:_=O}return _}return Ag(a,c,kc,p)}function Ag(a,c,p,v){var _=0,O=a==null?0:a.length;if(O===0)return 0;for(var x=(c=p(c))!=c,j=c===null,F=Tc(c),G=c===T;_<O;){var $=Zp((_+O)/2),We=p(a[$]),Ye=We!==T,ve=We===null,_r=We==We,ia=Tc(We);(x?v||_r:G?_r&&(v||Ye):j?_r&&Ye&&(v||!ve):F?_r&&Ye&&!ve&&(v||!ia):!ve&&!ia&&(v?We<=c:We<c))?_=$+1:O=$}return rc(O,4294967294)}function Z0(a,c){for(var p=-1,v=a.length,_=0,O=[];++p<v;){var x=a[p],j=c?c(x):x;if(!p||!rl(j,F)){var F=j;O[_++]=x===0?0:x}}return O}function Q0(a){return typeof a=="number"?a:Tc(a)?Rh:+a}function Sc(a){if(typeof a=="string")return a;if(ua(a))return h(a,Sc)+"";if(Tc(a))return m1?m1.call(a):"";var c=a+"";return c=="0"&&1/a==-Ll?"-0":c}function Il(a,c,p){var v=-1,_=u,O=a.length,x=!0,j=[],F=j;if(p)x=!1,_=f;else if(200<=O){if(_=c?null:eO(a))return Ve(_);x=!1,_=_t,F=new Ml}else F=c?[]:j;t:for(;++v<O;){var G=a[v],$=c?c(G):G;if(G=p||G!==0?G:0,x&&$==$){for(var We=F.length;We--;)if(F[We]===$)continue t;c&&F.push($),j.push(G)}else _(F,$,p)||(F!==j&&F.push($),j.push(G))}return j}function xg(a,c){return(a=2>(c=Sl(c,a)).length?a:yl(a,Rc(c,0,-1)))==null||delete a[ul(Fc(c))]}function Uh(a,c,p,v){for(var _=a.length,O=v?_:-1;(v?O--:++O<_)&&c(a[O],O,a););return p?Rc(a,v?0:O,v?O+1:_):Rc(a,v?O+1:0,v?_:O)}function _v(a,c){return a instanceof _n&&(a=a.value()),y(c,function(p,v){return v.func.apply(v.thisArg,g([p],v.args))},a)}function zg(a,c,p){var v=a.length;if(2>v)return v?Il(a[0]):[];for(var _=-1,O=Wa(v);++_<v;)for(var x=a[_],j=-1;++j<v;)j!=_&&(O[_]=_f(O[_]||x,a[j],c,p));return Il(_u(O,1),c,p)}function ty(a,c,p){for(var v=-1,_=a.length,O=c.length,x={};++v<_;)p(x,a[v],v<O?c[v]:T);return x}function rb(a){return Da(a)?a:[]}function ob(a){return typeof a=="function"?a:kc}function Sl(a,c){return ua(a)?a:Mb(a,c)?[a]:A1(ga(a))}function Tl(a,c,p){var v=a.length;return p=p===T?v:p,!c&&p>=v?a:Rc(a,c,p)}function uy(a,c){return c?a.slice():(c=a.length,c=p1?p1(c):new a.constructor(c),a.copy(c),c)}function cb(a){var c=new a.constructor(a.byteLength);return new Wp(c).set(new Wp(a)),c}function vy(a,c){return c=c?cb(a.buffer):a.buffer,new a.constructor(c,a.byteOffset,a.length)}function yy(a,c){if(a!==c){var p=a!==T,v=a===null,_=a==a,O=Tc(a),x=c!==T,j=c===null,F=c==c,G=Tc(c);if(!j&&!G&&!O&&a>c||O&&x&&F&&!j&&!G||v&&x&&F||!p&&F||!_)return 1;if(!v&&!O&&!G&&a<c||G&&p&&_&&!v&&!O||j&&p&&_||!x&&_||!F)return-1}return 0}function Ey(a,c,p,v){var _=-1,O=a.length,x=p.length,j=-1,F=c.length,G=Ja(O-x,0),$=Wa(F+G);for(v=!v;++j<F;)$[j]=c[j];for(;++_<x;)(v||_<O)&&($[p[_]]=a[_]);for(;G--;)$[j++]=a[_++];return $}function wy(a,c,p,v){var _=-1,O=a.length,x=-1,j=p.length,F=-1,G=c.length,$=Ja(O-j,0),We=Wa($+G);for(v=!v;++_<$;)We[_]=a[_];for($=_;++F<G;)We[$+F]=c[F];for(;++x<j;)(v||_<O)&&(We[$+p[x]]=a[_++]);return We}function yc(a,c){var p=-1,v=a.length;for(c||(c=Wa(v));++p<v;)c[p]=a[p];return c}function sl(a,c,p,v){var _=!p;p||(p={});for(var O=-1,x=c.length;++O<x;){var j=c[O],F=v?v(p[j],a[j],j,p,a):T;F===T&&(F=a[j]),_?vl(p,j,F):Ef(p,j,F)}return p}function Kh(a,c){return function(p,v){var _=ua(p)?r:k_,O=c?c():{};return _(p,a,ea(v,2),O)}}function Vl(a){return fa(function(c,p){var v=-1,_=p.length,O=1<_?p[_-1]:T,x=2<_?p[2]:T;for(O=3<a.length&&typeof O=="function"?(_--,O):T,x&&bc(p[0],p[1],x)&&(O=3>_?T:O,_=1),c=Ea(c);++v<_;)(x=p[v])&&a(c,x,v,O);return c})}function _y(a,c){return function(p,v){if(p==null)return p;if(!wc(p))return a(p,v);for(var _=p.length,O=c?_:-1,x=Ea(p);(c?O--:++O<_)&&v(x[O],O,x)!==!1;);return p}}function Oy(a){return function(c,p,v){for(var _=-1,O=Ea(c),x=(v=v(c)).length;x--;){var j=v[a?x:++_];if(p(O[j],j,O)===!1)break}return c}}function Ry(a){return function(c){c=ga(c);var p=Gl.test(c)?Ze(c):T,v=p?p[0]:c.charAt(0);return c=p?Tl(p,1).join(""):c.slice(1),v[a]()+c}}function Wl(a){return function(c){return y(u1(s1(c).replace(u_,"")),a,"")}}function Lf(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var p=cf(a.prototype);return Ta(c=a.apply(p,c))?c:p}}function Ay(a){return function(c,p,v){var _=Ea(c);if(!wc(c)){var O=ea(p,3);c=Xa(c),p=function(x){return O(_[x],x,_)}}return-1<(p=a(c,p,v))?_[O?c[p]:p]:T}}function Iy(a){return wl(function(c){var p=c.length,v=p,_=na.prototype.thru;for(a&&c.reverse();v--;){var O=c[v];if(typeof O!="function")throw new zc("Expected a function");if(_&&!x&&_p(O)=="wrapper")var x=new na([],!0)}for(v=x?v:p;++v<p;){var j=(_=_p(O=c[v]))=="wrapper"?b0(O):T;x=j&&Bb(j[0])&&j[1]==424&&!j[4].length&&j[9]==1?x[_p(j[0])].apply(x,j[3]):O.length==1&&Bb(O)?x[_]():x.thru(O)}return function(){var F=arguments,G=F[0];if(x&&F.length==1&&ua(G))return x.plant(G).value();var $=0;for(F=p?c[$].apply(this,F):G;++$<p;)F=c[$].call(this,F);return F}})}function Vh(a,c,p,v,_,O,x,j,F,G){var $=128&c,We=1&c,Ye=2&c,ve=24&c,_r=512&c,ia=Ye?T:Lf(a);return function la(){for(var Na=arguments.length,_i=Wa(Na),ba=Na;ba--;)_i[ba]=arguments[ba];if(ve){var La,za=Jl(la);for(ba=_i.length,La=0;ba--;)_i[ba]===za&&++La}if(v&&(_i=Ey(_i,v,_,ve)),O&&(_i=wy(_i,O,x,ve)),Na-=La,ve&&Na<G)return za=aa(_i,za),Ny(a,c,Vh,la.placeholder,p,_i,za,j,F,G-Na);if(za=We?p:this,ba=Ye?za[a]:a,Na=_i.length,j){La=_i.length;for(var xc=rc(j.length,La),_d=yc(_i);xc--;){var bf=j[xc];_i[xc]=_l(bf,La)?_d[bf]:T}}else _r&&1<Na&&_i.reverse();return $&&F<Na&&(_i.length=F),this&&this!==_s&&this instanceof la&&(ba=ia||Lf(ba)),ba.apply(za,_i)}}function Sy(a,c){return function(p,v){return function(_,O,x,j){return ol(_,function(F,G,$){O(j,x(F),G,$)}),j}(p,a,c(v),{})}}function Wh(a,c){return function(p,v){var _;if(p===T&&v===T)return c;if(p!==T&&(_=p),v!==T){if(_===T)return v;typeof p=="string"||typeof v=="string"?(p=Sc(p),v=Sc(v)):(p=Q0(p),v=Q0(v)),_=a(p,v)}return _}}function hb(a){return wl(function(c){return c=h(c,V(ea())),fa(function(p){var v=this;return a(c,function(_){return n(_,v,p)})})})}function Jh(a,c){var p=(c=c===T?" ":Sc(c)).length;return 2>p?p?_g(c,a):c:(p=_g(c,$p(a/da(c))),Gl.test(c)?Tl(Ze(p),0,a).join(""):p.slice(0,a))}function Ty(a){return function(c,p,v){v&&typeof v!="number"&&bc(c,p,v)&&(p=v=T),c=Rl(c),p===T?(p=c,c=0):p=Rl(p),v=v===T?c<p?1:-1:Rl(v);var _=-1;p=Ja($p((p-c)/(v||1)),0);for(var O=Wa(p);p--;)O[a?p:++_]=c,c+=v;return O}}function Qh(a){return function(c,p){return typeof c=="string"&&typeof p=="string"||(c=Gc(c),p=Gc(p)),a(c,p)}}function Ny(a,c,p,v,_,O,x,j,F,G){var $=8&c;return 4&(c=(c|($?32:64))&~($?64:32))||(c&=-4),_=[a,c,_,$?O:T,$?x:T,O=$?T:O,x=$?T:x,j,F,G],p=p.apply(T,_),Bb(a)&&R1(p,_),p.placeholder=v,By(p,a,c)}function bb(a){var c=Xl[a];return function(p,v){return p=Gc(p),(v=v==null?0:rc(ca(v),292))&&v1(p)?(p=(ga(p)+"e").split("e"),+((p=(ga(p=c(p[0]+"e"+(+p[1]+v)))+"e").split("e"))[0]+"e"+(+p[1]-v))):c(p)}}function xy(a){return function(c){var p=oc(c);return p=="[object Map]"?Q(c):p=="[object Set]"?function(v){var _=-1,O=Array(v.size);return v.forEach(function(x){O[++_]=[x,x]}),O}(c):function(v,_){return h(_,function(O){return[O,v[O]]})}(c,a(c))}}function El(a,c,p,v,_,O,x,j){var F=2&c;if(!F&&typeof a!="function")throw new zc("Expected a function");var G=v?v.length:0;if(G||(c&=-97,v=_=T),x=x===T?x:Ja(ca(x),0),j=j===T?j:ca(j),G-=_?_.length:0,64&c){var $=v,We=_;v=_=T}var Ye=F?T:b0(a);return O=[a,c,p,v,_,$,We,O,x,j],Ye&&(c=(p=O[1])|(a=Ye[1]),v=a==128&&p==8||a==128&&p==256&&O[7].length<=Ye[8]||a==384&&Ye[7].length<=Ye[8]&&p==8,131>c||v)&&(1&a&&(O[2]=Ye[2],c|=1&p?0:4),(p=Ye[3])&&(v=O[3],O[3]=v?Ey(v,p,Ye[4]):p,O[4]=v?aa(O[3],"__lodash_placeholder__"):Ye[4]),(p=Ye[5])&&(v=O[5],O[5]=v?wy(v,p,Ye[6]):p,O[6]=v?aa(O[5],"__lodash_placeholder__"):Ye[6]),(p=Ye[7])&&(O[7]=p),128&a&&(O[8]=O[8]==null?Ye[8]:rc(O[8],Ye[8])),O[9]==null&&(O[9]=Ye[9]),O[0]=Ye[0],O[1]=c),a=O[0],c=O[1],p=O[2],v=O[3],_=O[4],!(j=O[9]=O[9]===T?F?0:a.length:Ja(O[9]-G,0))&&24&c&&(c&=-25),F=c&&c!=1?c==8||c==16?function(ve,_r,ia){var la=Lf(ve);return function Na(){for(var _i=arguments.length,ba=Wa(_i),La=_i,za=Jl(Na);La--;)ba[La]=arguments[La];return(_i-=(La=3>_i&&ba[0]!==za&&ba[_i-1]!==za?[]:aa(ba,za)).length)<ia?Ny(ve,_r,Vh,Na.placeholder,T,ba,La,T,T,ia-_i):n(this&&this!==_s&&this instanceof Na?la:ve,this,ba)}}(a,c,j):c!=32&&c!=33||_.length?Vh.apply(T,O):function(ve,_r,ia,la){var Na=1&_r,_i=Lf(ve);return function ba(){for(var La=-1,za=arguments.length,xc=-1,_d=la.length,bf=Wa(_d+za),m2=this&&this!==_s&&this instanceof ba?_i:ve;++xc<_d;)bf[xc]=la[xc];for(;za--;)bf[xc++]=arguments[++La];return n(m2,Na?ia:this,bf)}}(a,c,p,v):function(ve,_r,ia){var la=1&_r,Na=Lf(ve);return function _i(){return(this&&this!==_s&&this instanceof _i?Na:ve).apply(la?ia:this,arguments)}}(a,c,p),By((Ye?_1:R1)(F,O),a,c)}function Cy(a,c,p,v){return a===T||rl(a,Yl[p])&&!va.call(v,p)?c:a}function Ly(a,c,p,v,_,O){return Ta(a)&&Ta(c)&&(O.set(c,a),Ph(a,c,T,Ly,O),O.delete(c)),a}function C_(a){return Bf(a)?T:a}function Py(a,c,p,v,_,O){var x=1&p,j=a.length,F=c.length;if(j!=F&&!(x&&F>j))return!1;F=O.get(a);var G=O.get(c);if(F&&G)return F==c&&G==a;F=-1,G=!0;var $=2&p?new Ml:T;for(O.set(a,c),O.set(c,a);++F<j;){var We=a[F],Ye=c[F];if(v)var ve=x?v(Ye,We,F,c,a,O):v(We,Ye,F,a,c,O);if(ve!==T){if(ve)continue;G=!1;break}if($){if(!R(c,function(_r,ia){if(!$.has(ia)&&(We===_r||_(We,_r,p,v,O)))return $.push(ia)})){G=!1;break}}else if(We!==Ye&&!_(We,Ye,p,v,O)){G=!1;break}}return O.delete(a),O.delete(c),G}function wl(a){return y0(Fy(a,T,Wy),a+"")}function _b(a){return B0(a,Xa,v0)}function Ib(a){return B0(a,_c,k1)}function _p(a){for(var c=a.name+"",p=af[c],v=va.call(af,c)?p.length:0;v--;){var _=p[v],O=_.func;if(O==null||O==a)return _.name}return c}function Jl(a){return(va.call(w,"placeholder")?w:a).placeholder}function ea(){var a=w.iteratee||i0;return a=a===i0?H0:a,arguments.length?a(arguments[0],arguments[1]):a}function Op(a,c){a=a.__data__;var p=Ka(c);return(p=="string"||p=="number"||p=="symbol"||p=="boolean"?c!=="__proto__":c===null)?a[typeof c=="string"?"string":"hash"]:a.map}function Cb(a){for(var c=Xa(a),p=c.length;p--;){var v=c[p],_=a[v];c[p]=[v,_,_==_&&!Ta(_)]}return c}function Dl(a,c){return K0(a=a==null?T:a[c])?a:T}function My(a,c,p){for(var v=-1,_=(c=Sl(c,a)).length,O=!1;++v<_;){var x=ul(c[v]);if(!(O=a!=null&&p(a,x)))break;a=a[x]}return O||++v!=_?O:!!(_=a==null?0:a.length)&&Lp(_)&&_l(x,_)&&(ua(a)||Bl(a))}function Uy(a){return typeof a.constructor!="function"||Ff(a)?{}:cf(Jp(a))}function L_(a){return ua(a)||Bl(a)||!!(b1&&a&&a[b1])}function _l(a,c){var p=Ka(a);return!!(c=c==null?9007199254740991:c)&&(p=="number"||p!="symbol"&&i_.test(a))&&-1<a&&a%1==0&&a<c}function bc(a,c,p){if(!Ta(p))return!1;var v=Ka(c);return!!(v=="number"?wc(p)&&_l(c,p.length):v=="string"&&c in p)&&rl(p[c],a)}function Mb(a,c){if(ua(a))return!1;var p=Ka(a);return!(p!="number"&&p!="symbol"&&p!="boolean"&&a!=null&&!Tc(a))||V1.test(a)||!H1.test(a)||c!=null&&a in Ea(c)}function Bb(a){var c=_p(a),p=w[c];return typeof p=="function"&&c in _n.prototype&&(a===p||!!(c=b0(p))&&a===c[0])}function Ff(a){var c=a&&a.constructor;return a===(typeof c=="function"&&c.prototype||Yl)}function Dy(a,c){return function(p){return p!=null&&p[a]===c&&(c!==T||a in Ea(p))}}function Fy(a,c,p){return c=Ja(c===T?a.length-1:c,0),function(){for(var v=arguments,_=-1,O=Ja(v.length-c,0),x=Wa(O);++_<O;)x[_]=v[c+_];for(_=-1,O=Wa(c+1);++_<c;)O[_]=v[_];return O[c]=p(x),n(a,this,O)}}function Hb(a,c){if((c!=="constructor"||typeof a[c]!="function")&&c!="__proto__")return a[c]}function By(a,c,p){var v=c+"";c=y0;var _=P_,O=(O=v.match(Y1))?O[1].split($1):[];return p=_(O,p),(_=p.length)&&(p[O=_-1]=(1<_?"& ":"")+p[O],p=p.join(2<_?", ":" "),v=v.replace(X1,`{
/* [wrapped with `+p+`] */
`)),c(a,v)}function Gy(a){var c=0,p=0;return function(){var v=W_(),_=16-(v-p);if(p=v,0<_){if(800<=++c)return arguments[0]}else c=0;return a.apply(T,arguments)}}function Rp(a,c){var p=-1,v=a.length,_=v-1;for(c=c===T?v:c;++p<c;){var O=a[v=wg(p,_)];a[v]=a[p],a[p]=O}return a.length=c,a}function ul(a){if(typeof a=="string"||Tc(a))return a;var c=a+"";return c=="0"&&1/a==-Ll?"-0":c}function ql(a){if(a!=null){try{return Kp.call(a)}catch{}return a+""}return""}function P_(a,c){return o(M1,function(p){var v="_."+p[0];c&p[1]&&!u(a,v)&&a.push(v)}),a.sort()}function Ky(a){if(a instanceof _n)return a.clone();var c=new na(a.__wrapped__,a.__chain__);return c.__actions__=yc(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function Hy(a,c,p){var v=a==null?0:a.length;return v?(0>(p=p==null?0:ca(p))&&(p=Ja(v+p,0)),k(a,ea(c,3),p)):-1}function Vy(a,c,p){var v=a==null?0:a.length;if(!v)return-1;var _=v-1;return p!==T&&(_=ca(p),_=0>p?Ja(v+_,0):rc(_,v-1)),k(a,ea(c,3),_,!0)}function Wy(a){return a!=null&&a.length?_u(a,1):[]}function Jy(a){return a&&a.length?a[0]:T}function Fc(a){var c=a==null?0:a.length;return c?a[c-1]:T}function zy(a,c){return a&&a.length&&c&&c.length?yg(a,c):a}function Vb(a){return a==null?a:z_.call(a)}function t0(a){if(!a||!a.length)return[];var c=0;return a=l(a,function(p){if(Da(p))return c=Ja(p.length,c),!0}),_a(c,function(p){return h(a,te(p))})}function Xy(a,c){return a&&a.length?(a=t0(a),c==null?a:h(a,function(p){return n(c,T,p)})):[]}function Yy(a){return(a=w(a)).__chain__=!0,a}function Ip(a,c){return c(a)}function $y(a,c){return(ua(a)?o:xl)(a,ea(c,3))}function Zy(a,c){return(ua(a)?i:E1)(a,ea(c,3))}function Sp(a,c){return(ua(a)?h:V0)(a,ea(c,3))}function Qy(a,c,p){return c=p?T:c,c=a&&c==null?a.length:c,El(a,128,T,T,T,T,c)}function _m(a,c){var p;if(typeof c!="function")throw new zc("Expected a function");return a=ca(a),function(){return 0<--a&&(p=c.apply(this,arguments)),1>=a&&(c=T),p}}function _E(a,c,p){function v(_i){var ba=F,La=G;return F=G=T,ve=_i,$=a.apply(La,ba)}function _(_i){var ba=_i-Ye;return _i-=ve,Ye===T||ba>=c||0>ba||ia&&_i>=Na}function O(){var _i=hd();if(_(_i))return x(_i);var ba=Oh,La=_i-ve;_i=c-(_i-Ye),La=ia?rc(_i,Na-La):_i,We=ba(O,La)}function x(_i){return We=T,la&&F?v(_i):(F=G=T,$)}function j(){var _i=hd(),ba=_(_i);if(F=arguments,G=this,Ye=_i,ba){if(We===T)return ve=_i=Ye,We=Oh(O,c),_r?v(_i):$;if(ia)return O1(We),We=Oh(O,c),v(Ye)}return We===T&&(We=Oh(O,c)),$}var F,G,$,We,Ye,ve=0,_r=!1,ia=!1,la=!0;if(typeof a!="function")throw new zc("Expected a function");if(c=Gc(c)||0,Ta(p)){_r=!!p.leading;var Na=(ia="maxWait"in p)?Ja(Gc(p.maxWait)||0,c):Na;la="trailing"in p?!!p.trailing:la}return j.cancel=function(){We!==T&&O1(We),ve=0,F=Ye=G=We=T},j.flush=function(){return We===T?$:x(hd())},j}function Tp(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new zc("Expected a function");var p=function v(){var _=arguments,O=c?c.apply(this,_):_[0],x=v.cache;return x.has(O)?x.get(O):(_=a.apply(this,_),v.cache=x.set(O,_)||x,_)};return p.cache=new(Tp.Cache||pl),p}function Np(a){if(typeof a!="function")throw new zc("Expected a function");return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function rl(a,c){return a===c||a!=a&&c!=c}function wc(a){return a!=null&&Lp(a.length)&&!Ol(a)}function Da(a){return Pa(a)&&wc(a)}function e0(a){if(!Pa(a))return!1;var c=ic(a);return c=="[object Error]"||c=="[object DOMException]"||typeof a.message=="string"&&typeof a.name=="string"&&!Bf(a)}function Ol(a){return!!Ta(a)&&((a=ic(a))=="[object Function]"||a=="[object GeneratorFunction]"||a=="[object AsyncFunction]"||a=="[object Proxy]")}function t1(a){return typeof a=="number"&&a==ca(a)}function Lp(a){return typeof a=="number"&&-1<a&&a%1==0&&9007199254740991>=a}function Ta(a){var c=Ka(a);return a!=null&&(c=="object"||c=="function")}function Pa(a){return a!=null&&Ka(a)=="object"}function e1(a){return typeof a=="number"||Pa(a)&&ic(a)=="[object Number]"}function Bf(a){return!(!Pa(a)||ic(a)!="[object Object]")&&((a=Jp(a))===null||typeof(a=va.call(a,"constructor")&&a.constructor)=="function"&&a instanceof a&&Kp.call(a)==U_)}function Pp(a){return typeof a=="string"||!ua(a)&&Pa(a)&&ic(a)=="[object String]"}function Tc(a){return Ka(a)=="symbol"||Pa(a)&&ic(a)=="[object Symbol]"}function n1(a){if(!a)return[];if(wc(a))return Pp(a)?Ze(a):yc(a);if(Gf&&a[Gf]){a=a[Gf]();for(var c,p=[];!(c=a.next()).done;)p.push(c.value);return p}return((c=oc(a))=="[object Map]"?Q:c=="[object Set]"?Ve:zl)(a)}function Rl(a){return a?(a=Gc(a))===Ll||a===-Ll?17976931348623157e292*(0>a?-1:1):a==a?a:0:a===0?a:0}function ca(a){var c=(a=Rl(a))%1;return a==a?c?a-c:a:0}function r1(a){return a?Ul(ca(a),0,4294967295):0}function Gc(a){if(typeof a=="number")return a;if(Tc(a))return Rh;if(Ta(a)&&(a=Ta(a=typeof a.valueOf=="function"?a.valueOf():a)?a+"":a),typeof a!="string")return a===0?a:+a;a=q(a);var c=n_.test(a);return c||o_.test(a)?b_(a.slice(2),c?2:8):e_.test(a)?Rh:+a}function o1(a){return sl(a,_c(a))}function ga(a){return a==null?"":Sc(a)}function n0(a,c,p){return(a=a==null?T:yl(a,c))===T?p:a}function r0(a,c){return a!=null&&My(a,c,I_)}function Xa(a){return wc(a)?j0(a):ug(a)}function _c(a){if(wc(a))a=j0(a,!0);else if(Ta(a)){var c=Ff(a),p=[];for(v in a)(v!="constructor"||!c&&va.call(a,v))&&p.push(v);a=p}else{var v=[];if(a!=null)for(c in Ea(a))v.push(c);a=v}return a}function i1(a,c){if(a==null)return{};var p=h(Ib(a),function(v){return[v]});return c=ea(c),Y0(a,p,function(v,_){return c(v,_[0])})}function zl(a){return a==null?[]:z(a,Xa(a))}function a1(a){return _0(ga(a).toLowerCase())}function s1(a){return(a=ga(a))&&a.replace(a_,m_).replace(c_,"")}function u1(a,c,p){return a=ga(a),(c=p?T:c)===T?f_.test(a)?a.match(l_)||[]:a.match(Z1)||[]:a.match(c)||[]}function o0(a){return function(){return a}}function kc(a){return a}function i0(a){return H0(typeof a=="function"?a:qc(a,1))}function a0(a,c,p){var v=Xa(c),_=Lh(c,v);p!=null||Ta(c)&&(_.length||!v.length)||(p=c,c=a,a=this,_=Lh(c,Xa(c)));var O=!(Ta(p)&&"chain"in p&&!p.chain),x=Ol(a);return o(_,function(j){var F=c[j];a[j]=F,x&&(a.prototype[j]=function(){var G=this.__chain__;if(O||G){var $=a(this.__wrapped__);return($.__actions__=yc(this.__actions__)).push({func:F,args:arguments,thisArg:a}),$.__chain__=G,$}return F.apply(a,g([this.value()],arguments))})}),a}function s0(){}function c1(a){return Mb(a)?te(ul(a)):function(c){return function(p){return yl(p,c)}}(a)}function u0(){return[]}function c0(){return!1}var l1,Wa=(Z=Z==null?_s:Kl.defaults(_s.Object(),Z,Kl.pick(_s,h_))).Array,Mp=Z.Date,l0=Z.Error,f1=Z.Function,Xl=Z.Math,Ea=Z.Object,f0=Z.RegExp,j_=Z.String,zc=Z.TypeError,Up=Wa.prototype,Yl=Ea.prototype,Gp=Z["__core-js_shared__"],Kp=f1.prototype.toString,va=Yl.hasOwnProperty,M_=0,h1=(l1=/[^.]+$/.exec(Gp&&Gp.keys&&Gp.keys.IE_PROTO||""))?"Symbol(src)_1."+l1:"",Hp=Yl.toString,U_=Kp.call(Ea),D_=_s._,q_=f0("^"+Kp.call(va).replace(kd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vp=S0?Z.Buffer:T,Nl=Z.Symbol,Wp=Z.Uint8Array,p1=Vp?Vp.allocUnsafe:T,Jp=ue(Ea.getPrototypeOf,Ea),d1=Ea.create,g1=Yl.propertyIsEnumerable,Xp=Up.splice,b1=Nl?Nl.isConcatSpreadable:T,Gf=Nl?Nl.iterator:T,Fl=Nl?Nl.toStringTag:T,Yp=function(){try{var a=Dl(Ea,"defineProperty");return a({},"",{}),a}catch{}}(),F_=Z.clearTimeout!==_s.clearTimeout&&Z.clearTimeout,B_=Mp&&Mp.now!==_s.Date.now&&Mp.now,G_=Z.setTimeout!==_s.setTimeout&&Z.setTimeout,$p=Xl.ceil,Zp=Xl.floor,h0=Ea.getOwnPropertySymbols,K_=Vp?Vp.isBuffer:T,v1=Z.isFinite,H_=Up.join,V_=ue(Ea.keys,Ea),Ja=Xl.max,rc=Xl.min,W_=Mp.now,J_=Z.parseInt,y1=Xl.random,z_=Up.reverse,p0=Dl(Z,"DataView"),Kf=Dl(Z,"Map"),d0=Dl(Z,"Promise"),Ql=Dl(Z,"Set"),Hf=Dl(Z,"WeakMap"),Jf=Dl(Ea,"create"),Qp=Hf&&new Hf,af={},X_=ql(p0),Y_=ql(Kf),$_=ql(d0),Z_=ql(Ql),Q_=ql(Hf),id=Nl?Nl.prototype:T,_h=id?id.valueOf:T,m1=id?id.toString:T,cf=function(){function a(){}return function(c){return Ta(c)?d1?d1(c):(a.prototype=c,c=new a,a.prototype=T,c):{}}}();w.templateSettings={escape:G1,evaluate:K1,interpolate:R0,variable:"",imports:{_:w}},w.prototype=_o.prototype,w.prototype.constructor=w,na.prototype=cf(_o.prototype),na.prototype.constructor=na,_n.prototype=cf(_o.prototype),_n.prototype.constructor=_n,qa.prototype.clear=function(){this.__data__=Jf?Jf(null):{},this.size=0},qa.prototype.delete=function(a){return a=this.has(a)&&delete this.__data__[a],this.size-=a?1:0,a},qa.prototype.get=function(a){var c=this.__data__;return Jf?(a=c[a])==="__lodash_hash_undefined__"?T:a:va.call(c,a)?c[a]:T},qa.prototype.has=function(a){var c=this.__data__;return Jf?c[a]!==T:va.call(c,a)},qa.prototype.set=function(a,c){var p=this.__data__;return this.size+=this.has(a)?0:1,p[a]=Jf&&c===T?"__lodash_hash_undefined__":c,this},tl.prototype.clear=function(){this.__data__=[],this.size=0},tl.prototype.delete=function(a){var c=this.__data__;return!(0>(a=Th(c,a)))&&(a==c.length-1?c.pop():Xp.call(c,a,1),--this.size,!0)},tl.prototype.get=function(a){var c=this.__data__;return 0>(a=Th(c,a))?T:c[a][1]},tl.prototype.has=function(a){return-1<Th(this.__data__,a)},tl.prototype.set=function(a,c){var p=this.__data__,v=Th(p,a);return 0>v?(++this.size,p.push([a,c])):p[v][1]=c,this},pl.prototype.clear=function(){this.size=0,this.__data__={hash:new qa,map:new(Kf||tl),string:new qa}},pl.prototype.delete=function(a){return a=Op(this,a).delete(a),this.size-=a?1:0,a},pl.prototype.get=function(a){return Op(this,a).get(a)},pl.prototype.has=function(a){return Op(this,a).has(a)},pl.prototype.set=function(a,c){var p=Op(this,a),v=p.size;return p.set(a,c),this.size+=p.size==v?0:1,this},Ml.prototype.add=Ml.prototype.push=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},Ml.prototype.has=function(a){return this.__data__.has(a)},nl.prototype.clear=function(){this.__data__=new tl,this.size=0},nl.prototype.delete=function(a){var c=this.__data__;return a=c.delete(a),this.size=c.size,a},nl.prototype.get=function(a){return this.__data__.get(a)},nl.prototype.has=function(a){return this.__data__.has(a)},nl.prototype.set=function(a,c){var p=this.__data__;if(p instanceof tl){var v=p.__data__;if(!Kf||199>v.length)return v.push([a,c]),this.size=++p.size,this;p=this.__data__=new pl(v)}return p.set(a,c),this.size=p.size,this};var xl=_y(ol),E1=_y(Wd,!0),g0=Oy(),w1=Oy(!0),_1=Qp?function(a,c){return Qp.set(a,c),a}:kc,tO=Yp?function(a,c){return Yp(a,"toString",{configurable:!0,enumerable:!1,value:o0(c),writable:!0})}:kc,O1=F_||function(a){return _s.clearTimeout(a)},eO=Ql&&1/Ve(new Ql([,-0]))[1]==Ll?function(a){return new Ql(a)}:s0,b0=Qp?function(a){return Qp.get(a)}:s0,v0=h0?function(a){return a==null?[]:(a=Ea(a),l(h0(a),function(c){return g1.call(a,c)}))}:u0,k1=h0?function(a){for(var c=[];a;)g(c,v0(a)),a=Jp(a);return c}:u0,oc=ic;(p0&&oc(new p0(new ArrayBuffer(1)))!="[object DataView]"||Kf&&oc(new Kf)!="[object Map]"||d0&&oc(d0.resolve())!="[object Promise]"||Ql&&oc(new Ql)!="[object Set]"||Hf&&oc(new Hf)!="[object WeakMap]")&&(oc=function(a){var c=ic(a);if(a=(a=c=="[object Object]"?a.constructor:T)?ql(a):"")switch(a){case X_:return"[object DataView]";case Y_:return"[object Map]";case $_:return"[object Promise]";case Z_:return"[object Set]";case Q_:return"[object WeakMap]"}return c});var nO=Gp?Ol:c0,R1=Gy(_1),Oh=G_||function(a,c){return _s.setTimeout(a,c)},y0=Gy(tO),A1=function(a){var c=(a=Tp(a,function(p){return c.size===500&&c.clear(),p})).cache;return a}(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(W1,function(p,v,_,O){c.push(_?O.replace(_w,"$1"):v||p)}),c}),rO=fa(function(a,c){return Da(a)?_f(a,_u(c,1,Da,!0)):[]}),oO=fa(function(a,c){var p=Fc(c);return Da(p)&&(p=T),Da(a)?_f(a,_u(c,1,Da,!0),ea(p,2)):[]}),iO=fa(function(a,c){var p=Fc(c);return Da(p)&&(p=T),Da(a)?_f(a,_u(c,1,Da,!0),T,p):[]}),aO=fa(function(a){var c=h(a,rb);return c.length&&c[0]===a[0]?Yd(c):[]}),sO=fa(function(a){var c=Fc(a),p=h(a,rb);return c===Fc(p)?c=T:p.pop(),p.length&&p[0]===a[0]?Yd(p,ea(c,2)):[]}),uO=fa(function(a){var c=Fc(a),p=h(a,rb);return(c=typeof c=="function"?c:T)&&p.pop(),p.length&&p[0]===a[0]?Yd(p,T,c):[]}),cO=fa(zy),lO=wl(function(a,c){var p=a==null?0:a.length,v=Gd(a,c);return $0(a,h(c,function(_){return _l(_,p)?+_:_}).sort(yy)),v}),fO=fa(function(a){return Il(_u(a,1,Da,!0))}),hO=fa(function(a){var c=Fc(a);return Da(c)&&(c=T),Il(_u(a,1,Da,!0),ea(c,2))}),pO=fa(function(a){var c=Fc(a);return c=typeof c=="function"?c:T,Il(_u(a,1,Da,!0),T,c)}),dO=fa(function(a,c){return Da(a)?_f(a,c):[]}),gO=fa(function(a){return zg(l(a,Da))}),bO=fa(function(a){var c=Fc(a);return Da(c)&&(c=T),zg(l(a,Da),ea(c,2))}),vO=fa(function(a){var c=Fc(a);return c=typeof c=="function"?c:T,zg(l(a,Da),T,c)}),yO=fa(t0),mO=fa(function(a){var c=a.length;return c=typeof(c=1<c?a[c-1]:T)=="function"?(a.pop(),c):T,Xy(a,c)}),EO=wl(function(a){var c=a.length,p=c?a[0]:0,v=this.__wrapped__,_=function(O){return Gd(O,a)};return!(1<c||this.__actions__.length)&&v instanceof _n&&_l(p)?((v=v.slice(p,+p+(c?1:0))).__actions__.push({func:Ip,args:[_],thisArg:T}),new na(v,this.__chain__).thru(function(O){return c&&!O.length&&O.push(T),O})):this.thru(_)}),wO=Kh(function(a,c,p){va.call(a,p)?++a[p]:vl(a,p,1)}),_O=Ay(Hy),OO=Ay(Vy),kO=Kh(function(a,c,p){va.call(a,p)?a[p].push(c):vl(a,p,[c])}),RO=fa(function(a,c,p){var v=-1,_=typeof c=="function",O=wc(a)?Wa(a.length):[];return xl(a,function(x){O[++v]=_?n(c,x,p):If(x,c,p)}),O}),AO=Kh(function(a,c,p){vl(a,p,c)}),IO=Kh(function(a,c,p){a[p?0:1].push(c)},function(){return[[],[]]}),SO=fa(function(a,c){if(a==null)return[];var p=c.length;return 1<p&&bc(a,c[0],c[1])?c=[]:2<p&&bc(c[0],c[1],c[2])&&(c=[c[0]]),X0(a,_u(c,1),[])}),hd=B_||function(){return _s.Date.now()},m0=fa(function(a,c,p){var v=1;if(p.length){var _=aa(p,Jl(m0));v|=32}return El(a,v,c,p,_)}),I1=fa(function(a,c,p){var v=3;if(p.length){var _=aa(p,Jl(I1));v|=32}return El(c,v,a,p,_)}),TO=fa(function(a,c){return q0(a,1,c)}),NO=fa(function(a,c,p){return q0(a,Gc(c)||0,p)});Tp.Cache=pl;var xO=fa(function(a,c){var p=(c=c.length==1&&ua(c[0])?h(c[0],V(ea())):h(_u(c,1),V(ea()))).length;return fa(function(v){for(var _=-1,O=rc(v.length,p);++_<O;)v[_]=c[_].call(this,v[_]);return n(a,this,v)})}),E0=fa(function(a,c){var p=aa(c,Jl(E0));return El(a,32,T,c,p)}),S1=fa(function(a,c){var p=aa(c,Jl(S1));return El(a,64,T,c,p)}),CO=wl(function(a,c){return El(a,256,T,T,T,c)}),LO=Qh(Xd),PO=Qh(function(a,c){return a>=c}),Bl=G0(function(){return arguments}())?G0:function(a){return Pa(a)&&va.call(a,"callee")&&!g1.call(a,"callee")},ua=Wa.isArray,jO=T0?V(T0):function(a){return Pa(a)&&ic(a)=="[object ArrayBuffer]"},Cl=K_||c0,MO=N0?V(N0):function(a){return Pa(a)&&ic(a)=="[object Date]"},T1=x0?V(x0):function(a){return Pa(a)&&oc(a)=="[object Map]"},w0=C0?V(C0):function(a){return Pa(a)&&ic(a)=="[object RegExp]"},N1=L0?V(L0):function(a){return Pa(a)&&oc(a)=="[object Set]"},df=P0?V(P0):function(a){return Pa(a)&&Lp(a.length)&&!!ma[ic(a)]},UO=Qh(vg),DO=Qh(function(a,c){return a<=c}),qO=Vl(function(a,c){if(Ff(c)||wc(c))sl(c,Xa(c),a);else for(var p in c)va.call(c,p)&&Ef(a,p,c[p])}),x1=Vl(function(a,c){sl(c,_c(c),a)}),Ed=Vl(function(a,c,p,v){sl(c,_c(c),a,v)}),FO=Vl(function(a,c,p,v){sl(c,Xa(c),a,v)}),BO=wl(Gd),GO=fa(function(a,c){a=Ea(a);var p=-1,v=c.length,_=2<v?c[2]:T;for(_&&bc(c[0],c[1],_)&&(v=1);++p<v;)for(var O=_c(_=c[p]),x=-1,j=O.length;++x<j;){var F=O[x],G=a[F];(G===T||rl(G,Yl[F])&&!va.call(a,F))&&(a[F]=_[F])}return a}),KO=fa(function(a){return a.push(T,Ly),n(C1,T,a)}),HO=Sy(function(a,c,p){c!=null&&typeof c.toString!="function"&&(c=Hp.call(c)),a[c]=p},o0(kc)),VO=Sy(function(a,c,p){c!=null&&typeof c.toString!="function"&&(c=Hp.call(c)),va.call(a,c)?a[c].push(p):a[c]=[p]},ea),WO=fa(If),JO=Vl(function(a,c,p){Ph(a,c,p)}),C1=Vl(function(a,c,p,v){Ph(a,c,p,v)}),zO=wl(function(a,c){var p={};if(a==null)return p;var v=!1;c=h(c,function(O){return O=Sl(O,a),v||(v=1<O.length),O}),sl(a,Ib(a),p),v&&(p=qc(p,7,C_));for(var _=c.length;_--;)xg(p,c[_]);return p}),XO=wl(function(a,c){return a==null?{}:function(p,v){return Y0(p,v,function(_,O){return r0(p,O)})}(a,c)}),L1=xy(Xa),P1=xy(_c),YO=Wl(function(a,c,p){return c=c.toLowerCase(),a+(p?a1(c):c)}),$O=Wl(function(a,c,p){return a+(p?"-":"")+c.toLowerCase()}),ZO=Wl(function(a,c,p){return a+(p?" ":"")+c.toLowerCase()}),QO=Ry("toLowerCase"),_k=Wl(function(a,c,p){return a+(p?"_":"")+c.toLowerCase()}),t2=Wl(function(a,c,p){return a+(p?" ":"")+_0(c)}),e2=Wl(function(a,c,p){return a+(p?" ":"")+c.toUpperCase()}),_0=Ry("toUpperCase"),j1=fa(function(a,c){try{return n(a,T,c)}catch(p){return e0(p)?p:new l0(p)}}),n2=wl(function(a,c){return o(c,function(p){p=ul(p),vl(a,p,m0(a[p],a))}),a}),r2=Iy(),o2=Iy(!0),i2=fa(function(a,c){return function(p){return If(p,a,c)}}),a2=fa(function(a,c){return function(p){return If(a,p,c)}}),s2=hb(h),u2=hb(s),c2=hb(R),l2=Ty(),f2=Ty(!0),h2=Wh(function(a,c){return a+c},0),p2=bb("ceil"),d2=Wh(function(a,c){return a/c},1),g2=bb("floor"),b2=Wh(function(a,c){return a*c},1),v2=bb("round"),y2=Wh(function(a,c){return a-c},0);return w.after=function(a,c){if(typeof c!="function")throw new zc("Expected a function");return a=ca(a),function(){if(1>--a)return c.apply(this,arguments)}},w.ary=Qy,w.assign=qO,w.assignIn=x1,w.assignInWith=Ed,w.assignWith=FO,w.at=BO,w.before=_m,w.bind=m0,w.bindAll=n2,w.bindKey=I1,w.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return ua(a)?a:[a]},w.chain=Yy,w.chunk=function(a,c,p){if(c=(p?bc(a,c,p):c===T)?1:Ja(ca(c),0),!(p=a==null?0:a.length)||1>c)return[];for(var v=0,_=0,O=Wa($p(p/c));v<p;)O[_++]=Rc(a,v,v+=c);return O},w.compact=function(a){for(var c=-1,p=a==null?0:a.length,v=0,_=[];++c<p;){var O=a[c];O&&(_[v++]=O)}return _},w.concat=function(){var a=arguments.length;if(!a)return[];for(var c=Wa(a-1),p=arguments[0];a--;)c[a-1]=arguments[a];return g(ua(p)?yc(p):[p],_u(c,1))},w.cond=function(a){var c=a==null?0:a.length,p=ea();return a=c?h(a,function(v){if(typeof v[1]!="function")throw new zc("Expected a function");return[p(v[0]),v[1]]}):[],fa(function(v){for(var _=-1;++_<c;){var O=a[_];if(n(O[0],this,v))return n(O[1],this,v)}})},w.conforms=function(a){return function(c){var p=Xa(c);return function(v){return D0(v,c,p)}}(qc(a,1))},w.constant=o0,w.countBy=wO,w.create=function(a,c){return a=cf(a),c==null?a:U0(a,c)},w.curry=function a(c,p,v){return(c=El(c,8,T,T,T,T,T,p=v?T:p)).placeholder=a.placeholder,c},w.curryRight=function a(c,p,v){return(c=El(c,16,T,T,T,T,T,p=v?T:p)).placeholder=a.placeholder,c},w.debounce=_E,w.defaults=GO,w.defaultsDeep=KO,w.defer=TO,w.delay=NO,w.difference=rO,w.differenceBy=oO,w.differenceWith=iO,w.drop=function(a,c,p){var v=a==null?0:a.length;return v?Rc(a,0>(c=p||c===T?1:ca(c))?0:c,v):[]},w.dropRight=function(a,c,p){var v=a==null?0:a.length;return v?Rc(a,0,0>(c=v-(c=p||c===T?1:ca(c)))?0:c):[]},w.dropRightWhile=function(a,c){return a&&a.length?Uh(a,ea(c,3),!0,!0):[]},w.dropWhile=function(a,c){return a&&a.length?Uh(a,ea(c,3),!0):[]},w.fill=function(a,c,p,v){var _=a==null?0:a.length;if(!_)return[];for(p&&typeof p!="number"&&bc(a,c,p)&&(p=0,v=_),_=a.length,0>(p=ca(p))&&(p=-p>_?0:_+p),0>(v=v===T||v>_?_:ca(v))&&(v+=_),v=p>v?0:r1(v);p<v;)a[p++]=c;return a},w.filter=function(a,c){return(ua(a)?l:F0)(a,ea(c,3))},w.flatMap=function(a,c){return _u(Sp(a,c),1)},w.flatMapDeep=function(a,c){return _u(Sp(a,c),Ll)},w.flatMapDepth=function(a,c,p){return p=p===T?1:ca(p),_u(Sp(a,c),p)},w.flatten=Wy,w.flattenDeep=function(a){return a!=null&&a.length?_u(a,Ll):[]},w.flattenDepth=function(a,c){return a!=null&&a.length?_u(a,c=c===T?1:ca(c)):[]},w.flip=function(a){return El(a,512)},w.flow=r2,w.flowRight=o2,w.fromPairs=function(a){for(var c=-1,p=a==null?0:a.length,v={};++c<p;){var _=a[c];v[_[0]]=_[1]}return v},w.functions=function(a){return a==null?[]:Lh(a,Xa(a))},w.functionsIn=function(a){return a==null?[]:Lh(a,_c(a))},w.groupBy=kO,w.initial=function(a){return a!=null&&a.length?Rc(a,0,-1):[]},w.intersection=aO,w.intersectionBy=sO,w.intersectionWith=uO,w.invert=HO,w.invertBy=VO,w.invokeMap=RO,w.iteratee=i0,w.keyBy=AO,w.keys=Xa,w.keysIn=_c,w.map=Sp,w.mapKeys=function(a,c){var p={};return c=ea(c,3),ol(a,function(v,_,O){vl(p,c(v,_,O),v)}),p},w.mapValues=function(a,c){var p={};return c=ea(c,3),ol(a,function(v,_,O){vl(p,_,c(v,_,O))}),p},w.matches=function(a){return W0(qc(a,1))},w.matchesProperty=function(a,c){return J0(a,qc(c,1))},w.memoize=Tp,w.merge=JO,w.mergeWith=C1,w.method=i2,w.methodOf=a2,w.mixin=a0,w.negate=Np,w.nthArg=function(a){return a=ca(a),fa(function(c){return z0(c,a)})},w.omit=zO,w.omitBy=function(a,c){return i1(a,Np(ea(c)))},w.once=function(a){return _m(2,a)},w.orderBy=function(a,c,p,v){return a==null?[]:(ua(c)||(c=c==null?[]:[c]),ua(p=v?T:p)||(p=p==null?[]:[p]),X0(a,c,p))},w.over=s2,w.overArgs=xO,w.overEvery=u2,w.overSome=c2,w.partial=E0,w.partialRight=S1,w.partition=IO,w.pick=XO,w.pickBy=i1,w.property=c1,w.propertyOf=function(a){return function(c){return a==null?T:yl(a,c)}},w.pull=cO,w.pullAll=zy,w.pullAllBy=function(a,c,p){return a&&a.length&&c&&c.length?yg(a,c,ea(p,2)):a},w.pullAllWith=function(a,c,p){return a&&a.length&&c&&c.length?yg(a,c,T,p):a},w.pullAt=lO,w.range=l2,w.rangeRight=f2,w.rearg=CO,w.reject=function(a,c){return(ua(a)?l:F0)(a,Np(ea(c,3)))},w.remove=function(a,c){var p=[];if(!a||!a.length)return p;var v=-1,_=[],O=a.length;for(c=ea(c,3);++v<O;){var x=a[v];c(x,v,a)&&(p.push(x),_.push(v))}return $0(a,_),p},w.rest=function(a,c){if(typeof a!="function")throw new zc("Expected a function");return fa(a,c=c===T?c:ca(c))},w.reverse=Vb,w.sampleSize=function(a,c,p){return c=(p?bc(a,c,p):c===T)?1:ca(c),(ua(a)?__:T_)(a,c)},w.set=function(a,c,p){return a==null?a:Hl(a,c,p)},w.setWith=function(a,c,p,v){return v=typeof v=="function"?v:T,a==null?a:Hl(a,c,p,v)},w.shuffle=function(a){return(ua(a)?O_:N_)(a)},w.slice=function(a,c,p){var v=a==null?0:a.length;return v?(p&&typeof p!="number"&&bc(a,c,p)?(c=0,p=v):(c=c==null?0:ca(c),p=p===T?v:ca(p)),Rc(a,c,p)):[]},w.sortBy=SO,w.sortedUniq=function(a){return a&&a.length?Z0(a):[]},w.sortedUniqBy=function(a,c){return a&&a.length?Z0(a,ea(c,2)):[]},w.split=function(a,c,p){return p&&typeof p!="number"&&bc(a,c,p)&&(c=p=T),(p=p===T?4294967295:p>>>0)?(a=ga(a))&&(typeof c=="string"||c!=null&&!w0(c))&&!(c=Sc(c))&&Gl.test(a)?Tl(Ze(a),0,p):a.split(c,p):[]},w.spread=function(a,c){if(typeof a!="function")throw new zc("Expected a function");return c=c==null?0:Ja(ca(c),0),fa(function(p){var v=p[c];return p=Tl(p,0,c),v&&g(p,v),n(a,this,p)})},w.tail=function(a){var c=a==null?0:a.length;return c?Rc(a,1,c):[]},w.take=function(a,c,p){return a&&a.length?Rc(a,0,0>(c=p||c===T?1:ca(c))?0:c):[]},w.takeRight=function(a,c,p){var v=a==null?0:a.length;return v?Rc(a,0>(c=v-(c=p||c===T?1:ca(c)))?0:c,v):[]},w.takeRightWhile=function(a,c){return a&&a.length?Uh(a,ea(c,3),!1,!0):[]},w.takeWhile=function(a,c){return a&&a.length?Uh(a,ea(c,3)):[]},w.tap=function(a,c){return c(a),a},w.throttle=function(a,c,p){var v=!0,_=!0;if(typeof a!="function")throw new zc("Expected a function");return Ta(p)&&(v="leading"in p?!!p.leading:v,_="trailing"in p?!!p.trailing:_),_E(a,c,{leading:v,maxWait:c,trailing:_})},w.thru=Ip,w.toArray=n1,w.toPairs=L1,w.toPairsIn=P1,w.toPath=function(a){return ua(a)?h(a,ul):Tc(a)?[a]:yc(A1(ga(a)))},w.toPlainObject=o1,w.transform=function(a,c,p){var v=ua(a),_=v||Cl(a)||df(a);if(c=ea(c,4),p==null){var O=a&&a.constructor;p=_?v?new O:[]:Ta(a)&&Ol(O)?cf(Jp(a)):{}}return(_?o:ol)(a,function(x,j,F){return c(p,x,j,F)}),p},w.unary=function(a){return Qy(a,1)},w.union=fO,w.unionBy=hO,w.unionWith=pO,w.uniq=function(a){return a&&a.length?Il(a):[]},w.uniqBy=function(a,c){return a&&a.length?Il(a,ea(c,2)):[]},w.uniqWith=function(a,c){return c=typeof c=="function"?c:T,a&&a.length?Il(a,T,c):[]},w.unset=function(a,c){return a==null||xg(a,c)},w.unzip=t0,w.unzipWith=Xy,w.update=function(a,c,p){return a!=null&&(a=Hl(a,c,(p=ob(p))(yl(a,c)),void 0)),a},w.updateWith=function(a,c,p,v){return v=typeof v=="function"?v:T,a!=null&&(a=Hl(a,c,(p=ob(p))(yl(a,c)),v)),a},w.values=zl,w.valuesIn=function(a){return a==null?[]:z(a,_c(a))},w.without=dO,w.words=u1,w.wrap=function(a,c){return E0(ob(c),a)},w.xor=gO,w.xorBy=bO,w.xorWith=vO,w.zip=yO,w.zipObject=function(a,c){return ty(a||[],c||[],Ef)},w.zipObjectDeep=function(a,c){return ty(a||[],c||[],Hl)},w.zipWith=mO,w.entries=L1,w.entriesIn=P1,w.extend=x1,w.extendWith=Ed,a0(w,w),w.add=h2,w.attempt=j1,w.camelCase=YO,w.capitalize=a1,w.ceil=p2,w.clamp=function(a,c,p){return p===T&&(p=c,c=T),p!==T&&(p=(p=Gc(p))==p?p:0),c!==T&&(c=(c=Gc(c))==c?c:0),Ul(Gc(a),c,p)},w.clone=function(a){return qc(a,4)},w.cloneDeep=function(a){return qc(a,5)},w.cloneDeepWith=function(a,c){return qc(a,5,c=typeof c=="function"?c:T)},w.cloneWith=function(a,c){return qc(a,4,c=typeof c=="function"?c:T)},w.conformsTo=function(a,c){return c==null||D0(a,c,Xa(c))},w.deburr=s1,w.defaultTo=function(a,c){return a==null||a!=a?c:a},w.divide=d2,w.endsWith=function(a,c,p){a=ga(a),c=Sc(c);var v=a.length;return v=p=p===T?v:Ul(ca(p),0,v),0<=(p-=c.length)&&a.slice(p,v)==c},w.eq=rl,w.escape=function(a){return(a=ga(a))&&B1.test(a)?a.replace(k0,E_):a},w.escapeRegExp=function(a){return(a=ga(a))&&J1.test(a)?a.replace(kd,"\\$&"):a},w.every=function(a,c,p){var v=ua(a)?s:R_;return p&&bc(a,c,p)&&(c=T),v(a,ea(c,3))},w.find=_O,w.findIndex=Hy,w.findKey=function(a,c){return A(a,ea(c,3),ol)},w.findLast=OO,w.findLastIndex=Vy,w.findLastKey=function(a,c){return A(a,ea(c,3),Wd)},w.floor=g2,w.forEach=$y,w.forEachRight=Zy,w.forIn=function(a,c){return a==null?a:g0(a,ea(c,3),_c)},w.forInRight=function(a,c){return a==null?a:w1(a,ea(c,3),_c)},w.forOwn=function(a,c){return a&&ol(a,ea(c,3))},w.forOwnRight=function(a,c){return a&&Wd(a,ea(c,3))},w.get=n0,w.gt=LO,w.gte=PO,w.has=function(a,c){return a!=null&&My(a,c,A_)},w.hasIn=r0,w.head=Jy,w.identity=kc,w.includes=function(a,c,p,v){return a=wc(a)?a:zl(a),p=p&&!v?ca(p):0,v=a.length,0>p&&(p=Ja(v+p,0)),Pp(a)?p<=v&&-1<a.indexOf(c,p):!!v&&-1<I(a,c,p)},w.indexOf=function(a,c,p){var v=a==null?0:a.length;return v?(0>(p=p==null?0:ca(p))&&(p=Ja(v+p,0)),I(a,c,p)):-1},w.inRange=function(a,c,p){return c=Rl(c),p===T?(p=c,c=0):p=Rl(p),(a=Gc(a))>=rc(c,p)&&a<Ja(c,p)},w.invoke=WO,w.isArguments=Bl,w.isArray=ua,w.isArrayBuffer=jO,w.isArrayLike=wc,w.isArrayLikeObject=Da,w.isBoolean=function(a){return a===!0||a===!1||Pa(a)&&ic(a)=="[object Boolean]"},w.isBuffer=Cl,w.isDate=MO,w.isElement=function(a){return Pa(a)&&a.nodeType===1&&!Bf(a)},w.isEmpty=function(a){if(a==null)return!0;if(wc(a)&&(ua(a)||typeof a=="string"||typeof a.splice=="function"||Cl(a)||df(a)||Bl(a)))return!a.length;var c=oc(a);if(c=="[object Map]"||c=="[object Set]")return!a.size;if(Ff(a))return!ug(a).length;for(var p in a)if(va.call(a,p))return!1;return!0},w.isEqual=function(a,c){return Al(a,c)},w.isEqualWith=function(a,c,p){var v=(p=typeof p=="function"?p:T)?p(a,c):T;return v===T?Al(a,c,T,p):!!v},w.isError=e0,w.isFinite=function(a){return typeof a=="number"&&v1(a)},w.isFunction=Ol,w.isInteger=t1,w.isLength=Lp,w.isMap=T1,w.isMatch=function(a,c){return a===c||tg(a,c,Cb(c))},w.isMatchWith=function(a,c,p){return p=typeof p=="function"?p:T,tg(a,c,Cb(c),p)},w.isNaN=function(a){return e1(a)&&a!=+a},w.isNative=function(a){if(nO(a))throw new l0("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return K0(a)},w.isNil=function(a){return a==null},w.isNull=function(a){return a===null},w.isNumber=e1,w.isObject=Ta,w.isObjectLike=Pa,w.isPlainObject=Bf,w.isRegExp=w0,w.isSafeInteger=function(a){return t1(a)&&-9007199254740991<=a&&9007199254740991>=a},w.isSet=N1,w.isString=Pp,w.isSymbol=Tc,w.isTypedArray=df,w.isUndefined=function(a){return a===T},w.isWeakMap=function(a){return Pa(a)&&oc(a)=="[object WeakMap]"},w.isWeakSet=function(a){return Pa(a)&&ic(a)=="[object WeakSet]"},w.join=function(a,c){return a==null?"":H_.call(a,c)},w.kebabCase=$O,w.last=Fc,w.lastIndexOf=function(a,c,p){var v=a==null?0:a.length;if(!v)return-1;var _=v;if(p!==T&&(_=0>(_=ca(p))?Ja(v+_,0):rc(_,v-1)),c==c)t:{for(p=_+1;p--;)if(a[p]===c){a=p;break t}a=p}else a=k(a,C,_,!0);return a},w.lowerCase=ZO,w.lowerFirst=QO,w.lt=UO,w.lte=DO,w.max=function(a){return a&&a.length?Nh(a,kc,Xd):T},w.maxBy=function(a,c){return a&&a.length?Nh(a,ea(c,2),Xd):T},w.mean=function(a){return Y(a,kc)},w.meanBy=function(a,c){return Y(a,ea(c,2))},w.min=function(a){return a&&a.length?Nh(a,kc,vg):T},w.minBy=function(a,c){return a&&a.length?Nh(a,ea(c,2),vg):T},w.stubArray=u0,w.stubFalse=c0,w.stubObject=function(){return{}},w.stubString=function(){return""},w.stubTrue=function(){return!0},w.multiply=b2,w.nth=function(a,c){return a&&a.length?z0(a,ca(c)):T},w.noConflict=function(){return _s._===this&&(_s._=D_),this},w.noop=s0,w.now=hd,w.pad=function(a,c,p){a=ga(a);var v=(c=ca(c))?da(a):0;return!c||v>=c?a:Jh(Zp(c=(c-v)/2),p)+a+Jh($p(c),p)},w.padEnd=function(a,c,p){a=ga(a);var v=(c=ca(c))?da(a):0;return c&&v<c?a+Jh(c-v,p):a},w.padStart=function(a,c,p){a=ga(a);var v=(c=ca(c))?da(a):0;return c&&v<c?Jh(c-v,p)+a:a},w.parseInt=function(a,c,p){return p||c==null?c=0:c&&(c=+c),J_(ga(a).replace(Cd,""),c||0)},w.random=function(a,c,p){if(p&&typeof p!="boolean"&&bc(a,c,p)&&(c=p=T),p===T&&(typeof c=="boolean"?(p=c,c=T):typeof a=="boolean"&&(p=a,a=T)),a===T&&c===T?(a=0,c=1):(a=Rl(a),c===T?(c=a,a=0):c=Rl(c)),a>c){var v=a;a=c,c=v}return p||a%1||c%1?(p=y1(),rc(a+p*(c-a+g_("1e-"+((p+"").length-1))),c)):wg(a,c)},w.reduce=function(a,c,p){var v=ua(a)?y:_e,_=3>arguments.length;return v(a,ea(c,4),p,_,xl)},w.reduceRight=function(a,c,p){var v=ua(a)?m:_e,_=3>arguments.length;return v(a,ea(c,4),p,_,E1)},w.repeat=function(a,c,p){return c=(p?bc(a,c,p):c===T)?1:ca(c),_g(ga(a),c)},w.replace=function(){var a=arguments,c=ga(a[0]);return 3>a.length?c:c.replace(a[1],a[2])},w.result=function(a,c,p){var v=-1,_=(c=Sl(c,a)).length;for(_||(_=1,a=T);++v<_;){var O=a==null?T:a[ul(c[v])];O===T&&(v=_,O=p),a=Ol(O)?O.call(a):O}return a},w.round=v2,w.runInContext=B,w.sample=function(a){return(ua(a)?M0:S_)(a)},w.size=function(a){if(a==null)return 0;if(wc(a))return Pp(a)?da(a):a.length;var c=oc(a);return c=="[object Map]"||c=="[object Set]"?a.size:ug(a).length},w.snakeCase=_k,w.some=function(a,c,p){var v=ua(a)?R:x_;return p&&bc(a,c,p)&&(c=T),v(a,ea(c,3))},w.sortedIndex=function(a,c){return Mh(a,c)},w.sortedIndexBy=function(a,c,p){return Ag(a,c,ea(p,2))},w.sortedIndexOf=function(a,c){var p=a==null?0:a.length;if(p){var v=Mh(a,c);if(v<p&&rl(a[v],c))return v}return-1},w.sortedLastIndex=function(a,c){return Mh(a,c,!0)},w.sortedLastIndexBy=function(a,c,p){return Ag(a,c,ea(p,2),!0)},w.sortedLastIndexOf=function(a,c){if(a!=null&&a.length){var p=Mh(a,c,!0)-1;if(rl(a[p],c))return p}return-1},w.startCase=t2,w.startsWith=function(a,c,p){return a=ga(a),p=p==null?0:Ul(ca(p),0,a.length),c=Sc(c),a.slice(p,p+c.length)==c},w.subtract=y2,w.sum=function(a){return a&&a.length?$e(a,kc):0},w.sumBy=function(a,c){return a&&a.length?$e(a,ea(c,2)):0},w.template=function(a,c,p){var v=w.templateSettings;p&&bc(a,c,p)&&(c=T),a=ga(a),c=Ed({},c,v,Cy);var _,O,x=Xa(p=Ed({},c.imports,v.imports,Cy)),j=z(p,x),F=0;p=c.interpolate||Sh;var G="__p += '";p=f0((c.escape||Sh).source+"|"+p.source+"|"+(p===R0?t_:Sh).source+"|"+(c.evaluate||Sh).source+"|$","g");var $="//# sourceURL="+(va.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++p_+"]")+`
`;if(a.replace(p,function(We,Ye,ve,_r,ia,la){return ve||(ve=_r),G+=a.slice(F,la).replace(s_,J),Ye&&(_=!0,G+=`' +
__e(`+Ye+`) +
'`),ia&&(O=!0,G+=`';
`+ia+`;
__p += '`),ve&&(G+=`' +
((__t = (`+ve+`)) == null ? '' : __t) +
'`),F=la+We.length,We}),G+=`';
`,c=va.call(c,"variable")&&c.variable){if(Q1.test(c))throw new l0("Invalid `variable` option passed into `_.template`")}else G=`with (obj) {
`+G+`
}
`;if(G=(O?G.replace(U1,""):G).replace(D1,"$1").replace(q1,"$1;"),G="function("+(c||"obj")+`) {
`+(c?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(O?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+G+`return __p
}`,(c=j1(function(){return f1(x,$+"return "+G).apply(T,j)})).source=G,e0(c))throw c;return c},w.times=function(a,c){if(1>(a=ca(a))||9007199254740991<a)return[];var p=4294967295,v=rc(a,4294967295);for(a-=4294967295,v=_a(v,c=ea(c));++p<a;)c(p);return v},w.toFinite=Rl,w.toInteger=ca,w.toLength=r1,w.toLower=function(a){return ga(a).toLowerCase()},w.toNumber=Gc,w.toSafeInteger=function(a){return a?Ul(ca(a),-9007199254740991,9007199254740991):a===0?a:0},w.toString=ga,w.toUpper=function(a){return ga(a).toUpperCase()},w.trim=function(a,c,p){return(a=ga(a))&&(p||c===T)?q(a):a&&(c=Sc(c))?Tl(a=Ze(a),c=L(a,p=Ze(c)),p=D(a,p)+1).join(""):a},w.trimEnd=function(a,c,p){return(a=ga(a))&&(p||c===T)?a.slice(0,Sa(a)+1):a&&(c=Sc(c))?Tl(a=Ze(a),0,c=D(a,Ze(c))+1).join(""):a},w.trimStart=function(a,c,p){return(a=ga(a))&&(p||c===T)?a.replace(Cd,""):a&&(c=Sc(c))?Tl(a=Ze(a),c=L(a,Ze(c))).join(""):a},w.truncate=function(a,c){var p=30,v="...";if(Ta(c)){var _="separator"in c?c.separator:_;p="length"in c?ca(c.length):p,v="omission"in c?Sc(c.omission):v}if(c=(a=ga(a)).length,Gl.test(a)){var O=Ze(a);c=O.length}if(p>=c)return a;if(1>(c=p-da(v)))return v;if(p=O?Tl(O,0,c).join(""):a.slice(0,c),_===T)return p+v;if(O&&(c+=p.length-c),w0(_)){if(a.slice(c).search(_)){for(O=p,_.global||(_=f0(_.source,ga(A0.exec(_))+"g")),_.lastIndex=0;a=_.exec(O);)var x=a.index;p=p.slice(0,x===T?c:x)}}else a.indexOf(Sc(_),c)!=c&&-1<(_=p.lastIndexOf(_))&&(p=p.slice(0,_));return p+v},w.unescape=function(a){return(a=ga(a))&&F1.test(a)?a.replace(O0,w_):a},w.uniqueId=function(a){var c=++M_;return ga(a)+c},w.upperCase=e2,w.upperFirst=_0,w.each=$y,w.eachRight=Zy,w.first=Jy,a0(w,function(){var a={};return ol(w,function(c,p){va.call(w.prototype,p)||(a[p]=c)}),a}(),{chain:!1}),w.VERSION="4.17.21",o("bind bindKey curry curryRight partial partialRight".split(" "),function(a){w[a].placeholder=w}),o(["drop","take"],function(a,c){_n.prototype[a]=function(p){p=p===T?1:Ja(ca(p),0);var v=this.__filtered__&&!c?new _n(this):this.clone();return v.__filtered__?v.__takeCount__=rc(p,v.__takeCount__):v.__views__.push({size:rc(p,4294967295),type:a+(0>v.__dir__?"Right":"")}),v},_n.prototype[a+"Right"]=function(p){return this.reverse()[a](p).reverse()}}),o(["filter","map","takeWhile"],function(a,c){var p=c+1,v=p==1||p==3;_n.prototype[a]=function(_){var O=this.clone();return O.__iteratees__.push({iteratee:ea(_,3),type:p}),O.__filtered__=O.__filtered__||v,O}}),o(["head","last"],function(a,c){var p="take"+(c?"Right":"");_n.prototype[a]=function(){return this[p](1).value()[0]}}),o(["initial","tail"],function(a,c){var p="drop"+(c?"":"Right");_n.prototype[a]=function(){return this.__filtered__?new _n(this):this[p](1)}}),_n.prototype.compact=function(){return this.filter(kc)},_n.prototype.find=function(a){return this.filter(a).head()},_n.prototype.findLast=function(a){return this.reverse().find(a)},_n.prototype.invokeMap=fa(function(a,c){return typeof a=="function"?new _n(this):this.map(function(p){return If(p,a,c)})}),_n.prototype.reject=function(a){return this.filter(Np(ea(a)))},_n.prototype.slice=function(a,c){a=ca(a);var p=this;return p.__filtered__&&(0<a||0>c)?new _n(p):(0>a?p=p.takeRight(-a):a&&(p=p.drop(a)),c!==T&&(p=0>(c=ca(c))?p.dropRight(-c):p.take(c-a)),p)},_n.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},_n.prototype.toArray=function(){return this.take(4294967295)},ol(_n.prototype,function(a,c){var p=/^(?:filter|find|map|reject)|While$/.test(c),v=/^(?:head|last)$/.test(c),_=w[v?"take"+(c=="last"?"Right":""):c],O=v||/^find/.test(c);_&&(w.prototype[c]=function(){var x=this.__wrapped__,j=v?[1]:arguments,F=x instanceof _n,G=j[0],$=F||ua(x),We=function(_r){return _r=_.apply(w,g([_r],j)),v&&Ye?_r[0]:_r};$&&p&&typeof G=="function"&&G.length!=1&&(F=$=!1);var Ye=this.__chain__,ve=!!this.__actions__.length;return G=O&&!Ye,F=F&&!ve,!O&&$?(x=F?x:new _n(this),(x=a.apply(x,j)).__actions__.push({func:Ip,args:[We],thisArg:T}),new na(x,Ye)):G&&F?a.apply(this,j):(x=this.thru(We),G?v?x.value()[0]:x.value():x)})}),o("pop push shift sort splice unshift".split(" "),function(a){var c=Up[a],p=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",v=/^(?:pop|shift)$/.test(a);w.prototype[a]=function(){var _=arguments;if(v&&!this.__chain__){var O=this.value();return c.apply(ua(O)?O:[],_)}return this[p](function(x){return c.apply(ua(x)?x:[],_)})}}),ol(_n.prototype,function(a,c){if(a=w[c]){var p=a.name+"";va.call(af,p)||(af[p]=[]),af[p].push({name:c,func:a})}}),af[Vh(T,2).name]=[{name:"wrapper",func:T}],_n.prototype.clone=function(){var a=new _n(this.__wrapped__);return a.__actions__=yc(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=yc(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=yc(this.__views__),a},_n.prototype.reverse=function(){if(this.__filtered__){var a=new _n(this);a.__dir__=-1,a.__filtered__=!0}else(a=this.clone()).__dir__*=-1;return a},_n.prototype.value=function(){for(var a=this.__wrapped__.value(),c=this.__dir__,p=ua(a),v=0>c,_=p?a.length:0,O=0,x=_,j=this.__views__,F=-1,G=j.length;++F<G;){var $=j[F],We=$.size;switch($.type){case"drop":O+=We;break;case"dropRight":x-=We;break;case"take":x=rc(x,O+We);break;case"takeRight":O=Ja(O,x-We)}}if(x=(j=x)-O,O=v?j:O-1,F=(j=this.__iteratees__).length,G=0,$=rc(x,this.__takeCount__),!p||!v&&_==x&&$==x)return _v(a,this.__actions__);p=[];t:for(;x--&&G<$;){for(v=-1,_=a[O+=c];++v<F;){var Ye=j[v];if(We=Ye.iteratee,Ye=Ye.type,We=We(_),Ye==2)_=We;else if(!We){if(Ye==1)continue t;break t}}p[G++]=_}return p},w.prototype.at=EO,w.prototype.chain=function(){return Yy(this)},w.prototype.commit=function(){return new na(this.value(),this.__chain__)},w.prototype.next=function(){this.__values__===T&&(this.__values__=n1(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?T:this.__values__[this.__index__++]}},w.prototype.plant=function(a){for(var c,p=this;p instanceof _o;){var v=Ky(p);v.__index__=0,v.__values__=T,c?_.__wrapped__=v:c=v;var _=v;p=p.__wrapped__}return _.__wrapped__=a,c},w.prototype.reverse=function(){var a=this.__wrapped__;return a instanceof _n?(this.__actions__.length&&(a=new _n(this)),(a=a.reverse()).__actions__.push({func:Ip,args:[Vb],thisArg:T}),new na(a,this.__chain__)):this.thru(Vb)},w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=function(){return _v(this.__wrapped__,this.__actions__)},w.prototype.first=w.prototype.head,Gf&&(w.prototype[Gf]=function(){return this}),w}();Pl?((Pl.exports=Kl)._=Kl,Dd._=Kl):_s._=Kl}).call(pb)}),zs=function(){function e(t){var n,r,o,i,s;Za(this,e),E(this,"key",void 0),E(this,"value",void 0),E(this,"revision",void 0),E(this,"updateTs",void 0),E(this,"authorUserId",void 0),this.key=(n=t==null?void 0:t.key)!==null&&n!==void 0?n:"",this.value=(r=t==null?void 0:t.value)!==null&&r!==void 0?r:null,this.revision=(o=t==null?void 0:t.revision)!==null&&o!==void 0?o:-1,this.updateTs=(i=t==null?void 0:t.updateTs)!==null&&i!==void 0?i:0,this.authorUserId=(s=t==null?void 0:t.authorUserId)!==null&&s!==void 0?s:""}return Nb(e,[{key:"setKey",value:function(t){if(typeof t!="string"||t.search("_")!==-1)throw t.search("_")!==-1?new ka("Cannot set MetaDataItem key as ".concat(t)):new hc("Cannot set MetaDataItem key as ".concat(t));this.key=t,this.key=t}},{key:"getKey",value:function(){if(typeof this.key=="string")return this.key;throw new hc("Cannot get MetaDataItem key")}},{key:"setValue",value:function(t){if(typeof t!="string"&&!ui.isNull(null))throw new hc("Cannot set MetaDataItem value as ".concat(t));this.value=t}},{key:"getValue",value:function(){if(typeof this.value=="string"||ui.isNull(null))return this.value;throw new hc("Cannot get MetaDataItem value")}},{key:"setRevision",value:function(t){if(typeof t!="number"||t%1!=0)throw new hc("Cannot set MetaDataItem revision as ".concat(t));this.revision=t}},{key:"getRevision",value:function(){if(typeof this.revision=="number")return this.revision;throw new hc("Cannot get MetaDataItem revision")}},{key:"getUpdateTs",value:function(){return this.updateTs}},{key:"getAuthorUserId",value:function(){return this.authorUserId}}]),e}(),Ce;(function(e){e.STATE_REVISION_KEY_PREFIX="_rev_",e.STATE_TIMESTAMP_PREFIX="_t_",e.STATE_AUTHOR_PREFIX="_m_",e.STATE_REVISION="_rev",e.STATE_INTERNAL_PREFIX="_"})(Ce||(Ce={}));var tP=["group"],Iq=W.inflate,vA=W.deflate,wA=function(e){function t(o,i,s,l){Za(this,t);var u=r.call(this,l,"Session");return E(K(u),"lastNoticeTicket",""),E(K(u),"chatManager",void 0),E(K(u),"usedChannelIds",[]),E(K(u),"msgDedupLru",new oe(void 0,{maxlen:200})),E(K(u),"startTime",Date.now()),E(K(u),"seq",U.fromNumber(1,!0)),E(K(u),"userJoinOptions",new Cx(!1)),E(K(u),"seqSentStatuses",[!1,!1]),E(K(u),"dialogueSequenceLru",new oe(void 0,{maxlen:1e4})),E(K(u),"loggedOut",!1),E(K(u),"messageSentTimes",[]),E(K(u),"curLoginSockets",[void 0,void 0]),E(K(u),"loginSocketSubs",[{channels:new Map,receivers:[]},{channels:new Map,receivers:[]}]),E(K(u),"lastLoginSockets",[new Vg(1),new Vg(1)]),E(K(u),"dialPendingMsgSubjectMap",new Map),E(K(u),"context",void 0),E(K(u),"connection",void 0),E(K(u),"instanceId",void 0),E(K(u),"lastPingTime",void 0),E(K(u),"chanelStringMessageReport",void 0),E(K(u),"chanelRawMessageReport",void 0),E(K(u),"p2pSMsgNoOfflineReport",void 0),E(K(u),"p2pRMsgNoOfflineReport",void 0),E(K(u),"registerSocketsFailureListener",function(){u.connection.once("socketsFailure",function(){u.log("socketsFailure, creating a new connection"),gf(function(){return u.connection.removeAllListeners(),u.connection=new Ax(u.context,u.logger,!0),u.loginHandler(15e3,!0)}).pipe(Tg(function(f){return f.pipe(Tf(pg.getParameter("RECONNECTING_AP_INTERVAL")))}),be(u.connection.apClient.apFinish$)).subscribe(function(){u.log("new connection connected")})}),u.connection.listenerCount("tokenExpired")===0&&u.connection.on("tokenExpired",function(){u.emit("tokenExpired")})}),u.context=o,u.context.startTime=u.startTime,u.connection=i,u.instanceId=s,u.chatManager=new vL(l),u.lastPingTime=[0,0],u.setMaxListeners(512),u.log("The instanceId is %s",u.instanceId.toString()),u.chanelStringMessageReport=new fl(o,l,tb.ChannelSMsg),u.chanelRawMessageReport=new fl(o,l,tb.ChannelRMsg),u.p2pSMsgNoOfflineReport=new fl(o,l,tb.P2pSMsgNoOfflineFlag),u.p2pRMsgNoOfflineReport=new fl(o,l,tb.P2pRMsgNoOfflineFlag),u}mb(t,e);var n,r=nb(t);return Nb(t,[{key:"loginHandler",value:function(){var o=this,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:12e3,s=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(this.loggedOut&&s)throw new ja("Already logged out, request ignored");s&&this.registerSocketsFailureListener(),this.connection.initConnection();var l=this.getSocketLoginObservables(this.connection.lastOpenSockets,this.seq),u=Date.now();return l.forEach(function(f,h){var g=o.loginSocketSubs[h].login;g!==void 0&&g.unsubscribe(),o.loginSocketSubs[h].login=f.pipe(Ia(function(y){var m;o.curLoginSockets[h]=y;var R=Date.now();Qb("Link",{ackedServerIp:y.address,destServerIp:y.ip,ec:0,sc:0,elapse:Kb(o.startTime),lts:U.fromNumber(R),responseTime:R-u,sid:fc(o.instanceId),userId:o.context.uid},(m=o.context.config.enableCloudProxy)!==null&&m!==void 0&&m),o.emit("userJoined",y.env),s&&o.connection.apClient.apFinish$.next(void 0)})).subscribe(o.lastLoginSockets[h])}),this.initKeepAliveSender(),this.initKeepAliveReconnector(),this.initLoginReceiver(),Lc.apply(void 0,ra(l).concat([Bc(this.connection,"connectionInitFailure").pipe(Ia(function(f){throw Ra(f)||vc(f)?f:new wa("Login failure",{code:ww,originalError:f})}))])).pipe(Wb(1),Mc(i),Pb(function(f){return f instanceof Xc&&o.warn("Client login timeout"),f&&f.code===Zk&&(o.connection.emit("tokenExpired"),o.connection.apClient.apFinish$.next(void 0)),o.clearSockets(0,s),Ua(f)}),Ia(function(){s||o.registerSocketsFailureListener()}),Ij(function(){s||o.connection.apClient.apFinish$.next(void 0)}))}},{key:"logoutHandler",value:(n=Aa(X.mark(function o(){var i,s,l,u=this;return X.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),i=this.getLoginSockets(),s=i.map(function(h){return h.sendPacket("UserQuit",{}),u.connection.waitClosing(h)}),this.clearSockets(5e3),l=i.map(function(h){return h.env}),[0,1].filter(function(h){return!l.includes(h)}).forEach(function(h){u.connection.closeSocket(h,0)}),f.abrupt("return",Lc.apply(void 0,ra(s)).toPromise());case 9:case"end":return f.stop()}},o,this)})),function(){return n.apply(this,arguments)})},{key:"requestChannelJoin",value:function(){var o=Aa(X.mark(function i(s){var l,u,f,h=this;return X.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(this.getLoginSockets().length!==0){g.next=2;break}throw new ja("Client is not logged in. Cannot join the channel",sw);case 2:return l=Bc(this,"channelLeft").pipe(sc(function(y){return s===y}),Wb(1)),u=this.incGetSeq(),(f=this.lastLoginSockets.map(function(y){return y.pipe(Cc(function(m,R){R!==0&&h.incSeqIfNeeded(m.env);var A=R===0?u:h.seq;return m.sendPacket("GroupEnter",{account:s,seq:A}),m.fromReceived("GroupReply").pipe(Ma(function(k){return A.eq(k.seq)}),Ia(function(k){if((k=k.code)!==0)throw new wa(["Channel join failure. The response code is %d",k],ow)}))}),be(l),Ug())})).forEach(function(y,m){var R=function(){return h.loginSocketSubs[m].channels.delete(s)};h.loginSocketSubs[m].channels.set(s,y.subscribe({error:R,complete:R}))}),g.next=8,Lc.apply(void 0,ra(f)).pipe(Wb(1),Mc(1e4),Pb(function(y){return y instanceof Xc&&h.warn("Channel join timeout"),Ua(y)})).toPromise();case 8:case"end":return g.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"requestChannelLeave",value:function(o){this.getLoginSockets().forEach(function(i){i.sendPacket("GroupLeave",{account:o})})}},{key:"requestUpdateEdgeTicket",value:function(o){var i=this,s=this.getLoginSockets();if(s.length===0)throw new ja("Client is not logged in. Cannot renew token",Ew);var l=this.incGetSeq();return s.forEach(function(u){u.sendPacket("UserRenewTokenReq",{instance:i.instanceId,seq:l,account:i.context.uid,ticket:o})}),$a.apply(void 0,[t.genTimeoutError(dp)].concat(ra(s.map(function(u){return u.fromReceived("UserRenewTokenResp").pipe(Ma(function(f){var h=f.code;return l.eq(f.seq)&&h===0}))}))))}},{key:"requestGetChannelMetaData",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ja("Client is not logged in. Cannot get the channel metadata",Ud);var s=this.incGetSeq();return i.forEach(function(l){l.sendPacket("StateGet",{target:o,subTarget:"",lock:"",sequence:s,flags:new U(1,0,!0),lockRev:U.fromNumber(0)})}),$a.apply(void 0,[t.genTimeoutError(Ub)].concat(ra(i.map(function(l){return l.fromReceived("StateGetResult").pipe(Ma(function(u){return s.eq(u.sequence)}))}))))}},{key:"requestGetLocalMetaData",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ja("Client is not logged in. Cannot get the local metaData",Ud);var s=this.incGetSeq();return i.forEach(function(l){l.sendPacket("StateGet",{target:o,subTarget:"",lock:"",sequence:s,flags:U.fromNumber(0),lockRev:U.fromNumber(0)})}),$a.apply(void 0,[t.genTimeoutError(Ub)].concat(ra(i.map(function(l){return l.fromReceived("StateGetResult").pipe(Ma(function(u){return s.eq(u.sequence)}))}))))}},{key:"requestChannelMemberList",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ja("Client is not logged in. Cannot get the channel members",lI);var s=this.incGetSeq();return i.forEach(function(l){l.sendPacket("GroupAllUsersList",{group:o,pageNumber:0,pageSize:200,seq:s})}),$a.apply(void 0,[t.genTimeoutError(mw)].concat(ra(i.map(function(l){return l.fromReceived("GroupAllUsersResult").pipe(Ma(function(u){var f=u.seq;return u.group===o&&s.eq(f)}))}))))}},{key:"requestPeersOnlineStatus",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ja("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(l){l.sendPacket("UserStatusList",{users:o,seq:s})}),$a.apply(void 0,[t.genTimeoutError(vI)].concat(ra(i.map(function(l){return l.fromReceived("UserStatusResult").pipe(Ma(function(u){return s.eq(u.seq)}))}))))}},{key:"requestSetLocalUserAttributes",value:function(o,i){var s=this,l=this.getLoginSockets();if(l.length===0)throw new ja("Client is not logged in");var u=this.incGetSeq();return l.forEach(function(f,h){i!==void 0&&h!==i||f.sendPacket("UserAttributeSet",{account:s.context.uid,attributeInfos:Object.entries(o).map(function(g){return{key:(g=Ob(g,2))[0],value:g[1]}}),seq:u})}),$a.apply(void 0,ra(l.map(function(f){return f.fromReceived("UserAttributeErr").pipe(Ma(function(h){return u.eq(h.seq)}),jb(function(h){throw new wa(["The user attributes set failure, code %d",h.code],wd)}))})).concat([t.genTimeoutError(xd)],ra(l.map(function(f){return f.fromReceived("UserAttributeRsp").pipe(Ma(function(h){return u.eq(h.seq)}))}))))}},{key:"requestSetChannelAttributes",value:function(o,i,s){var l=this.getLoginSockets();if(l.length===0)throw new ja("Client is not logged in");var u=this.incGetSeq();return l.forEach(function(f){f.sendPacket("GroupAttributeSet",{broadcast:s,group:o,attributeInfos:Object.entries(i).map(function(h){return{key:(h=Ob(h,2))[0],value:h[1]}}),seq:u})}),$a.apply(void 0,ra(l.map(function(f){return f.fromReceived("GroupAttributeErr").pipe(Ma(function(h){return u.eq(h.seq)}),jb(function(h){throw new wa(["The group attributes set failure, code %d",h.code],wd)}))})).concat([t.genTimeoutError(xd)],ra(l.map(function(f){return f.fromReceived("GroupAttributeRsp").pipe(Ma(function(h){return u.eq(h.seq)}))}))))}},{key:"requestAddOrUpdateLocalUserAttributes",value:function(o){var i=this,s=this.getLoginSockets();if(s.length===0)throw new ja("Client is not logged in");var l=this.incGetSeq();return s.forEach(function(u){u.sendPacket("UserAttributeMod",{account:i.context.uid,attributeInfos:Object.entries(o).map(function(f){return{key:(f=Ob(f,2))[0],value:f[1]}}),seq:l})}),$a.apply(void 0,ra(s.map(function(u){return u.fromReceived("UserAttributeErr").pipe(Ma(function(f){return l.eq(f.seq)}),jb(function(f){throw new wa(["The user attributes add or update failure, code %d",f.code],wd)}))})).concat([t.genTimeoutError(xd)],ra(s.map(function(u){return u.fromReceived("UserAttributeRsp").pipe(Ma(function(f){return l.eq(f.seq)}))}))))}},{key:"requestAddOrUpdateChannelAttributes",value:function(o,i,s){var l=this.getLoginSockets();if(l.length===0)throw new ja("Client is not logged in");var u=this.incGetSeq();return l.forEach(function(f){f.sendPacket("GroupAttributeMod",{broadcast:s,group:o,attributeInfos:Object.entries(i).map(function(h){return{key:(h=Ob(h,2))[0],value:h[1]}}),seq:u})}),$a.apply(void 0,ra(l.map(function(f){return f.fromReceived("GroupAttributeErr").pipe(Ma(function(h){return u.eq(h.seq)}),jb(function(h){throw new wa(["The group attributes add or update failure, code %d",h.code],wd)}))})).concat([t.genTimeoutError(xd)],ra(l.map(function(f){return f.fromReceived("GroupAttributeRsp").pipe(Ma(function(h){return u.eq(h.seq)}))}))))}},{key:"requestDeleteLocalUserAttributesByKeys",value:function(o){var i=this,s=this.getLoginSockets();if(s.length===0)throw new ja("Client is not logged in");var l=this.incGetSeq();return s.forEach(function(u){u.sendPacket("UserAttributeDel",{account:i.context.uid,attributes:o,seq:l})}),$a.apply(void 0,ra(s.map(function(u){return u.fromReceived("UserAttributeErr").pipe(Ma(function(f){return l.eq(f.seq)}),jb(function(f){throw new wa(["The user attributes delete failure, code %d",f.code],wd)}))})).concat([t.genTimeoutError(xd)],ra(s.map(function(u){return u.fromReceived("UserAttributeRsp").pipe(Ma(function(f){return l.eq(f.seq)}))}))))}},{key:"requestDeleteChannelAttributesByKeys",value:function(o,i,s){var l=this.getLoginSockets();if(l.length===0)throw new ja("Client is not logged in");var u=this.incGetSeq();return l.forEach(function(f){f.sendPacket("GroupAttributeDel",{group:o,broadcast:s,attributes:i,seq:u})}),$a.apply(void 0,ra(l.map(function(f){return f.fromReceived("GroupAttributeErr").pipe(Ma(function(h){return u.eq(h.seq)}),jb(function(h){throw new wa(["The channel attributes delete failure, code %d",h.code],wd)}))})).concat([t.genTimeoutError(xd)],ra(l.map(function(f){return f.fromReceived("GroupAttributeRsp").pipe(Ma(function(h){return u.eq(h.seq)}))}))))}},{key:"requestClearLocalUserAttributes",value:function(){var o=this,i=this.getLoginSockets();if(i.length===0)throw new ja("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(l){l.sendPacket("UserAttributeSet",{account:o.context.uid,seq:s,attributeInfos:[]})}),$a.apply(void 0,ra(i.map(function(l){return l.fromReceived("UserAttributeErr").pipe(Ma(function(u){return s.eq(u.seq)}),jb(function(u){throw new wa(["The user attributes clear failure, code %d",u.code],wd)}))})).concat([t.genTimeoutError(xd)],ra(i.map(function(l){return l.fromReceived("UserAttributeRsp").pipe(Ma(function(u){return s.eq(u.seq)}))}))))}},{key:"requestClearChannelAttributes",value:function(o,i){var s=this.getLoginSockets();if(s.length===0)throw new ja("Client is not logged in");var l=this.incGetSeq();return s.forEach(function(u){u.sendPacket("GroupAttributeSet",{group:o,seq:l,attributeInfos:[],broadcast:i})}),$a.apply(void 0,ra(s.map(function(u){return u.fromReceived("GroupAttributeErr").pipe(Ma(function(f){return l.eq(f.seq)}),jb(function(f){throw new wa(["The channel attributes clear failure, code %d",f.code],wd)}))})).concat([t.genTimeoutError(xd)],ra(s.map(function(u){return u.fromReceived("GroupAttributeRsp").pipe(Ma(function(f){return l.eq(f.seq)}))}))))}},{key:"requestAddChannelMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},l=2<arguments.length?arguments[2]:void 0,u=this.getLoginSockets();if(u.length===0)throw new ja("Client is not logged in");if(s.majorRevision&&-1>s.majorRevision&&s.majorRevision%1==0)throw new ka("MajorRevision should be set to a value greater than  -1",wb);if(new Set(o.map(function(g){return g.getKey()})).size!==o.map(function(g){return g.getKey()}).length)throw new ka("RtmMetadataItem key must be unique",yf);var f=this.incGetSeq(),h=JSON.stringify(hf(o.map(function(g){return g.setRevision(0),g}),s.majorRevision));return u.forEach(function(g){g.sendPacket("StateModify",{sequence:f,target:l,requestUuid:"".concat(f,"_").concat(i.instanceId),lock:"",lockRev:U.fromNumber(0),value:h,baseRevision:U.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new U(524289,0,!0):new U(1,0,!0)})}),$a.apply(void 0,[t.genTimeoutError(Ub)].concat(ra(u.map(function(g){return g.fromReceived("StateRequestResult").pipe(Ma(function(y){return f.eq(y.sequence)}),Ia(function(y){if((y=y.code)!==0)throw y===6?new wa(["MetaData Modify failure. The response code from the RTM service is %d",y],qe):y===100?new wa(["MetaData Modify failure. The response code from the RTM service is %d",y],Ub):y===3?new wa(["MetaData Modify failure. The response code from the RTM service is %d",y],wb):new wa(["MetaData Modify failure. The response code from the RTM service is %d",y],Ec)}))}))))}},{key:"requestUpdateChannelMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},l=2<arguments.length?arguments[2]:void 0,u=this.getLoginSockets();if(u.length===0)throw new ja("Client is not logged in");if(s.majorRevision&&-1>s.majorRevision&&s.majorRevision%1==0)throw new ka("MajorRevision should be set to a value greater than  -1",wb);if(new Set(o.map(function(g){return g.getKey()})).size!==o.map(function(g){return g.getKey()}).length)throw new ka("RtmMetadataItem key must be unique",yf);var f=this.incGetSeq(),h=JSON.stringify(hf(o.map(function(g){return g.setRevision(-2),g}),s.majorRevision));return u.forEach(function(g){g.sendPacket("StateModify",{sequence:f,target:l,requestUuid:"".concat(f,"_").concat(i.instanceId),lock:"",lockRev:U.fromNumber(0),value:h,baseRevision:U.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new U(524289,0,!0):new U(1,0,!0)})}),$a.apply(void 0,[t.genTimeoutError(Ub)].concat(ra(u.map(function(g){return g.fromReceived("StateRequestResult").pipe(Ma(function(y){return f.eq(y.sequence)}),Ia(function(y){if((y=y.code)!==0)throw y===6?new wa(["MetaData Modify failure. The response code from the RTM service is %d",y],qe):y===100?new wa(["MetaData Modify failure. The response code from the RTM service is %d",y],Ub):y===3?new wa(["MetaData Modify failure. The response code from the RTM service is %d",y],wb):new wa(["MetaData Modify failure. The response code from the RTM service is %d",y],Ec)}))}))))}},{key:"requestDeleteChannelMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},l=2<arguments.length?arguments[2]:void 0,u=this.getLoginSockets();if(u.length===0)throw new ja("Client is not logged in");if(s.majorRevision&&-1>s.majorRevision&&s.majorRevision%1==0)throw new ka("MajorRevision should be set to a value greater than  -1",wb);if(new Set(o.map(function(g){return g.getKey()})).size!==o.map(function(g){return g.getKey()}).length)throw new ka("RtmMetadataItem key must be unique",yf);var f=this.incGetSeq(),h=JSON.stringify(hf(o.map(function(g){return g.setValue(null),g}),s.majorRevision));return u.forEach(function(g){g.sendPacket("StateModify",{sequence:f,target:l,requestUuid:"".concat(f,"_").concat(i.instanceId),lock:"",lockRev:U.fromNumber(0),value:h,baseRevision:U.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new U(524289,0,!0):new U(1,0,!0)})}),$a.apply(void 0,[t.genTimeoutError(Ub)].concat(ra(u.map(function(g){return g.fromReceived("StateRequestResult").pipe(Ma(function(y){return f.eq(y.sequence)}),Ia(function(y){if((y=y.code)!==0)throw y===6?new wa(["MetaData Modify failure. The response code from the RTM service is %d",y],qe):y===100?new wa(["MetaData Modify failure. The response code from the RTM service is %d",y],Ub):y===3?new wa(["MetaData Modify failure. The response code from the RTM service is %d",y],wb):new wa(["MetaData Modify failure. The response code from the RTM service is %d",y],Ec)}))}))))}},{key:"requestSetChannelMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},l=2<arguments.length?arguments[2]:void 0,u=this.getLoginSockets();if(u.length===0)throw new ja("Client is not logged in");if(s.majorRevision&&-1>s.majorRevision&&s.majorRevision%1==0)throw new ka("MajorRevision should be set to a value greater than  -1",wb);if(new Set(o.map(function(h){return h.getKey()})).size!==o.map(function(h){return h.getKey()}).length)throw new ka("RtmMetadataItem key must be unique",yf);var f=this.incGetSeq();return u.forEach(function(h){h.sendPacket("StateSet",{sequence:f,target:l,requestUuid:"".concat(f,"_").concat(i.instanceId),value:JSON.stringify(hf(o,s.majorRevision)),lock:"",lockRev:U.fromNumber(0),baseRevision:U.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new U(524289,0,!0):new U(1,0,!0)})}),$a.apply(void 0,[t.genTimeoutError(Ub)].concat(ra(u.map(function(h){return h.fromReceived("StateRequestResult").pipe(Ma(function(g){return f.eq(g.sequence)}),Ia(function(g){if((g=g.code)!==0)throw g===6?new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],qe):g===100?new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],Ub):g===3?new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],wb):new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],Ec)}))}))))}},{key:"requestClearChannelMetadata",value:function(){var o=this,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},s=1<arguments.length?arguments[1]:void 0,l=this.getLoginSockets();if(l.length===0)throw new ja("Client is not logged in");if(i.majorRevision&&-1>i.majorRevision&&i.majorRevision%1==0)throw new ka("MajorRevision should be set to a value greater than  -1",wb);var u=this.incGetSeq();return l.forEach(function(f){f.sendPacket("StateSet",{sequence:u,target:s,requestUuid:"".concat(u,"_").concat(o.instanceId),lock:"",lockRev:U.fromNumber(0),value:"",baseRevision:U.fromNumber(0),author:i.enableRecordUserId?o.context.uid:"",flags:i.enableRecordTs?new U(589825,0,!0):new U(65537,0,!0)})}),$a.apply(void 0,[t.genTimeoutError(Ub)].concat(ra(l.map(function(f){return f.fromReceived("StateRequestResult").pipe(Ma(function(h){return u.eq(h.sequence)}),Ia(function(h){if((h=h.code)!==0)throw h===6?new wa(["MetaData Modify failure. The response code from the RTM service is %d",h],qe):h===100?new wa(["MetaData Modify failure. The response code from the RTM service is %d",h],Ub):h===3?new wa(["MetaData Modify failure. The response code from the RTM service is %d",h],wb):new wa(["MetaData Modify failure. The response code from the RTM service is %d",h],Ec)}))}))))}},{key:"requestAddLocalMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},l=this.getLoginSockets();if(l.length===0)throw new ja("Client is not logged in");if(s.majorRevision&&-1>s.majorRevision&&s.majorRevision%1==0)throw new ka("MajorRevision should be set to a value greater than  -1",wb);if(new Set(o.map(function(h){return h.getKey()})).size!==o.map(function(h){return h.getKey()}).length)throw new ka("RtmMetadataItem key must be unique",yf);var u=this.incGetSeq(),f=JSON.stringify(hf(o.map(function(h){return h.setRevision(0),h}),s.majorRevision));return l.forEach(function(h){h.sendPacket("StateModify",{sequence:u,target:i.context.uid,requestUuid:"".concat(u,"_").concat(i.instanceId),lock:"",lockRev:U.fromNumber(0),value:f,baseRevision:U.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new U(524288,0,!0):U.fromNumber(0)})}),$a.apply(void 0,[t.genTimeoutError(Ub)].concat(ra(l.map(function(h){return h.fromReceived("StateRequestResult").pipe(Ma(function(g){return u.eq(g.sequence)}),Ia(function(g){if((g=g.code)!==0)throw g===6?new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],qe):g===100?new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],Ub):g===3?new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],wb):new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],Ec)}))}))))}},{key:"requestUpdateLocalMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},l=this.getLoginSockets();if(l.length===0)throw new ja("Client is not logged in");if(s.majorRevision&&-1>s.majorRevision&&s.majorRevision%1==0)throw new ka("MajorRevision should be set to a value greater than  -1",wb);if(new Set(o.map(function(h){return h.getKey()})).size!==o.map(function(h){return h.getKey()}).length)throw new ka("RtmMetadataItem key must be unique",yf);var u=this.incGetSeq(),f=JSON.stringify(hf(o.map(function(h){return h.setRevision(-2),h}),s.majorRevision));return l.forEach(function(h){h.sendPacket("StateModify",{sequence:u,target:i.context.uid,requestUuid:"".concat(u,"_").concat(i.instanceId),lock:"",lockRev:U.fromNumber(0),value:f,baseRevision:U.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new U(524288,0,!0):U.fromNumber(0)})}),$a.apply(void 0,[t.genTimeoutError(Ub)].concat(ra(l.map(function(h){return h.fromReceived("StateRequestResult").pipe(Ma(function(g){return u.eq(g.sequence)}),Ia(function(g){if((g=g.code)!==0)throw g===6?new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],qe):g===100?new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],Ub):g===3?new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],wb):new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],Ec)}))}))))}},{key:"requestDeleteLocalMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},l=this.getLoginSockets();if(l.length===0)throw new ja("Client is not logged in");if(s.majorRevision&&-1>s.majorRevision&&s.majorRevision%1==0)throw new ka("MajorRevision should be set to a value greater than  -1",wb);if(new Set(o.map(function(h){return h.getKey()})).size!==o.map(function(h){return h.getKey()}).length)throw new ka("RtmMetadataItem key must be unique",yf);var u=this.incGetSeq(),f=JSON.stringify(hf(o.map(function(h){return h.setValue(null),h}),s.majorRevision));return l.forEach(function(h){h.sendPacket("StateModify",{sequence:u,target:i.context.uid,requestUuid:"".concat(u,"_").concat(i.instanceId),lock:"",lockRev:U.fromNumber(0),value:f,baseRevision:U.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new U(524288,0,!0):U.fromNumber(0)})}),$a.apply(void 0,[t.genTimeoutError(Ub)].concat(ra(l.map(function(h){return h.fromReceived("StateRequestResult").pipe(Ma(function(g){return u.eq(g.sequence)}),Ia(function(g){if((g=g.code)!==0)throw g===6?new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],qe):g===100?new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],Ub):g===3?new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],wb):new wa(["MetaData Modify failure. The response code from the RTM service is %d",g],Ec)}))}))))}},{key:"requestSetLocalMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},l=this.getLoginSockets();if(l.length===0)throw new ja("Client is not logged in");if(s.majorRevision&&-1>s.majorRevision&&s.majorRevision%1==0)throw new ka("MajorRevision should be set to a value greater than  -1",wb);if(new Set(o.map(function(f){return f.getKey()})).size!==o.map(function(f){return f.getKey()}).length)throw new ka("RtmMetadataItem key must be unique",yf);var u=this.incGetSeq();return l.forEach(function(f){f.sendPacket("StateSet",{sequence:u,target:i.context.uid,requestUuid:"".concat(u,"_").concat(i.instanceId),value:JSON.stringify(hf(o,s.majorRevision)),lock:"",lockRev:U.fromNumber(0),baseRevision:U.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new U(524288,0,!0):new U(0,0,!0)})}),$a.apply(void 0,[t.genTimeoutError(Ub)].concat(ra(l.map(function(f){return f.fromReceived("StateRequestResult").pipe(Ma(function(h){return u.eq(h.sequence)}),Ia(function(h){if((h=h.code)!==0)throw h===6?new wa(["MetaData Modify failure. The response code from the RTM service is %d",h],qe):h===100?new wa(["MetaData Modify failure. The response code from the RTM service is %d",h],Ub):h===3?new wa(["MetaData Modify failure. The response code from the RTM service is %d",h],wb):new wa(["MetaData Modify failure. The response code from the RTM service is %d",h],Ec)}))}))))}},{key:"requestClearLocalMetadata",value:function(){var o=this,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},s=this.getLoginSockets();if(s.length===0)throw new ja("Client is not logged in");if(i.majorRevision&&-1>i.majorRevision&&i.majorRevision%1==0)throw new ka("MajorRevision should be set to a value greater than  -1",wb);var l=this.incGetSeq();return s.forEach(function(u){u.sendPacket("StateSet",{sequence:l,target:o.context.uid,requestUuid:"".concat(l,"_").concat(o.instanceId),lock:"",lockRev:U.fromNumber(0),value:JSON.stringify({}),baseRevision:U.fromNumber(0),author:i.enableRecordUserId?o.context.uid:"",flags:i.enableRecordTs?new U(589824,0,!0):new U(65536,0,!0)})}),$a.apply(void 0,[t.genTimeoutError(Ub)].concat(ra(s.map(function(u){return u.fromReceived("StateRequestResult").pipe(Ma(function(f){return l.eq(f.sequence)}),Ia(function(f){if((f=f.code)!==0)throw f===6?new wa(["MetaData Modify failure. The response code from the RTM service is %d",f],qe):f===100?new wa(["MetaData Modify failure. The response code from the RTM service is %d",f],Ub):f===3?new wa(["MetaData Modify failure. The response code from the RTM service is %d",f],wb):new wa(["MetaData Modify failure. The response code from the RTM service is %d",f],Ec)}))}))))}},{key:"requestSubscribeUserMetadata",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ja("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(l){l.sendPacket("StateSubscribe",{sequence:s,target:o,subTarget:"",flags:U.fromNumber(0)})}),$a.apply(void 0,[t.genTimeoutError($k)].concat(ra(i.map(function(l){return l.fromReceived("StateSubscribeResult").pipe(Ma(function(u){return s.eq(u.sequence)}),Ia(function(u){if((u=u.code)!==0)throw u===100?new wa(["MetaData Subscribe failure. The response code from the RTM service is %d",u],$k):new wa(["MetaData Subscribe failure. The response code from the RTM service is %d",u],fp)}))}))))}},{key:"requestUnsubscribeUserMetadata",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ja("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(l){l.sendPacket("StateUnsubscribe",{sequence:s,target:o,subTarget:"",flags:U.fromNumber(0)})}),$a.apply(void 0,[t.genTimeoutError($k)].concat(ra(i.map(function(l){return l.fromReceived("StateSubscribeResult").pipe(Ma(function(u){return s.eq(u.sequence)}),Ia(function(u){if((u=u.code)!==0)throw u===100?new wa(["MetaData Subscribe failure. The response code from the RTM service is %d",u],$k):new wa(["MetaData Subscribe failure. The response code from the RTM service is %d",u],fp)}))}))))}},{key:"requestGetUserAttributesByKeys",value:function(o,i){var s=this.getLoginSockets();if(s.length===0)throw new ja("Client is not logged in");var l=this.incGetSeq();return s.forEach(function(u){u.sendPacket("UserAttributeGet",{account:o,seq:l,attributes:i})}),$a.apply(void 0,[t.genTimeoutError(xd)].concat(ra(s.map(function(u){return u.fromReceived("UserAttributeErr").pipe(Ma(function(f){return l.eq(f.seq)}),jb(function(f){throw(f=f.code)===10008?new wa("The user requested is not online",iw):new ed(["User attribute operation unknown error code: %d",f],wd)}))})),ra(s.map(function(u){return u.fromReceived("UserAttributeRet").pipe(Ma(function(f){return l.eq(f.seq)}))}))))}},{key:"requestGetChannelAttributesByKeys",value:function(o,i){var s=this.getLoginSockets();if(s.length===0)throw new ja("Client is not logged in");var l=this.incGetSeq();return s.forEach(function(u){u.sendPacket("GroupAttributeGet",{group:o,seq:l,attributes:i})}),$a.apply(void 0,[t.genTimeoutError(xd)].concat(ra(s.map(function(u){return u.fromReceived("GroupAttributeErr").pipe(Ma(function(f){return l.eq(f.seq)}),jb(function(f){throw new wa(["The channel attributes get failure, code %d",f.code],wd)}))})),ra(s.map(function(u){return u.fromReceived("GroupAttributeRet").pipe(Ma(function(f){return l.eq(f.seq)}))}))))}},{key:"requestGetUserAttributeKeys",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ja("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(l){l.sendPacket("UserAttributeKeysGet",{account:o,seq:s})}),$a.apply(void 0,[t.genTimeoutError(xd)].concat(ra(i.map(function(l){return l.fromReceived("UserAttributeErr").pipe(Ma(function(u){return s.eq(u.seq)}),jb(function(u){throw(u=u.code)===10008?new wa("The user requested is not online",iw):new ed(["User attribute operation unknown error code: %d",u],wd)}))})),ra(i.map(function(l){return l.fromReceived("UserAttributeKeysRet").pipe(Ma(function(u){return s.eq(u.seq)}))}))))}},{key:"requestGetChannelAttributesKeys",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ja("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(l){l.sendPacket("GroupAttributeKeysGet",{group:o,seq:s})}),$a.apply(void 0,[t.genTimeoutError(xd)].concat(ra(i.map(function(l){return l.fromReceived("GroupAttributeErr").pipe(Ma(function(u){return s.eq(u.seq)}),jb(function(u){throw new ed(["Channel attribute operation unknown error code: %d",u.code],wd)}))})),ra(i.map(function(l){return l.fromReceived("GroupAttributeKeysRet").pipe(Ma(function(u){return s.eq(u.seq)}))}))))}},{key:"requestGetChannelMemberCount",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ja("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(l){l.sendPacket("GroupStatusList",{groups:o,seq:s})}),$a.apply(void 0,[t.genTimeoutError(mw)].concat(ra(i.map(function(l){return l.fromReceived("GroupStatusResult").pipe(Ma(function(u){return s.eq(u.seq)}))}))))}},{key:"requestSubscribePeersOnlineStatus",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ja("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(l){l.sendPacket("SubscribeUserStatus",{seq:s,users:o})}),$a.apply(void 0,[t.genTimeoutError(AI)].concat(ra(i.map(function(l){return l.fromReceived("SubscribeResponse").pipe(Ma(function(u){return s.eq(u.seq)}))}))))}},{key:"requestUnsubscribePeersOnlineStatus",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ja("Client is not logged in");var s=this.incGetSeq();i.forEach(function(l){l.sendPacket("UnsubscribeUserStatus",{seq:s,users:o})})}},{key:"sendInvitationMessage",value:function(){var o=Aa(X.mark(function i(s){var l,u,f,h,g,y,m,R,A,k,I,N,C=this;return X.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(l=s.peerId,u=s.callId,f=s.extra,h=s.isAcceptAck,g=s.channelId,y=s.type,m={callId:u},h===void 0){Y.next=6;break}if(y==="CallAccept"){Y.next=5;break}throw Error("invalid invitation type");case 5:m.type=h?"ack":"request";case 6:return m.channel=g,(y==="CallInvite"||y==="CallCancel"||y==="CallReject"||y==="CallAccept"&&h===!1)&&f!==void 0&&(m.extra=f),R=Qj(),this.log("The sent invitation body is %o",m),A=function(te){return{MiscMap:{},sequence:U.fromNumber(1),dialogue:R,instance:C.instanceId,dst:l,ms:U.fromNumber(Date.now(),!0),options:new Gh({IterationNumber:te,MessageType:y}).toLong(),payload:new TextEncoder().encode(JSON.stringify(m)),src:C.context.uid}},Y.next=14,ae(this.sendMessageToRetry(A,!0)).pipe(Mc(1e4),Pb(function(te){return te instanceof Xc&&C.warn("Send invitation timeout"),Ua(te)})).toPromise();case 14:return k=Y.sent,I=k.code,N=k.retryTimes,Y.abrupt("return",{hasPeerReceived:I===0,hasReSent:N!==0});case 18:case"end":return Y.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"sendRawMessage",value:function(){var o=Aa(X.mark(function i(s,l,u,f,h){var g,y,m,R,A,k,I,N,C,Y,te,Xe=this;return X.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(g=Date.now(),y=f?tb.P2pRMsgNoOfflineFlag:tb.ChannelRMsg,Eb(u)&&s instanceof Uint8Array&&typeof l=="string"){_e.next=4;break}throw new ka("The send message arguments are not valid",f?Cw:Wk);case 4:if(!(32768<s.byteLength+new Blob([l]).size)){_e.next=8;break}throw this.emit("messageCount",{messageCategory:y,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:y,type:"common",key:"invalidmessagecount"}),new qd("The message size is over the 32KB limit",f?ri:$o);case 8:return m=!pg.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=s.byteLength,R=this.chatManager.getChatInfo(u),A=R.dialogue,k=R.sequence,I=this.instanceId,this.log('A%s %s raw message is sending to %s: "'.concat(I,"-").concat(A,"#").concat(k,'"'),m?" compressed":"",f?"peer":"channel",ub(u)),N=function($e){return{MiscMap:{description:new TextEncoder().encode(l)},sequence:k,dialogue:A,instance:I,dst:u,ms:U.fromNumber(Date.now(),!0),options:new Gh({IterationNumber:$e,CompressionMethod:m?"Zlib":"Uncompressed",MessageType:f?"PeerRawMessage":"ChannelRawMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:m?vA(s):s,src:Xe.context.uid}},_e.next=15,ae(this.sendMessageToRetry(N,!0)).pipe(Mc(h===void 0?1e4:h),Pb(function($e){return $e instanceof Xc&&Xe.warn("Send message timeout"),Ua($e)})).toPromise();case 15:return C=_e.sent,Y=C.code,te=Y===0,this.emit("messageCount",{messageCategory:y,type:"common",key:"sentcount"}),te&&(this.emit("messageCount",{messageCategory:y,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:y,type:f?"peer":"recipient",delay:Kb(g).toNumber()})),_e.abrupt("return",{hasPeerReceived:te});case 21:case"end":return _e.stop()}},i,this)}));return function(i,s,l,u,f){return o.apply(this,arguments)}}()},{key:"sendTextMessage",value:function(){var o=Aa(X.mark(function i(s,l,u,f){var h,g,y,m,R,A,k,I,N,C,Y,te,Xe=this;return X.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(h=Date.now(),g=u?tb.P2pSMsgNoOfflineFlag:tb.ChannelSMsg,Eb(l)){_e.next=4;break}throw new ka("The send message arguments are not valid",u?Cw:Wk);case 4:if(!(32768<new Blob([s]).size)){_e.next=8;break}throw this.emit("messageCount",{messageCategory:g,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:g,type:"common",key:"invalidmessagecount"}),new qd("The message size is over the 32KB limit",u?ri:$o);case 8:return y=!pg.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=new Blob([s]).size,m=this.chatManager.getChatInfo(l),R=m.dialogue,A=m.sequence,k=this.instanceId,this.log('A%s %s message is sending to %s: "'.concat(k,"-").concat(R,"#").concat(A,'"'),y?" compressed":"",u?"peer":"channel",ub(l)),I=new TextEncoder().encode(s),N=function($e){return{MiscMap:{},sequence:A,dialogue:R,instance:k,dst:l,ms:U.fromNumber(Date.now(),!0),options:new Gh({IterationNumber:$e,CompressionMethod:y?"Zlib":"Uncompressed",MessageType:u?"PeerTextMessage":"ChannelTextMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:y?vA(I):I,src:Xe.context.uid}},_e.next=16,ae(this.sendMessageToRetry(N,!0)).pipe(Mc(f===void 0?1e4:f),Pb(function($e){return $e instanceof Xc&&(Xe.emit("messageCount",{messageCategory:g,type:"common",key:"sentcount"}),Xe.emit("messageCount",{messageCategory:g,type:"common",key:"timeoutcount"}),Xe.warn("Send message timeout")),Ua($e)})).toPromise();case 16:return C=_e.sent,Y=C.code,te=Y===0,this.emit("messageCount",{messageCategory:g,type:"common",key:"sentcount"}),te&&(this.emit("messageCount",{messageCategory:g,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:g,type:u?"peer":"recipient",delay:Kb(h).toNumber()})),_e.abrupt("return",{hasPeerReceived:te});case 22:case"end":return _e.stop()}},i,this)}));return function(i,s,l,u){return o.apply(this,arguments)}}()},{key:"cleanLoginSubs",value:function(o,i){Object.entries(this.loginSocketSubs[o]).forEach(function(s){var l=(s=Ob(s,2))[1];s[0]==="channels"&&i||(Array.isArray(l)||l instanceof Map?l.forEach(function(u){return u.unsubscribe()}):l&&l.unsubscribe())}),this.loginSocketSubs[o]={channels:i?this.loginSocketSubs[o].channels:new Map,receivers:[]}}},{key:"sendMessageToRetry",value:function(){var o=Aa(X.mark(function i(s,l){var u,f,h,g,y,m,R,A,k,I=this,N=arguments;return X.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(u=2<N.length&&N[2]!==void 0?N[2]:0,this.log("Attempt to send the message ".concat(l?" with retrying, %o":"without retrying"),{retryTimes:u}),(f=this.getLoginSockets()).length!==0){C.next=5;break}throw Error("no logged-in sockets");case 5:return h=s(u),f.forEach(function(Y){Y.sendPacket("Message",h)}),g=h.dialogue,y=h.sequence,m=h.instance,R=f.map(function(Y){return Y.fromReceived("Ack").pipe(sc(function(te){return g.eq(te.dialogue)&&y.eq(te.sequence)&&m.eq(te.instance)}))}),C.prev=9,C.next=12,Lc.apply(void 0,ra(R)).pipe(Mc(6e3),Pb(function(Y){return vc(Y)&&I.warn("Message send timeout, retry times %d",u),Ua(Y)}),Wb(1)).toPromise();case 12:return A=C.sent,k=A.code,this.log("The message has been acked, %o",{code:k}),C.abrupt("return",{code:k,retryTimes:u});case 18:if(C.prev=18,C.t0=C.catch(9),!(C.t0 instanceof Xc&&l)){C.next=22;break}return C.abrupt("return",this.sendMessageToRetry(s,!1,u+1));case 22:throw C.t0;case 23:case"end":return C.stop()}},i,this,[[9,18]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"initKeepAliveSender",value:function(){var o=this;this.lastLoginSockets.map(function(i){return i.pipe(Cc(function(s){return Be(0,2500,Eg()?void 0:hM).pipe(Ia(function(){o.sendPing(s)}))}))}).forEach(function(i,s){var l=o.loginSocketSubs[s].keepAlive;l!==void 0&&l.unsubscribe(),o.loginSocketSubs[s].keepAlive=i.subscribe({error:function(){}})})}},{key:"initKeepAliveReconnector",value:function(){var o=this;this.lastLoginSockets.map(function(i){return i.pipe(Cc(function(s){var l,u=!1,f=s.userJoin$.pipe(Ia(function(){u=!0})),h=s.input$.pipe(Ia(function(g){Pm[g.uri].slice(0,-3)!=="Ping"&&(u=!1)}));return Lc(Be(6e3,1e4).pipe(bC(s.receivedPacket),Ia(function(g){g=Ob(g,2),g=Ob(g[1],2)[1],l!==g||u||s.forceReconnect(),l=g})),f,h)}))}).forEach(function(i,s){var l=o.loginSocketSubs[s].keepAliveReconnector;l!==void 0&&l.unsubscribe(),o.loginSocketSubs[s].keepAliveReconnector=i.subscribe({error:function(){}})})}},{key:"initLoginReceiver",value:function(){var o=this;$a.apply(void 0,ra(this.lastLoginSockets.map(function(l){return l.pipe(Cc(function(u){return u.fromReceived("UserTicketNearlyExpire").pipe(WB(5e3),Ia(o.onUserTicketNearlyExpire(u)))}))}))).subscribe(),$a.apply(void 0,ra(this.lastLoginSockets.map(function(l){return l.pipe(Cc(function(u){return u.fromReceived("StateUpdate").pipe(Ia(o.onStateUpdate()))}))}))).subscribe();var i=Bc(this,"messageCount"),s=i.pipe(sc(function(l){return l.messageCategory===tb.ChannelSMsg}));s.subscribe(function(l){return o.updateMessageCount(l)}),s.pipe(Gj(6e3)).subscribe(function(l){l.length&&o.chanelStringMessageReport.report()}),Lc(dc(void 0),s).pipe(Cc(function(){return Sg(36e5)})).subscribe(function(){o.chanelStringMessageReport.report()}),(s=i.pipe(sc(function(l){return l.messageCategory===tb.ChannelRMsg}))).subscribe(function(l){return o.updateMessageCount(l)}),s.pipe(Gj(6e3)).subscribe(function(l){l.length&&o.chanelRawMessageReport.report()}),Lc(dc(void 0),s).pipe(Cc(function(){return Sg(36e5)})).subscribe(function(){o.chanelRawMessageReport.report()}),(s=i.pipe(sc(function(l){return l.messageCategory===tb.P2pSMsgNoOfflineFlag}))).subscribe(function(l){return o.updateMessageCount(l)}),s.pipe(Gj(6e3)).subscribe(function(l){l.length&&o.p2pSMsgNoOfflineReport.report()}),Lc(dc(void 0),s).pipe(Cc(function(){return Sg(36e5)})).subscribe(function(){o.p2pSMsgNoOfflineReport.report()}),(i=i.pipe(sc(function(l){return l.messageCategory===tb.P2pRMsgNoOfflineFlag}))).subscribe(function(l){return o.updateMessageCount(l)}),i.pipe(Gj(6e3)).subscribe(function(l){l.length&&o.p2pRMsgNoOfflineReport.report()}),Lc(dc(void 0),i).pipe(Cc(function(){return Sg(36e5)})).subscribe(function(){o.p2pSMsgNoOfflineReport.report()}),this.lastLoginSockets.map(function(l){return l.pipe(Cc(function(u){return Lc(Bc(u,"reconnect").pipe(Ia(o.onSocketReconnect(u))),u.fromReceived("Message").pipe(Ia(o.onMessage(u))),u.fromReceived("GroupEnterNotice").pipe(Ia(o.onGroupEnterNotice())),u.fromReceived("GroupLeaveNotice").pipe(Ia(o.onGroupLeaveNotice())),u.fromReceived("GroupCountNotice").pipe(Ia(o.onGroupCountNotice())),u.fromReceived("GroupAttributeAlt").pipe(Ia(o.onGroupAttributeAlt())),u.fromReceived("UserJoinNotice").pipe(Ia(o.onUserNotice(Va.PeerOnlineState.ONLINE))),u.fromReceived("UserQuitNotice").pipe(Ia(o.onUserNotice(Va.PeerOnlineState.OFFLINE))),u.fromReceived("UserWaitNotice").pipe(Ia(o.onUserNotice(Va.PeerOnlineState.UNREACHABLE))),u.fromReceived("Pong").pipe(Ia(o.onPong())),u.fromReceived("UserDrop").pipe(Ia(o.onUserDrop(u))),u.fromReceived("GroupDrop").pipe(Ia(o.onGroupDrop()))).pipe(ji(void 0))}))}).forEach(function(l,u){o.loginSocketSubs[u].receivers.push(l.subscribe({error:function(){}}))})}},{key:"requestSocketLogin",value:function(o,i,s){var l=this;return Ir(gf(function(){l.userJoinOptions=new Cx(i),o.sendPacket("UserJoin",{account:l.context.uid,instance:l.instanceId,opt:l.userJoinOptions.toLong(),seq:s,ticket:o.ticket})}),o.fromReceived("UserResp").pipe(Ma(function(u){return s.eq(u.seq)}),Ia(function(u){if((u=u.code)!==0)throw l.clearSockets(),l.logError("Connected to gateway success but the Rtm server rejected login"),new wa(["Login failure. The response code from the RTM service is %d",u],fj);o.attemptsSinceLastError=0,o.loggedIn=!0,l.log("ENV_%d logged in",o.env)}),ji(o),Mc(6e3))).pipe(sc(function(u){return u!==void 0}),Pb(function(u){return u instanceof Xc&&l.warn("Login response timeout, rejoin: %s",i),l.clearSockets(),u.name="loginRespTimeout",l.emit("banEdgeIP",o.ip),Ua(u)}))}},{key:"getSocketLoginObservables",value:function(o,i){var s=this;return o.map(function(l){return l.pipe(Cc(function(u,f){return s.incSeqIfNeeded(u.env),s.requestSocketLogin(u,f!==0,f===0?i:s.seq)}),Ug())})}},{key:"incSeqIfNeeded",value:function(o){if(![0,1].includes(o))throw new qb({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[o]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1,!1]),this.seqSentStatuses[o]=!0}},{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1),this.seqSentStatuses=[!0,!0],this.seq}},{key:"getLoginSockets",value:function(){for(var o=this.curLoginSockets,i=-1,s=o==null?0:o.length,l=0,u=[];++i<s;){var f=o[i];f&&(u[l++]=f)}return u}},{key:"emitMessage",value:function(o,i){var s,l=o.options,u=o.payload,f=o.src,h=o.dst,g=o.instance,y=o.dialogue,m=o.sequence,R=o.ms,A=o.MiscMap;this.dialogueSequenceLru.set(y.toString(),m),g="".concat(g,"-").concat(y,"#").concat(m),this.msgDedupLru.has(g)?this.warn("Env_%d: Messages out-of-order or not start with 1: %s",i,g):(this.msgDedupLru.set(g,void 0),l=new Gh(l),this.lastLoginSockets.forEach((s=Aa(X.mark(function k(I){var N;return X.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,I.pipe(Wb(1)).toPromise();case 2:N=C.sent,t.sendMessageAck(o,N);case 4:case"end":return C.stop()}},k)})),function(k){return s.apply(this,arguments)})),i=l.isZlibCompressed(),l.isInvitation()?(h=si(i?Iq(vs(u,Uint8Array.of(0,0,0,0))):u),h=JSON.parse(h),this.log("The received invitation body is %o",h),this.emit("invitationMessage",{body:h,type:l.getInvitationType(),peerId:f,serverReceivedTs:R.toNumber()})):l.isTextMessage()?(A=l.isPeerTextMessage(),u=si(i?Iq(vs(u,Uint8Array.of(0,0,0,0))):u),this.info("Received a %s %s text message from %s to %s, %s",i?" compressed":"",A?"peer":"channel",ub(f),ub(h),g),A?(f={text:u,peerId:f,properties:{serverReceivedTs:R.toNumber()}},this.emit("peerTextMessage",f),this.emit("messageCount",{messageCategory:tb.P2pSMsgNoOfflineFlag,type:"common",key:"receivedcount"})):(this.emit("channelTextMessage",{channelId:h,memberId:f,text:u,properties:{serverReceivedTs:R.toNumber()}}),this.emit("messageCount",{messageCategory:tb.ChannelSMsg,type:"common",key:"receivedcount"}))):l.isRawMessage()&&(l=l.isRawPeerMessage(),A=(A=A.description)===void 0?"":si(A),u=i?Iq(u):u,this.info("Received a %s %s raw message from %s to %s, %s",i?" compressed":"",l?"peer":"channel",ub(f),ub(h),g),l?(f={desc:A,raw:u,peerId:f,properties:{serverReceivedTs:R.toNumber()}},this.emit("peerRawMessage",f),this.emit("messageCount",{messageCategory:tb.P2pRMsgNoOfflineFlag,type:"common",key:"receivedcount"})):(this.emit("channelRawMessage",{desc:A,raw:u,channelId:h,memberId:f,properties:{serverReceivedTs:R.toNumber()}}),this.emit("messageCount",{messageCategory:tb.ChannelRMsg,type:"common",key:"receivedcount"}))))}},{key:"onSocketReconnect",value:function(o){var i=this;return function(){var s=[0,1].filter(function(l){return l!==o.env})[0];(s=i.connection.curOpenSockets[s])&&!s.loggedIn&&i.emit("connectionLost")}}},{key:"onUserTicketNearlyExpire",value:function(o){var i=this;return function(s){(s=s.ticket)!==i.lastNoticeTicket&&s===o.ticket?(i.lastNoticeTicket=s,i.emit("tokenPrivilegeWillExpire")):i.requestUpdateEdgeTicket(o.ticket).toPromise()}}},{key:"onGroupDrop",value:function(){var o=this;return function(i){var s,l=i.account;Qb("ChnLeave",{cname:l,lts:U.fromNumber(Date.now()),elapse:Kb(o.startTime),errCode:rI,sid:fc(o.instanceId),userId:o.context.uid},(s=o.context.config.enableCloudProxy)!==null&&s!==void 0&&s),[0,1].forEach(function(u){return o.loginSocketSubs[u].channels.delete(l)}),o.logError("the user is kicked out of the current channel")}}},{key:"onStateUpdate",value:function(){var o=this;return function(i){var s=i.allStates,l=i.target;i.flags.and(new U(1,0,!0)).isZero()?o.emit("userMetaDataUpdate",{uid:l,data:Yj(s)}):o.emit("channelMetaDataUpdate",Yj(s))}}},{key:"onUserDrop",value:function(o){var i=this;return function(s){var l;s=s.code,Qb("KickedOff",{code:0,elapse:Kb(i.startTime),linkId:parseInt(o.name.split("-")[1],10),lts:U.fromNumber(Date.now()),server:o.address,serverCode:s,sid:fc(i.instanceId),userId:i.context.uid},(l=i.context.config.enableCloudProxy)!==null&&l!==void 0&&l),s===10006||s===10001?i.warn("Login too often and kicked off, reconnect and login"):s===10009?(i.warn("The instance ID conflicts, reconnecting"),i.instanceId=Qj(),i.context.sid=fc(i.instanceId),i.emit("instanceChanged",i.instanceId)):[2,11,14,15,16].includes(s)&&(i.emit("userDrop",s),i.clearSockets())}}},{key:"clearSockets",value:function(){var o=this,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,s=1<arguments.length&&arguments[1]!==void 0&&arguments[1];[0,1].forEach(function(l){o.cleanLoginSubs(l,s),o.connection.closeSocket(l,i)})}},{key:"onMessage",value:function(o){var i=this;return function(s){var l=s.dialogue,u=s.instance,f=s.sequence,h=s.options;if(s.src===i.context.uid)i.log("The message is from the local account, ignored");else{var g=l.toString(),y=i.dialPendingMsgSubjectMap.get(g);if(l="".concat(u,"-").concat(l,"#").concat(f),y)y.next(s),i.log("Env_%d: The dialogue has pending messages, next: %s",o.env,l);else{var m=i.dialogueSequenceLru.get(g);if(y=!m&&f.eq(1),u=m!==void 0&&f.sub(m).eq(1),y||u)i.emitMessage(s,o.env);else{if(m){if(f.lte(m))return;i.log("Env_%d: The message pended, the sequence is not continuous with the last: %s",o.env,l)}else i.log("Env_%d: The message pended, the first sequence is not equal to 1: %s",o.env,l);f=new ec,i.dialPendingMsgSubjectMap.set(g,f);var R=f.pipe(dB(Ro),Jj(function(A,k){return[].concat(ra(A),[k])},[]),jb(function(A){return ra(A).sort(function(k,I){return k=k.sequence,I=I.sequence,k.eq(I)?0:k.gt(I)?1:-1})}),Rr(1));h=!(h=new Gh(h)).isFromCache()&&!h.isBufferedMessage(),R.pipe(be(Be(h?750:1500)),Ma(function(A){if(2>A.length)return!1;for(var k=m===void 0?U.fromNumber(1,!0):m.add(1),I=0;I<A.length;k=k.add(1),I++)if(!A[I].sequence.eq(k))return!1;return!0}),Ij(function(){i.dialPendingMsgSubjectMap.delete(g)})).subscribe(function(A){A.forEach(function(k){i.emitMessage(k,o.env),i.log("Env_%d: The message queue has fully ordered, emitting: %s",o.env,"".concat(k.instance,"-").concat(k.dialogue,"#").concat(k.sequence))})},function(A){A instanceof Hj&&R.pipe(Wb(1)).subscribe(function(k){return k.forEach(function(I){i.log("Env_%d: The message pending queue expired, emitting: %s",o.env,"".concat(I.instance,"-").concat(I.dialogue,"#").concat(I.sequence)),i.emitMessage(I,o.env)})})}),f.next(s)}}}}}},{key:"onPong",value:function(){var o=this;return function(){document.hidden&&o.getLoginSockets().forEach(function(i){o.sendPing(i)})}}},{key:"onGroupEnterNotice",value:function(){var o=this;return function(i){o.emit("memberNotice",{channelId:i.group,seq:i.seq,instance:i.instance,memberId:i.user,type:"MemberJoined",size:i.size})}}},{key:"onGroupLeaveNotice",value:function(){var o=this;return function(i){o.emit("memberNotice",{channelId:i.group,seq:i.seq,instance:i.instance,memberId:i.user,type:"MemberLeft",size:i.size})}}},{key:"onGroupCountNotice",value:function(){var o=this;return function(i){o.emit("memberNotice",{channelId:i.group,seq:i.seq,instance:i.instance,type:"MemberCountUpdated",size:i.size})}}},{key:"onGroupAttributeAlt",value:function(){var o=this;return function(i){var s=i.group;i=am(i,tP),o.emit("channelAttributesUpdated",Jb({channelId:s},i))}}},{key:"onUserNotice",value:function(o){var i=this;return function(s){i.emit("peerOnlineStatusChanged",{peerId:s.user,instance:s.instance,seq:s.seq,state:o})}}},{key:"sendPing",value:function(o){2500>=Date.now()-this.lastPingTime[o.env]||(this.incSeqIfNeeded(o.env),o.sendPacket("Ping",{ms:U.fromNumber(Date.now(),!0),seq:this.seq}),this.lastPingTime[o.env]=Date.now())}},{key:"updateMessageCount",value:function(o){var i,s=(i={},E(i,tb.ChannelRMsg,this.chanelRawMessageReport),E(i,tb.ChannelSMsg,this.chanelStringMessageReport),E(i,tb.P2pRMsgNoOfflineFlag,this.p2pRMsgNoOfflineReport),E(i,tb.P2pSMsgNoOfflineFlag,this.p2pSMsgNoOfflineReport),E(i,3,void 0),E(i,4,void 0),E(i,7,void 0),E(i,8,void 0),E(i,9,void 0),E(i,10,void 0),i)[o.messageCategory];o.type==="common"?s==null||s.updateCommonCount(o.key):o.type==="peer"?s==null||s.updatePeerAckCount(o.delay):s==null||s.updateNorecipientackCount(o.delay)}}],[{key:"sendMessageAck",value:function(o,i){var s=new Gh(o.options);(s.isInvitation()||s.isPeerMessage())&&i.sendPacket("Ack",{code:0,dialogue:o.dialogue,instance:o.instance,sequence:o.sequence})}}]),t}(zd());E(wA,"genTimeoutError",function(e,t){return dc(void 0).pipe(Tf(t===void 0?1e4:t),jb(function(){throw new Yc(["Request timed out after %ds",(t===void 0?1e4:t)/1e3],e)}))});var xA,Jq,Kq=0,Lq=0;dj.v1=function(e,t,n){n=t&&n||0;var r=t||[],o=(e=e||{}).node||xA,i=e.clockseq!==void 0?e.clockseq:Jq;if(o==null||i==null){var s=gw();o==null&&(o=xA=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),i==null&&(i=Jq=16383&(s[6]<<8|s[7]))}s=e.msecs!==void 0?e.msecs:new Date().getTime();var l=e.nsecs!==void 0?e.nsecs:Lq+1,u=s-Kq+(l-Lq)/1e4;if(0>u&&e.clockseq===void 0&&(i=i+1&16383),(0>u||s>Kq)&&e.nsecs===void 0&&(l=0),1e4<=l)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(Kq=s,Lq=l,Jq=i,e=(1e4*(268435455&(s+=122192928e5))+l)%4294967296,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e,e=s/4294967296*1e4&268435455,r[n++]=e>>>8&255,r[n++]=255&e,r[n++]=e>>>24&15|16,r[n++]=e>>>16&255,r[n++]=i>>>8|128,r[n++]=255&i,i=0;6>i;++i)r[n+i]=o[i];return t||hw(r)},dj.v4=dj;var Mq=el(),Mf,Xh=Va.LocalInvitationFailureReason,Db=Va.LocalInvitationState,uP=(Mf=function(e){function t(r,o,i){Za(this,t);var s=n.call(this,i,"RtmLocalInvitation",!0);return E(K(s),"state",Db.IDLE),E(K(s),"localInvitationEnd$",$a(Bc(K(s),"LocalInvitationAccepted"),Bc(K(s),"LocalInvitationRefused"),Bc(K(s),"LocalInvitationFailure"),Bc(K(s),"LocalInvitationCanceled")).pipe(Wb(1))),E(K(s),"callId",dj.v4()),E(K(s),"_content",""),E(K(s),"_channelId",""),E(K(s),"_response",""),E(K(s),"calleeId",void 0),E(K(s),"logger",void 0),E(K(s),"getSession",void 0),s.calleeId=r,s.getSession=o,s.logger=i,s}mb(t,e);var n=nb(t);return Nb(t,[{key:"channelId",get:function(){return this._channelId},set:function(r){this.state!==Db.IDLE?this.info("set channelId only allow before invitation sent to remote"):(this.log("set channelId for %s",this.callId),this._channelId=r)}},{key:"content",get:function(){return this._content},set:function(r){this.log("set content for %s",this.callId),this._content=r}},{key:"response",get:function(){return this._response},set:function(r){throw new ka('Cannot set the "response" of the LocalInvitation instance.',pe)}},{key:"send",value:function(){var r,o=this;if(this.state===Db.SENT_TO_REMOTE||this.state===Db.RECEIVED_BY_REMOTE)throw new ja("The local invitation send failure. The call invitation has already been sent.",nI);if(this.isLocalInvitationEnd())throw new ja("The local invitation send failure. The call invitation has ended.",Xk);if(0<this._channelId.length&&!Eb(this._channelId))throw new ka("Illegal invitation channel ID",pe);if(!Eb(this.calleeId))throw new ka("Illegal invitation callee user ID",pe);if(8192<Uj(this._content))throw new ka('The length of the "content" overflows. The number of bytes representing content must not exceed 8 \xD7 1024 if encoded in UTF-8.',pe);this.state=Db.SENT_TO_REMOTE,gf(Aa(X.mark(function i(){var s,l,u;return X.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,o.getSession().sendInvitationMessage({peerId:o.calleeId,callId:o.callId,extra:o._content,type:"CallInvite",channelId:o._channelId});case 2:if(s=f.sent,l=s.hasPeerReceived,u=s.hasReSent,!o.isLocalInvitationEnd()){f.next=7;break}throw new Yc("send invitation timeout");case 7:if(o.log("The local invitation has sent to the callee"),l||u){f.next=11;break}throw r=new Mq({PEER_NOT_ONLINE:"The peer of the invitation is not online"});case 11:if(l){f.next=14;break}throw r=new Mq({RESENT_AND_OFFLINE:"Resent and the peer of the invitation is not online"});case 14:case"end":return f.stop()}},i)}))).pipe(Tg(function(i){return i.pipe(Ia(function(s){if(!(s instanceof Mq))throw s}),Tf(2e3))}),Mc(3e4),Pb(function(i){return vc(i)&&o.warn("local invitation ack timed out"),Ua(i)}),be(this.localInvitationEnd$)).subscribe({next:function(){o.state===Db.RECEIVED_BY_REMOTE?o.log('The local invitation state is already "RECEIVED_BY_REMOTE", skipped emitting "LocalInvitationReceivedByPeer"'):o.state!==Db.SENT_TO_REMOTE?o.log("The invitation has ended, skipped emitting the %s event","LocalInvitationReceivedByPeer"):(o.info("The peer received the local invitation %s.",o.callId),o.state=Db.RECEIVED_BY_REMOTE,o.emit("LocalInvitationReceivedByPeer"),o.localInvitationEnd$.pipe(Mc(6e4),Pb(function(i){return vc(i)&&o.warn("local invitation expired"),Ua(i)})).subscribe({error:function(){o.state=Db.FAILURE,o.emit("LocalInvitationFailure",Xh.INVITATION_EXPIRE)}}))},error:function(i){o.isLocalInvitationEnd()?o.log("The invitation has ended, skipped emitting the %s event","LocalInvitationFailure"):(o.state=Db.FAILURE,vc(i)&&r?r.code==="PEER_NOT_ONLINE"?o.emit("LocalInvitationFailure",Xh.PEER_OFFLINE):r.code==="RESENT_AND_OFFLINE"&&o.emit("LocalInvitationFailure",Xh.PEER_NO_RESPONSE):vc(i)?o.emit("LocalInvitationFailure",Xh.PEER_NO_RESPONSE):i.name==="RtmInvalidStatusError"?o.emit("LocalInvitationFailure",Xh.NOT_LOGGEDIN):o.emit("LocalInvitationFailure",Xh.UNKNOWN))}})}},{key:"cancel",value:function(){if(this.isLocalInvitationEnd())throw new ja("The local invitation cancel failure",Xk);if(this.state===Db.IDLE)throw new ja("The local invitation has not been sent",mI);if(8192<Uj(this._content))throw new ka('The length of the "content" overflows. The number of bytes representing content must not exceed 8 \xD7 1024 if encoded in UTF-8.',pe);this.getSession().sendInvitationMessage({callId:this.callId,peerId:this.calleeId,type:"CallCancel",channelId:this._channelId,extra:this._content}),this.state=Db.CANCELED,this.emit("LocalInvitationCanceled")}},{key:"onAcceptReceived",value:function(r){if(this.isLocalInvitationEnd()&&this.state!==Db.ACCEPTED_BY_REMOTE)this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationAccepted");else{if(this.state===Db.IDLE)throw new ja("the local have not sent the invitation, how can remote accept it?");this.getSession().sendInvitationMessage({callId:this.callId,isAcceptAck:!0,type:"CallAccept",peerId:this.calleeId,channelId:this.channelId}),this.state===Db.ACCEPTED_BY_REMOTE?this.log("already in ACCEPTED_BY_REMOTE state, ignore emit ACCEPTED_BY_REMOTE"):(this.state===Db.SENT_TO_REMOTE&&(this.log("receive LocalInvitationAccepted before remote response to the invitation"),this.state=Db.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this.state=Db.ACCEPTED_BY_REMOTE,this._response=r,this.emit("LocalInvitationAccepted",r))}}},{key:"onRefuseReceived",value:function(r){if(this.isLocalInvitationEnd())this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationRefused");else{if(this.state===Db.IDLE)throw new ja("the local have not sent the invitation, how can remote refuse it?");this.state===Db.SENT_TO_REMOTE&&(this.log("receive LocalInvitationRefused before remote response to the invitation"),this.state=Db.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this._response=r,this.state=Db.REFUSED_BY_REMOTE,this.emit("LocalInvitationRefused",r)}}},{key:"isLocalInvitationEnd",value:function(){return[Db.CANCELED,Db.FAILURE,Db.ACCEPTED_BY_REMOTE,Db.REFUSED_BY_REMOTE].includes(this.state)}}]),t}(zd()),Oa(Mf.prototype,"send",[de],Object.getOwnPropertyDescriptor(Mf.prototype,"send"),Mf.prototype),Oa(Mf.prototype,"cancel",[de],Object.getOwnPropertyDescriptor(Mf.prototype,"cancel"),Mf.prototype),Mf),Zl=Va.RemoteInvitationFailureReason,Hc=Va.RemoteInvitationState,vP=function(e){function t(r){var o=r.invitationChannel,i=r.extraContent,s=r.callId,l=r.callerId,u=r.logger;r=r.getSession,Za(this,t);var f=n.call(this,u,"RtmRemoteInvitation",!0);return E(K(f),"state",Hc.INVITATION_RECEIVED),E(K(f),"remoteInvitationEnd$",$a(Bc(K(f),"RemoteInvitationCanceled"),Bc(K(f),"RemoteInvitationRefused"),Bc(K(f),"RemoteInvitationAccepted"),Bc(K(f),"RemoteInvitationFailure")).pipe(Wb(1))),E(K(f),"callerId",void 0),E(K(f),"callId",void 0),E(K(f),"_getSession",void 0),E(K(f),"logger",void 0),E(K(f),"_content",void 0),E(K(f),"_channelId",void 0),E(K(f),"_response",""),f._channelId=o,f._content=i,f.callId=s,f.callerId=l,f._getSession=r,f.logger=u,f.remoteInvitationEnd$.pipe(Mc(6e4),Pb(function(h){return vc(h)&&f.warn("Remote invitation expired"),Ua(h)})).subscribe({error:function(){f.state=Hc.FAILURE,f.emit("RemoteInvitationFailure",Zl.INVITATION_EXPIRE)}}),f}mb(t,e);var n=nb(t);return Nb(t,[{key:"channelId",get:function(){return this._channelId},set:function(r){throw new ka('Cannot set the "response" of the RemoteInvitation instance.',pe)}},{key:"content",get:function(){return this._content},set:function(r){throw new ka('Cannot set the "content" of the RemoteInvitation instance.',pe)}},{key:"response",get:function(){return this._response},set:function(r){this._response=r}},{key:"accept",value:function(){var r,o=this;if(this.isRemoteInvitationEnd())throw new ja("The local invitation has ended. Cannot accept.",Xk);if(this.state===Hc.ACCEPT_SENT_TO_LOCAL)throw new ja("The remote invitation is accepting. Cannot do the operation.",nw);if(8192<Uj(this._response))throw new ka('The length of the "response" overflows. The number of bytes representing content must not exceed 8 \xD7 1024 if encoded in UTF-8.',pe);this.state=Hc.ACCEPT_SENT_TO_LOCAL,Lc(Sg(1e3).pipe(Ac(function(){return gf(Aa(X.mark(function i(){return X.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",o._getSession().sendInvitationMessage({peerId:o.callerId,callId:o.callId,extra:o.response,type:"CallAccept",isAcceptAck:!1,channelId:o.channelId}));case 1:case"end":return s.stop()}},i)})))}),sc(function(i){return r=i.hasPeerReceived}),Wb(1)),Bc(this,"RemoteInvitationAccepted")).pipe(Mc(5e3),be(this.remoteInvitationEnd$)).subscribe({error:function(i){if(o.logError(i),o.state=Hc.FAILURE,vc(i))switch(r){case void 0:case!0:return void o.emit("RemoteInvitationFailure",Zl.ACCEPT_FAILURE);case!1:return void o.emit("RemoteInvitationFailure",Zl.PEER_OFFLINE)}o.emit("RemoteInvitationFailure",Zl.UNKNOWN)}})}},{key:"refuse",value:function(){if(this.state===Hc.ACCEPT_SENT_TO_LOCAL)throw new ja("The remote invitation is accepting. Cannot do the operation.",nw);if(this.isRemoteInvitationEnd())throw new ja("The invitation is end. Cannot refuse",Xk);if(8192<Uj(this._response))throw new ka('The length of the "response" overflows. The number of bytes representing content must not exceed 8 \xD7 1024 if encoded in UTF-8.',pe);this._getSession().sendInvitationMessage({peerId:this.callerId,callId:this.callId,extra:this.response,type:"CallReject",channelId:this.channelId}),this.state=Hc.REFUSED,this.emit("RemoteInvitationRefused")}},{key:"onCancelReceived",value:function(r){this.isRemoteInvitationEnd()?this.log("The invitation has ended, skipped emitting the %s event","RemoteInvitationCanceled"):(this.state===Hc.ACCEPT_SENT_TO_LOCAL&&this.log("caller canceled before receive accept"),this._content=r,this.state=Hc.CANCELED,this.emit("RemoteInvitationCanceled",r))}},{key:"onAcceptAckReceived",value:function(){this.state!==Hc.ACCEPT_SENT_TO_LOCAL?this.log("The invitation has ended, skipped emitting the %s event","ori:".concat(this.state,", to: RemoteInvitationAccepted")):(this.state=Hc.ACCEPTED,this.emit("RemoteInvitationAccepted"))}},{key:"isRemoteInvitationEnd",value:function(){return[Hc.ACCEPTED,Hc.REFUSED,Hc.CANCELED,Hc.FAILURE].includes(this.state)}}]),t}(zd()),wP=function(e){function t(r,o){Za(this,t);var i=n.call(this,o,"InvitationManager");return E(K(i),"getSession",void 0),E(K(i),"invitationDispatcher",new ib.EventEmitter),E(K(i),"outgoingLocalInvitations",new Map),E(K(i),"receivedRemoteInvitations",new oe(void 0,{maxlen:1e4})),E(K(i),"logger",void 0),i.getSession=As(r),i.logger=o,i.invitationDispatcher.on("remoteInvitationToManager",function(s){var l=s.callId,u=s.extra,f=s.callerId;s=s.channelId,i.receivedRemoteInvitations.has(l)||((u=new vP({callerId:f,callId:l,getSession:i.getSession,logger:o,extraContent:u,invitationChannel:s})).remoteInvitationEnd$.subscribe(function(){i.receivedRemoteInvitations.delete(l)}),i.receivedRemoteInvitations.set(l,u),i.emit("remoteInvitationInstance",u))}),i.invitationDispatcher.on("acceptAckToRemoteInvitation",function(s){(s=i.receivedRemoteInvitations.get(s.callId))&&s.onAcceptAckReceived()}),i.invitationDispatcher.on("cancelToRemoteInvitation",function(s){var l=s.extra;(s=i.receivedRemoteInvitations.get(s.callId))&&s.onCancelReceived(l)}),i.invitationDispatcher.on("acceptToLocalInvitation",function(s){var l=s.extra;(s=i.outgoingLocalInvitations.get(s.callId))&&s.onAcceptReceived(l)}),i.invitationDispatcher.on("refuseToLocalInvitation",function(s){var l=s.extra;(s=i.outgoingLocalInvitations.get(s.callId))&&s.onRefuseReceived(l)}),i}mb(t,e);var n=nb(t);return Nb(t,[{key:"invitationMessageHandler",value:function(r){var o=r.body,i=o.callId,s=o.extra;s=s===void 0?"":s;var l=o.type,u=(o=o.channel)===void 0?"":o,f=r.type;switch(o=r.peerId,r=r.serverReceivedTs,f){case"CallAccept":l==="ack"?this.invitationDispatcher.emit("acceptAckToRemoteInvitation",{callId:i}):l==="request"&&this.invitationDispatcher.emit("acceptToLocalInvitation",{callId:i,extra:s});break;case"CallInvite":this.invitationDispatcher.emit("remoteInvitationToManager",{callId:i,callerId:o,extra:s,channelId:u});break;case"CallCancel":if(i==="0"){i="".concat("AgoraRTMLegacyEndcallCompatibleMessagePrefix","_").concat(u,"_").concat(s),this.getSession().emit("peerTextMessage",{peerId:o,properties:{serverReceivedTs:r},text:i});break}this.invitationDispatcher.emit("cancelToRemoteInvitation",{callId:i,extra:s});break;case"CallReject":this.invitationDispatcher.emit("refuseToLocalInvitation",{callId:i,extra:s});break;default:throw ls("invitationType",f)}}},{key:"genLocalInvitation",value:function(r){var o=this,i=new uP(r,this.getSession,this.logger);return i.localInvitationEnd$.subscribe(function(){o.outgoingLocalInvitations.delete(i.callId)}),this.outgoingLocalInvitations.set(i.callId,i),i}}]),t}(zd()),xP=function(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError("Expected a function");return Ic(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),AK(e,t,{leading:r,maxWait:t,trailing:o})},kb,Yh;(function(e){e[e.JOINED=0]="JOINED",e[e.LEFT=1]="LEFT"})(Yh||(Yh={}));var we=Va.ConnectionState,yP=(kb=function(e){function t(o,i,s,l){Za(this,t);var u=r.call(this,l,"RtmChannel",!0);return E(K(u),"onMemberCountUpdated",xP(function(f){f!==u.memberCount&&(u.memberCount=f,u.emit("MemberCountUpdated",f))},1e3)),E(K(u),"getSession",void 0),E(K(u),"memberCount",0),E(K(u),"joinState","LEFT"),E(K(u),"joinPromise",void 0),E(K(u),"memberJoinedLru",new oe(void 0,{maxlen:1e4})),E(K(u),"memberLeftLru",new oe(void 0,{maxlen:1e4})),E(K(u),"memberJoinStateLru",new oe(void 0,{maxlen:1e4})),E(K(u),"attributesSeqLru",new oe(void 0,{maxlen:1e4})),E(K(u),"channelId",void 0),E(K(u),"client",void 0),E(K(u),"onChannelMemberCountUpdated",function(f,h){u.channelId===f&&u.onMemberCountUpdated(h)}),E(K(u),"onLogout",function(){try{u.clearChannel(u.getSession())}catch{}}),E(K(u),"onAttributesUpdated",function(f){var h=f.channelId,g=f.attributeMaps,y=f.seq;f=f.instance.toString();var m=u.attributesSeqLru.get(f);if((!m||y.greaterThan(m))&&(u.attributesSeqLru.set(f,y),h===u.channelId)){for(h={},y=0;y<g.length;y++){var R=g[y];f=R.key,m=R.ms;var A=R.value;if(R=R.origin,typeof f!="string"||!U.isLong(m)||typeof A!="string"||!Eb(R))break;h[f]={value:A,lastUpdateUserId:R,lastUpdateTs:m.toNumber()}}u.emit("AttributesUpdated",h)}}),E(K(u),"onChannelTextMessage",function(f){var h=f.memberId,g=f.text,y=f.properties;f.channelId===u.channelId&&u.emit("ChannelMessage",{text:g,messageType:Va.MessageType.TEXT},h,y)}),E(K(u),"onChannelRawMessage",function(f){var h=f.desc,g=f.raw,y=f.memberId,m=f.properties;f.channelId===u.channelId&&u.emit("ChannelMessage",{messageType:Va.MessageType.RAW,rawMessage:g,description:h},y,m)}),E(K(u),"onMemberNotice",function(f){var h=f.memberId,g=f.type,y=f.size;if(f.channelId===u.channelId){var m=f.instance.toString();f=f.seq.toString();var R={MemberLeft:u.memberLeftLru,MemberJoined:u.memberJoinedLru,MemberCountUpdated:void 0}[g];if(R){if(R.has(m+f))return void u.log("received duplicated %s notice (seq: %s), channel '%s', member '%s'",g,f,ub(u.channelId),ub(h||""));if(R.set(m+f,void 0),typeof h!="string")return;if(h!==u.getSession().context.uid&&((m=u.memberJoinStateLru.get(h))===Yh.JOINED&&g==="MemberJoined"||m===Yh.LEFT&&g==="MemberLeft"))return void u.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",g,f,ub(u.channelId),ub(h||""));u.memberJoinStateLru.set(h,g==="MemberJoined"?Yh.JOINED:Yh.LEFT)}u.info("Channel %s - %s, memberId: %s",g,ub(u.channelId),g==="MemberCountUpdated"?"[unknown]":ub(h||"")),m=h===u.getSession().context.uid,g==="MemberLeft"&&Eb(h)||g==="MemberJoined"&&Eb(h)?(m||u.emit(g,h),u.onMemberCountUpdated(y)):g==="MemberCountUpdated"&&typeof y=="number"&&u.onMemberCountUpdated(y)}}),u.getSession=As(i),u.channelId=o,u.client=s,u.info("A channel created, id %s",ub(o)),u}mb(t,e);var n,r=nb(t);return Nb(t,[{key:"join",value:(n=Aa(X.mark(function o(){var i,s,l,u,f,h,g,y=this;return X.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:m.prev=0,i=this.getSession(),m.next=7;break;case 4:throw m.prev=4,m.t0=m.catch(0),new ja("The client is not logged in. Cannot do the operation",sw);case 7:if(m.prev=7,Eb(this.channelId)){m.next=10;break}throw new ka(["The %s in the arguments is invalid","channelId"],oI);case 10:if(this.joinState==="LEFT"){m.next=13;break}throw Qb("ChnJoin",{cname:this.channelId,lts:U.fromNumber(Date.now()),userId:i.context.uid,elapse:Kb(i.startTime),errCode:rw,sid:fc(i.instanceId)},(u=this.client.context.config.enableCloudProxy)!==null&&u!==void 0&&u),new ja("The channel has joined. Cannot rejoin",rw);case 13:if(!i.usedChannelIds.includes(this.channelId)){m.next=16;break}throw Qb("ChnJoin",{cname:this.channelId,lts:U.fromNumber(Date.now()),userId:i.context.uid,elapse:Kb(i.startTime),errCode:tw,sid:fc(i.instanceId)},(f=this.client.context.config.enableCloudProxy)!==null&&f!==void 0&&f),new ja("A channel of the same channel ID has already joined. Cannot rejoin",tw);case 16:if(!(20<=i.usedChannelIds.length)){m.next=19;break}throw Qb("ChnJoin",{cname:this.channelId,lts:U.fromNumber(Date.now()),userId:i.context.uid,elapse:Kb(i.startTime),errCode:qw,sid:fc(i.instanceId)},(h=this.client.context.config.enableCloudProxy)!==null&&h!==void 0&&h),new qd("The joined channels has exceeded the limit of 20",qw);case 19:return Qb("ChnJoin",{cname:this.channelId,lts:U.fromNumber(Date.now()),userId:i.context.uid,elapse:Kb(i.startTime),errCode:0,sid:fc(i.instanceId)},(s=this.client.context.config.enableCloudProxy)!==null&&s!==void 0&&s),this.log("Joining the channel %s",ub(this.channelId)),this.joinState="JOINING",i.usedChannelIds.push(this.channelId),this.joinPromise=i.requestChannelJoin(this.channelId).then(function(){y.joinState="JOINED"}),m.next=26,this.joinPromise;case 26:Qb("ChnJoinRes",{cname:this.channelId,lts:U.fromNumber(Date.now()),elapse:Kb(i.startTime),errCode:0,sid:fc(i.instanceId),serverErrCode:0,userId:i.context.uid},(l=this.client.context.config.enableCloudProxy)!==null&&l!==void 0&&l),this.info("The channel %s joined successfully",ub(this.channelId)),i.on("channelTextMessage",this.onChannelTextMessage),i.on("channelRawMessage",this.onChannelRawMessage),i.on("memberNotice",this.onMemberNotice),i.on("channelAttributesUpdated",this.onAttributesUpdated),this.client.internalEmitter.on("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.once("LOGOUT",this.onLogout),m.next=46;break;case 36:if(m.prev=36,m.t1=m.catch(7),this.joinState==="JOINING"&&(this.joinState="LEFT"),this.logError(m.t1),!Ra(m.t1)){m.next=42;break}throw m.t1;case 42:if(!vc(m.t1)){m.next=45;break}throw Qb("ChnJoinRes",{cname:this.channelId,lts:U.fromNumber(Date.now()),elapse:Kb(i.startTime),errCode:pw,sid:fc(i.instanceId),serverErrCode:0,userId:i.context.uid},(g=this.client.context.config.enableCloudProxy)!==null&&g!==void 0&&g),new Yc(["Join channel %s timed out",ub(this.channelId)],pw);case 45:throw new ed(["The channel %s join failure",ub(this.channelId)],{code:ow,originalError:m.t1});case 46:case"end":return m.stop()}},o,this,[[0,4],[7,36]])})),function(){return n.apply(this,arguments)})},{key:"leave",value:function(){var o=Aa(X.mark(function i(){var s,l,u,f;return X.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:h.prev=0,l=this.getSession(),h.next=7;break;case 4:throw h.prev=4,h.t0=h.catch(0),new ja("The client is not logged in. Cannot do the operation",qI);case 7:if(this.joinState!=="LEFT"){h.next=9;break}throw new ja("The channel does not join. Cannot do the operation",pI);case 9:return h.prev=9,l.requestChannelLeave(this.channelId),h.next=13,this.clearChannel(l);case 13:h.next=24;break;case 15:if(h.prev=15,h.t1=h.catch(9),this.logError(h.t1),!Ra(h.t1)){h.next=22;break}throw h.t1.code===void 0&&(h.t1.code=vw),Qb("ChnLeave",{cname:this.channelId,lts:U.fromNumber(Date.now()),elapse:Kb(l.startTime),errCode:vw,sid:fc(l.instanceId),userId:l.context.uid},(f=this.client.context.config.enableCloudProxy)!==null&&f!==void 0&&f),h.t1;case 22:throw Qb("ChnLeave",{cname:this.channelId,lts:U.fromNumber(Date.now()),elapse:Kb(l.startTime),errCode:uw,sid:fc(l.instanceId),userId:l.context.uid},(u=this.client.context.config.enableCloudProxy)!==null&&u!==void 0&&u),new ed("The channel leave failure",{code:uw,originalError:h.t1});case 24:Qb("ChnLeave",{cname:this.channelId,lts:U.fromNumber(Date.now()),elapse:Kb(l.startTime),errCode:0,sid:fc(l.instanceId),userId:l.context.uid},(s=this.client.context.config.enableCloudProxy)!==null&&s!==void 0&&s);case 25:case"end":return h.stop()}},i,this,[[0,4],[9,15]])}));return function(){return o.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var o=Aa(X.mark(function i(s){var l,u=this;return X.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(rs(s,$o),this.client.connectionState!==we.CONNECTED||this.joinState==="JOINED"){f.next=3;break}throw new ja("The channel does not join. Cannot do the operation",gI);case 3:if(this.client.connectionState!==we.RECONNECTING){f.next=8;break}return l=Date.now(),f.next=7,new Promise(function(h,g){var y,m=(y=Aa(X.mark(function A(){var k;return X.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return k=Date.now()-l,I.prev=1,I.next=4,Sj({message:s,peerId:u.channelId,toPeer:!1,session:u.getSession(),errorCodes:{NOT_LOGGED_IN:ap,TOO_OFTEN:jw},diff:k,logger:u.logger});case 4:h(),I.next=12;break;case 7:I.prev=7,I.t0=I.catch(1),vc(I.t0)&&g(new Yc(qg(u.name,"sendMessageToPeer",1e4),Zo)),Ra(I.t0)&&g(I.t0),g(new wa("Channel message send failure",{code:Wk,originalError:I.t0}));case 12:return I.prev=12,clearTimeout(R),I.finish(12);case 15:case"end":return I.stop()}},A,null,[[1,7,12,15]])})),function(){return y.apply(this,arguments)});u.client.internalEmitter.once("RECONNECTED",m);var R=setTimeout(function(){u.client.internalEmitter.off("RECONNECTED",m),g(new Yc(qg(u.name,"sendMessageToPeer",1e4),Zo))},9e3)});case 7:return f.abrupt("return");case 8:if(this.client.connectionState===we.CONNECTED){f.next=10;break}throw new ja("The client is not logged in. Cannot do the operation",ap);case 10:return f.prev=10,f.next=13,Sj({message:s,peerId:this.channelId,toPeer:!1,session:this.getSession(),errorCodes:{NOT_LOGGED_IN:ap,TOO_OFTEN:jw},diff:0,logger:this.logger});case 13:f.next=23;break;case 15:if(f.prev=15,f.t0=f.catch(10),!vc(f.t0)){f.next=19;break}throw new Yc(qg(this.name,"sendMessage",1e4),Zo);case 19:if(!Ra(f.t0)){f.next=22;break}throw this.logError(f.t0),f.t0;case 22:throw new ed("The channel message send failure",Wk);case 23:case"end":return f.stop()}},i,this,[[10,15]])}));return function(i){return o.apply(this,arguments)}}()},{key:"getChannelMetadata",value:function(){var o=Aa(X.mark(function i(){var s,l;return X.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,this.client.connectionState===we.CONNECTED){u.next=3;break}throw new ja("The client is not logged in. Cannot do the operation",Ud);case 3:if(this.joinState==="JOINED"){u.next=5;break}throw new ja("The channel does not join. Cannot do the operation",BI);case 5:return s=this.getSession().requestGetChannelMetaData(this.channelId),u.next=8,s.pipe(jb(function(f){return Yj(f.allStates)})).toPromise();case 8:return l=u.sent,u.abrupt("return",l);case 12:if(u.prev=12,u.t0=u.catch(0),!Ra(u.t0)){u.next=17;break}throw this.logError(u.t0),u.t0;case 17:throw new ed("The channel metadata get failure",fp);case 18:case"end":return u.stop()}},i,this,[[0,12]])}));return function(){return o.apply(this,arguments)}}()},{key:"setChannelMetadata",value:function(){var o=Aa(X.mark(function i(s,l){var u;return X.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.prev=0,this.client.connectionState===we.CONNECTED){f.next=3;break}throw new ja("The client is not logged in. Cannot do the operation",Bh);case 3:if(this.joinState==="JOINED"){f.next=5;break}throw new ja("The channel does not join. Cannot do the operation",Ah);case 5:return u=this.getSession().requestSetChannelMetadata(s,l,this.channelId),f.next=8,u;case 8:f.next=16;break;case 10:if(f.prev=10,f.t0=f.catch(0),!Ra(f.t0)){f.next=15;break}throw this.logError(f.t0),f.t0;case 15:throw new ed("The channel metadata set failure",Ec);case 16:case"end":return f.stop()}},i,this,[[0,10]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"clearChannelMetadata",value:function(){var o=Aa(X.mark(function i(s){var l;return X.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,this.client.connectionState===we.CONNECTED){u.next=3;break}throw new ja("The client is not logged in. Cannot do the operation",Bh);case 3:if(this.joinState==="JOINED"){u.next=5;break}throw new ja("The channel does not join. Cannot do the operation",Ah);case 5:return l=this.getSession().requestClearChannelMetadata(s,this.channelId),u.next=8,l;case 8:u.next=16;break;case 10:if(u.prev=10,u.t0=u.catch(0),!Ra(u.t0)){u.next=15;break}throw this.logError(u.t0),u.t0;case 15:throw new ed("The channel metadata clear failure",Ec);case 16:case"end":return u.stop()}},i,this,[[0,10]])}));return function(i){return o.apply(this,arguments)}}()},{key:"addChannelMetadata",value:function(){var o=Aa(X.mark(function i(s,l){var u;return X.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.prev=0,this.client.connectionState===we.CONNECTED){f.next=3;break}throw new ja("The client is not logged in. Cannot do the operation",Bh);case 3:if(this.joinState==="JOINED"){f.next=5;break}throw new ja("The channel does not join. Cannot do the operation",Ah);case 5:return u=this.getSession().requestAddChannelMetadata(s,l,this.channelId),f.next=8,u;case 8:f.next=16;break;case 10:if(f.prev=10,f.t0=f.catch(0),!Ra(f.t0)){f.next=15;break}throw this.logError(f.t0),f.t0;case 15:throw new ed("The channel metadata clear failure",Ec);case 16:case"end":return f.stop()}},i,this,[[0,10]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"updateChannelMetadata",value:function(){var o=Aa(X.mark(function i(s,l){var u;return X.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.prev=0,this.client.connectionState===we.CONNECTED){f.next=3;break}throw new ja("The client is not logged in. Cannot do the operation",Bh);case 3:if(this.joinState==="JOINED"){f.next=5;break}throw new ja("The channel does not join. Cannot do the operation",Ah);case 5:return u=this.getSession().requestUpdateChannelMetadata(s,l,this.channelId),f.next=8,u;case 8:f.next=16;break;case 10:if(f.prev=10,f.t0=f.catch(0),!Ra(f.t0)){f.next=15;break}throw this.logError(f.t0),f.t0;case 15:throw new ed("The channel metadata clear failure",Ec);case 16:case"end":return f.stop()}},i,this,[[0,10]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"deleteChannelMetadata",value:function(){var o=Aa(X.mark(function i(s,l){var u;return X.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.prev=0,this.client.connectionState===we.CONNECTED){f.next=3;break}throw new ja("The client is not logged in. Cannot do the operation",Bh);case 3:if(this.joinState==="JOINED"){f.next=5;break}throw new ja("The channel does not join. Cannot do the operation",Ah);case 5:return u=this.getSession().requestDeleteChannelMetadata(s,l,this.channelId),f.next=8,u;case 8:f.next=16;break;case 10:if(f.prev=10,f.t0=f.catch(0),!Ra(f.t0)){f.next=15;break}throw this.logError(f.t0),f.t0;case 15:throw new ed("The channel metadata clear failure",Ec);case 16:case"end":return f.stop()}},i,this,[[0,10]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"getMembers",value:function(){var o=Aa(X.mark(function i(){var s,l;return X.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,this.client.connectionState===we.CONNECTED){u.next=3;break}throw new ja("The client is not logged in. Cannot do the operation",Bh);case 3:if(this.joinState==="JOINED"){u.next=5;break}throw new ja("The channel does not join. Cannot do the operation",Ah);case 5:return s=this.getSession().requestChannelMemberList(this.channelId),u.next=8,s.pipe(jb(function(f){return f.memberInfos.map(function(h){return h.account})})).toPromise();case 8:return l=u.sent,this.info("Channel %s - get members success, %o",ub(this.channelId),l.map(ub)),u.abrupt("return",l);case 13:if(u.prev=13,u.t0=u.catch(0),!Ra(u.t0)){u.next=18;break}throw this.logError(u.t0),u.t0;case 18:throw new ed("The channel members get failure",kI);case 19:case"end":return u.stop()}},i,this,[[0,13]])}));return function(){return o.apply(this,arguments)}}()},{key:"clearChannel",value:function(){var o=Aa(X.mark(function i(s){var l=this;return X.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(s.emit("channelLeft",this.channelId),this.joinState!=="JOINING"){u.next=4;break}return u.next=4,this.joinPromise;case 4:this.joinState="LEFT",this.memberLeftLru.empty(),this.memberJoinedLru.empty(),this.attributesSeqLru.empty(),this.memberJoinStateLru.empty(),this.memberCount=0,s.removeListener("channelTextMessage",this.onChannelTextMessage),s.removeListener("channelRawMessage",this.onChannelRawMessage),s.removeListener("memberNotice",this.onMemberNotice),s.removeListener("channelAttributesUpdated",this.onAttributesUpdated),this.client.internalEmitter.removeListener("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.removeListener("LOGOUT",this.onLogout),s.usedChannelIds=s.usedChannelIds.filter(function(f){return f!==l.channelId});case 17:case"end":return u.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()}]),t}(zd()),Oa(kb.prototype,"join",[de],Object.getOwnPropertyDescriptor(kb.prototype,"join"),kb.prototype),Oa(kb.prototype,"leave",[de],Object.getOwnPropertyDescriptor(kb.prototype,"leave"),kb.prototype),Oa(kb.prototype,"sendMessage",[de],Object.getOwnPropertyDescriptor(kb.prototype,"sendMessage"),kb.prototype),Oa(kb.prototype,"getChannelMetadata",[eb],Object.getOwnPropertyDescriptor(kb.prototype,"getChannelMetadata"),kb.prototype),Oa(kb.prototype,"setChannelMetadata",[eb],Object.getOwnPropertyDescriptor(kb.prototype,"setChannelMetadata"),kb.prototype),Oa(kb.prototype,"clearChannelMetadata",[eb],Object.getOwnPropertyDescriptor(kb.prototype,"clearChannelMetadata"),kb.prototype),Oa(kb.prototype,"addChannelMetadata",[eb],Object.getOwnPropertyDescriptor(kb.prototype,"addChannelMetadata"),kb.prototype),Oa(kb.prototype,"updateChannelMetadata",[eb],Object.getOwnPropertyDescriptor(kb.prototype,"updateChannelMetadata"),kb.prototype),Oa(kb.prototype,"deleteChannelMetadata",[eb],Object.getOwnPropertyDescriptor(kb.prototype,"deleteChannelMetadata"),kb.prototype),Oa(kb.prototype,"getMembers",[eb],Object.getOwnPropertyDescriptor(kb.prototype,"getMembers"),kb.prototype),kb),ha,Vc=Va.ConnectionChangeReason,Ga=Va.ConnectionState,yA={DISCONNECTED:1,CONNECTING:2,CONNECTED:3,RECONNECTING:4,ABORTED:5},zP={LOGIN:1,LOGIN_SUCCESS:2,LOGIN_FAILURE:3,LOGIN_TIMEOUT:4,INTERRUPTED:5,LOGOUT:6,BANNED_BY_SERVER:7,REMOTE_LOGIN:8,TOKEN_EXPIRED:9},AP=(ha=function(e){function t(o,i,s,l){Za(this,t);var u=r.call(this,i,"RtmClient",!0);return E(K(u),"connectionState",Ga.DISCONNECTED),E(K(u),"internalEmitter",new ib),E(K(u),"context",void 0),E(K(u),"attributes",{}),E(K(u),"loginPromise",void 0),E(K(u),"attributeDrafts",new Set),E(K(u),"session",void 0),E(K(u),"lastLoginTime",void 0),E(K(u),"reconnId",0),E(K(u),"channelAttributesCacheLru",new oe(void 0,{maxlen:1e4})),E(K(u),"invitationManager",void 0),E(K(u),"subscribedPeerStatusCache",{}),E(K(u),"pendingPeerStatusSubCount",0),E(K(u),"peerStatusSeqLru",new oe(void 0,{maxlen:1e4})),E(K(u),"peerUnreachableTimers",{}),E(K(u),"setParameters",void 0),E(K(u),"updateConfig",void 0),E(K(u),"blacklistedIP",{}),E(K(u),"TokenPrivilegeWillExpireHandler",function(){u.emit("TokenPrivilegeWillExpire")}),E(K(u),"channelMetaDataUpdatedHandler",function(f){u.emit("ChannelMetaDataUpdated",f)}),E(K(u),"userMetaDataUpdatedHandler",function(f){u.emit("UserMetaDataUpdated",f.uid,f.data)}),E(K(u),"userDropHandler",function(f){if(u.connectionState!==Ga.ABORTED)switch(f){case 2:u.logError("Server banned because of token is expired"),u.onConnectionStateChanged(Ga.ABORTED,Vc.TOKEN_EXPIRED),u.emit("TokenExpired");break;case 11:u.logError("Kicked off by remote session"),u.onConnectionStateChanged(Ga.ABORTED,Vc.REMOTE_LOGIN);break;case 14:case 15:case 16:u.logError("Server banned because of illegal ".concat({14:"User ID",15:"IP",16:"Channel Name"}[f])),u.onConnectionStateChanged(Ga.ABORTED,Vc.BANNED_BY_SERVER);break;default:u.logError("User kicked off for unknown code: ".concat(f)),u.onConnectionStateChanged(Ga.ABORTED,Vc.INTERRUPTED)}}),u.context=new qL(o,s,i),u.context.config=s,u.setParameters=l.bind(K(u)),u.updateConfig=l.bind(K(u)),u.invitationManager=new wP(function(){return u.session},i),u.invitationManager.on("remoteInvitationInstance",function(f){u.emit("RemoteInvitationReceived",f)}),u.setMaxListeners(512),u.internalEmitter.setMaxListeners(512),u}mb(t,e);var n,r=nb(t);return Nb(t,[{key:"renewToken",value:(n=Aa(X.mark(function o(i){var s,l,u,f,h=this;return X.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(typeof i=="string"&&i.length!==0){g.next=2;break}throw new ka("Invalid argument",xI);case 2:if(this.connectionState!==Ga.ABORTED){g.next=5;break}return g.next=5,new Promise(function(){});case 5:if(this.connectionState===Ga.CONNECTED||this.connectionState===Ga.RECONNECTING){g.next=7;break}throw new ja("The client is not logged in",Ew);case 7:if(this.session!==void 0){g.next=9;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return g.prev=9,s=this.context.token,this.context.token=i,g.next=14,this.session.connection.apClient.getApEdgeInfo$(!1).pipe(Uf(function(){return Error("No available edge address to connect")}),Tg(function(y){return y.pipe(Ia(function(m){if(Ra(m))throw m}),Tf(2500),Wb(4))}),Wb(1),Mc(2e4),Pb(function(y){return vc(y)&&h.warn("renewToken timed out"),Ua(y)})).toPromise();case 14:l=g.sent,u=l.ticket,g.next=27;break;case 18:if(g.prev=18,g.t0=g.catch(9),this.context.token=s,g.t0.code!==xw&&g.t0.code!==yw){g.next=23;break}throw new Dh("Invalid token",zI);case 23:if(g.t0.code!==Zk){g.next=25;break}throw new Dh("The token expired",yI);case 25:if(!vc(g.t0)){g.next=27;break}throw new Yc("Renew token timed out",dp);case 27:f=this.session,this.session.requestUpdateEdgeTicket(u).toPromise().then(function(y){if(y.code!==0)throw new wa(["RenewToken failure. The response code is %d",y.code],dp);f.curLoginSockets.filter(function(m){return m!==void 0}).forEach(function(m){return m.ticket=u})});case 29:case"end":return g.stop()}},o,this,[[9,18]])})),function(o){return n.apply(this,arguments)})},{key:"queryPeersOnlineStatus",value:function(){var o=Aa(X.mark(function i(s){var l,u,f=this;return X.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.connectionState===Ga.CONNECTED){h.next=2;break}throw new ja("The client is not logged in",wI);case 2:if(this.session!==void 0){h.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(!(!Array.isArray(s)||s.length===0||s.some(function(g){return!Eb(g)})||256<s.length)){h.next=6;break}throw new ka("invalid arguments",Dw);case 6:return h.next=8,this.session.requestPeersOnlineStatus(s).toPromise();case 8:return l=h.sent,u=Ke(Lo(l.userInfos,"account"),function(g){return!!g.ts}),Object.keys(u).forEach(function(g){if(g in f.subscribedPeerStatusCache&&f.subscribedPeerStatusCache[g]!==Va.PeerOnlineState.UNREACHABLE){var y=u[g]?Va.PeerOnlineState.ONLINE:Va.PeerOnlineState.OFFLINE;f.emit("PeersOnlineStatusChanged",E({},g,y)),f.subscribedPeerStatusCache[g]=y}}),h.abrupt("return",u);case 12:case"end":return h.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"getChannelMemberCount",value:function(){var o=Aa(X.mark(function i(s){var l,u,f,h,g,y,m,R,A;return X.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(this.connectionState===Ga.CONNECTED){k.next=2;break}throw new ja("The client is not logged in",jI);case 2:if(this.session!==void 0){k.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(s)&&s.every(function(I){return typeof I=="string"})&&s.length!==0){k.next=6;break}throw new ka("Invalid arguments: channelIds",lw);case 6:if(!(32<s.length)){k.next=8;break}throw new ka("getChannelMemberCount exceed limit of 32 channelIds",iI);case 8:l=0;case 9:if(!(l<s.length)){k.next=16;break}if(Eb(u=s[l])){k.next=13;break}throw new ka(["getChannelMemberCount channel id %s is invalid",u],lw);case 13:l++,k.next=9;break;case 16:return k.next=18,this.session.requestGetChannelMemberCount(s).toPromise();case 18:for(f=k.sent,h=f.groupInfos,g={},y=0;y<h.length;y++)m=h[y],R=m.group,A=m.memberCount,Eb(R)&&typeof A=="number"&&(this.internalEmitter.emit("channelMemberCountUpdated",R,A),g[R]=A);return k.abrupt("return",g);case 23:case"end":return k.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"setLocalUserAttributes",value:function(){var o=Aa(X.mark(function i(s){var l,u;return X.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(qi({attributes:s,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===Ga.CONNECTED){f.next=3;break}throw new ja("The client is not logged in",yd);case 3:if(this.session!==void 0){f.next=5;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return l=this.session.requestSetLocalUserAttributes(s).toPromise(),u={attribute:s,promise:l},this.attributeDrafts.add(u),f.prev=8,f.next=11,l;case 11:this.attributes=s,f.next=19;break;case 14:if(f.prev=14,f.t0=f.catch(8),!Ra(f.t0)){f.next=18;break}throw f.t0;case 18:throw new ka("arguments is not valid",Tb);case 19:return f.prev=19,this.attributeDrafts.delete(u),f.finish(19);case 22:case"end":return f.stop()}},i,this,[[8,14,19,22]])}));return function(i){return o.apply(this,arguments)}}()},{key:"setChannelAttributes",value:function(){var o=Aa(X.mark(function i(s,l){var u,f,h,g,y,m=arguments;return X.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(u=2<m.length&&m[2]!==void 0?m[2]:{},f=u.enableNotificationToChannelMembers,h=f!==void 0&&f,qi({attributes:l,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===Ga.CONNECTED){R.next=4;break}throw new ja("The client is not logged in",yd);case 4:if(this.session!==void 0){R.next=6;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return g=this.session.requestSetChannelAttributes(s,l,h).toPromise(),R.prev=7,R.next=10,g;case 10:y=Ke(l,function(A){return new Blob([A]).size}),this.channelAttributesCacheLru.set(s,y),R.next=19;break;case 14:if(R.prev=14,R.t0=R.catch(7),!Ra(R.t0)){R.next=18;break}throw R.t0;case 18:throw new ka("arguments is not valid",Tb);case 19:case"end":return R.stop()}},i,this,[[7,14]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"addOrUpdateLocalUserAttributes",value:function(){var o=Aa(X.mark(function i(s){var l,u,f;return X.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l=Jb(Jb({},this.attributes),s),qi({attributes:s,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),qi({attributes:l,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===Ga.CONNECTED){h.next=5;break}throw new ja("The client is not logged in",yd);case 5:if(this.session!==void 0){h.next=7;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return u=this.session.requestAddOrUpdateLocalUserAttributes(s).toPromise(),f={attribute:l,promise:u},this.attributeDrafts.add(f),h.prev=10,h.next=13,u;case 13:this.attributes=l,h.next=21;break;case 16:if(h.prev=16,h.t0=h.catch(10),!Ra(h.t0)){h.next=20;break}throw h.t0;case 20:throw new ka("arguments is not valid",Dw);case 21:return h.prev=21,this.attributeDrafts.delete(f),h.finish(21);case 24:case"end":return h.stop()}},i,this,[[10,16,21,24]])}));return function(i){return o.apply(this,arguments)}}()},{key:"addOrUpdateChannelAttributes",value:function(){var o=Aa(X.mark(function i(s,l){var u,f,h,g,y,m,R,A=arguments;return X.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(u=2<A.length&&A[2]!==void 0?A[2]:{},f=u.enableNotificationToChannelMembers,h=f!==void 0&&f,g=this.channelAttributesCacheLru.get(s,{}),y=Ke(l,function(I){return new Blob([I]).size}),m=Jb(Jb({},g),y),qi({attributes:l,attrSizeMap:m,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===Ga.CONNECTED){k.next=7;break}throw new ja("The client is not logged in",yd);case 7:if(this.session!==void 0){k.next=9;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return R=this.session.requestAddOrUpdateChannelAttributes(s,l,h).toPromise(),k.prev=10,k.next=13,R;case 13:this.channelAttributesCacheLru.set(s,m),k.next=21;break;case 16:if(k.prev=16,k.t0=k.catch(10),!Ra(k.t0)){k.next=20;break}throw k.t0;case 20:throw new ka("arguments is not valid",Tb);case 21:case"end":return k.stop()}},i,this,[[10,16]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"deleteLocalUserAttributesByKeys",value:function(){var o=Aa(X.mark(function i(s){var l,u,f,h;return X.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(Array.isArray(s)&&s.length!==0&&!s.some(function(y){return y.length===0})){g.next=2;break}throw new ja("arguments is not valid",Tb);case 2:if(this.connectionState===Ga.CONNECTED){g.next=4;break}throw new ja("The client is not logged in",yd);case 4:if(this.session!==void 0){g.next=6;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return l=this.session.requestDeleteLocalUserAttributesByKeys(s).toPromise(),u={attribute:Io(this.attributes,s),promise:l},this.attributeDrafts.add(u),g.prev=9,g.next=12,l;case 12:for(f=0;f<s.length;f++)h=s[f],delete this.attributes[h];g.next=20;break;case 15:if(g.prev=15,g.t0=g.catch(9),!Ra(g.t0)){g.next=19;break}throw g.t0;case 19:throw new ka("arguments is not valid",Tb);case 20:return g.prev=20,this.attributeDrafts.delete(u),g.finish(20);case 23:case"end":return g.stop()}},i,this,[[9,15,20,23]])}));return function(i){return o.apply(this,arguments)}}()},{key:"deleteChannelAttributesByKeys",value:function(){var o=Aa(X.mark(function i(s,l){var u,f,h,g,y,m,R,A=arguments;return X.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(u=2<A.length&&A[2]!==void 0?A[2]:{},f=u.enableNotificationToChannelMembers,h=f!==void 0&&f,Array.isArray(l)&&l.length!==0&&Eb(s)&&!l.some(function(I){return I.length===0||512<I.length})){k.next=3;break}throw new ja("arguments is not valid",Tb);case 3:if(this.connectionState===Ga.CONNECTED){k.next=5;break}throw new ja("The client is not logged in",yd);case 5:if(this.session!==void 0){k.next=7;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return g=this.session.requestDeleteChannelAttributesByKeys(s,l,h).toPromise(),k.prev=8,k.next=11,g;case 11:if(y=this.channelAttributesCacheLru.get(s))for(m=0;m<l.length;m++)R=l[m],delete y[R];k.next=20;break;case 15:if(k.prev=15,k.t0=k.catch(8),!Ra(k.t0)){k.next=19;break}throw k.t0;case 19:throw new ka("arguments is not valid",Tb);case 20:case"end":return k.stop()}},i,this,[[8,15]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"clearLocalUserAttributes",value:function(){var o=Aa(X.mark(function i(){var s,l;return X.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectionState===Ga.CONNECTED){u.next=2;break}throw new ja("The client is not logged in",yd);case 2:if(this.session!==void 0){u.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return s=this.session.requestClearLocalUserAttributes().toPromise(),l={attribute:{},promise:s},this.attributeDrafts.add(l),u.prev=7,u.next=10,s;case 10:this.attributes={},u.next=18;break;case 13:if(u.prev=13,u.t0=u.catch(7),!Ra(u.t0)){u.next=17;break}throw u.t0;case 17:throw new ka("arguments is not valid",Tb);case 18:return u.prev=18,this.attributeDrafts.delete(l),u.finish(18);case 21:case"end":return u.stop()}},i,this,[[7,13,18,21]])}));return function(){return o.apply(this,arguments)}}()},{key:"clearChannelAttributes",value:function(){var o=Aa(X.mark(function i(s){var l,u,f,h,g=arguments;return X.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(l=1<g.length&&g[1]!==void 0?g[1]:{},u=l.enableNotificationToChannelMembers,f=u!==void 0&&u,this.connectionState===Ga.CONNECTED){y.next=3;break}throw new ja("The client is not logged in",yd);case 3:if(this.session!==void 0){y.next=5;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return h=this.session.requestClearChannelAttributes(s,f).toPromise(),y.prev=6,y.next=9,h;case 9:this.channelAttributesCacheLru.delete(s),y.next=17;break;case 12:if(y.prev=12,y.t0=y.catch(6),!Ra(y.t0)){y.next=16;break}throw y.t0;case 16:throw new ka("arguments is not valid",Tb);case 17:case"end":return y.stop()}},i,this,[[6,12]])}));return function(i){return o.apply(this,arguments)}}()},{key:"getUserAttributes",value:function(){var o=Aa(X.mark(function i(s){var l,u,f;return X.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(Eb(s)){h.next=2;break}throw new ka("Not a valid user ID",Tb);case 2:if(this.connectionState===Ga.CONNECTED){h.next=4;break}throw new ja("The client is not logged in",yd);case 4:if(this.session!==void 0){h.next=6;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return h.prev=6,h.next=9,this.session.requestGetUserAttributeKeys(s).toPromise();case 9:return l=h.sent,u=l.keys,h.next=13,this.session.requestGetUserAttributesByKeys(s,u.slice(0,512)).toPromise();case 13:f=h.sent,h.next=21;break;case 16:if(h.prev=16,h.t0=h.catch(6),!Ra(h.t0)){h.next=20;break}throw h.t0;case 20:throw new ka("arguments is not valid",Tb);case 21:return h.abrupt("return",vv(f.attributeInfos.map(function(g){return[g.key,g.value]})));case 22:case"end":return h.stop()}},i,this,[[6,16]])}));return function(i){return o.apply(this,arguments)}}()},{key:"getChannelAttributes",value:function(){var o=Aa(X.mark(function i(s){var l,u,f,h,g,y,m,R,A,k,I;return X.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(Eb(s)){N.next=2;break}throw new ka("Not a valid channel ID",Tb);case 2:if(this.connectionState===Ga.CONNECTED){N.next=4;break}throw new ja("The client is not logged in",yd);case 4:if(this.session!==void 0){N.next=6;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return N.prev=6,N.next=9,this.session.requestGetChannelAttributesKeys(s).toPromise();case 9:return l=N.sent,u=l.keys,N.next=13,this.session.requestGetChannelAttributesByKeys(s,u).toPromise();case 13:f=N.sent,h=f.attributeMaps,N.next=22;break;case 17:if(N.prev=17,N.t0=N.catch(6),!Ra(N.t0)){N.next=21;break}throw N.t0;case 21:throw new ka("arguments is not valid",Tb);case 22:g={},y=0;case 24:if(!(y<h.length)){N.next=32;break}if(m=h[y],R=m.key,A=m.ms,k=m.value,I=m.origin,typeof R=="string"&&U.isLong(A)&&typeof k=="string"&&Eb(I)){N.next=28;break}return N.abrupt("break",32);case 28:g[R]={value:k,lastUpdateUserId:I,lastUpdateTs:A.toNumber()};case 29:y++,N.next=24;break;case 32:return this.channelAttributesCacheLru.set(s,Ke(g,function(C){return new Blob([C.value]).size})),N.abrupt("return",g);case 34:case"end":return N.stop()}},i,this,[[6,17]])}));return function(i){return o.apply(this,arguments)}}()},{key:"getChannelAttributesByKeys",value:function(){var o=Aa(X.mark(function i(s,l){var u,f,h,g,y,m,R,A,k,I;return X.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(this.connectionState===Ga.CONNECTED){N.next=2;break}throw new ja("The client is not logged in",yd);case 2:if(this.session!==void 0){N.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return ks(s,l),N.prev=5,N.next=8,this.session.requestGetChannelAttributesByKeys(s,l).toPromise();case 8:u=N.sent,f=u.attributeMaps,N.next=17;break;case 12:if(N.prev=12,N.t0=N.catch(5),!Ra(N.t0)){N.next=16;break}throw N.t0;case 16:throw new ka("arguments is not valid",Tb);case 17:h={},g=this.channelAttributesCacheLru.get(s,{}),y=0;case 20:if(!(y<f.length)){N.next=29;break}if(m=f[y],R=m.key,A=m.ms,k=m.value,I=m.origin,typeof R=="string"&&U.isLong(A)&&typeof k=="string"&&Eb(I)){N.next=24;break}return N.abrupt("break",29);case 24:g[R]=new Blob([k]).size,h[R]={value:k,lastUpdateUserId:I,lastUpdateTs:A.toNumber()};case 26:y++,N.next=20;break;case 29:return this.channelAttributesCacheLru.set(s,g),N.abrupt("return",h);case 31:case"end":return N.stop()}},i,this,[[5,12]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"getUserAttributesByKeys",value:function(){var o=Aa(X.mark(function i(s,l){var u;return X.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.connectionState===Ga.CONNECTED){f.next=2;break}throw new ja("The client is not logged in",yd);case 2:if(this.session!==void 0){f.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return ks(s,l),f.prev=5,f.next=8,this.session.requestGetUserAttributesByKeys(s,l).toPromise();case 8:u=f.sent,f.next=16;break;case 11:if(f.prev=11,f.t0=f.catch(5),!Ra(f.t0)){f.next=15;break}throw f.t0;case 15:throw new ka("arguments is not valid",Tb);case 16:return f.abrupt("return",vv(u.attributeInfos.map(function(h){return[h.key,h.value]})));case 17:case"end":return f.stop()}},i,this,[[5,11]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"getUserMetadata",value:function(){var o=Aa(X.mark(function i(s){var l,u,f;return X.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.connectionState===Ga.CONNECTED){h.next=2;break}throw new ja("The client is not logged in",Ud);case 2:if(this.session!==void 0){h.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return h.prev=4,h.next=7,this.session.requestGetLocalMetaData(s).toPromise();case 7:return l=h.sent,u=l.allStates,f=Yj(u),h.abrupt("return",f);case 13:if(h.prev=13,h.t0=h.catch(4),!Ra(h.t0)){h.next=17;break}throw h.t0;case 17:throw new ka("arguments is not valid",wb);case 18:case"end":return h.stop()}},i,this,[[4,13]])}));return function(i){return o.apply(this,arguments)}}()},{key:"setLocalUserMetadata",value:function(){var o=Aa(X.mark(function i(s,l){return X.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectionState===Ga.CONNECTED){u.next=2;break}throw new ja("The client is not logged in",Ud);case 2:if(this.session!==void 0){u.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return u.prev=4,u.next=7,this.session.requestSetLocalMetadata(s,l).toPromise();case 7:u.next=14;break;case 9:if(u.prev=9,u.t0=u.catch(4),!Ra(u.t0)){u.next=13;break}throw u.t0;case 13:throw new ka("arguments is not valid",wb);case 14:case"end":return u.stop()}},i,this,[[4,9]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"clearLocalUserMetadata",value:function(){var o=Aa(X.mark(function i(s){return X.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.connectionState===Ga.CONNECTED){l.next=2;break}throw new ja("The client is not logged in",Ud);case 2:if(this.session!==void 0){l.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return l.prev=4,l.next=7,this.session.requestClearLocalMetadata(s).toPromise();case 7:l.next=14;break;case 9:if(l.prev=9,l.t0=l.catch(4),!Ra(l.t0)){l.next=13;break}throw l.t0;case 13:throw new ka("arguments is not valid",wb);case 14:case"end":return l.stop()}},i,this,[[4,9]])}));return function(i){return o.apply(this,arguments)}}()},{key:"addLocalUserMetadata",value:function(){var o=Aa(X.mark(function i(s,l){return X.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectionState===Ga.CONNECTED){u.next=2;break}throw new ja("The client is not logged in",Ud);case 2:if(this.session!==void 0){u.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return u.prev=4,u.next=7,this.session.requestAddLocalMetadata(s,l).toPromise();case 7:u.next=14;break;case 9:if(u.prev=9,u.t0=u.catch(4),!Ra(u.t0)){u.next=13;break}throw u.t0;case 13:throw new ka("arguments is not valid",wb);case 14:case"end":return u.stop()}},i,this,[[4,9]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"updateLocalUserMetadata",value:function(){var o=Aa(X.mark(function i(s,l){return X.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectionState===Ga.CONNECTED){u.next=2;break}throw new ja("The client is not logged in",Ud);case 2:if(this.session!==void 0){u.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return u.prev=4,u.next=7,this.session.requestUpdateLocalMetadata(s,l).toPromise();case 7:u.next=14;break;case 9:if(u.prev=9,u.t0=u.catch(4),!Ra(u.t0)){u.next=13;break}throw u.t0;case 13:throw new ka("arguments is not valid",wb);case 14:case"end":return u.stop()}},i,this,[[4,9]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"deleteLocalUserMetadata",value:function(){var o=Aa(X.mark(function i(s,l){return X.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectionState===Ga.CONNECTED){u.next=2;break}throw new ja("The client is not logged in",Ud);case 2:if(this.session!==void 0){u.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return u.prev=4,u.next=7,this.session.requestDeleteLocalMetadata(s,l).toPromise();case 7:u.next=15;break;case 9:if(u.prev=9,u.t0=u.catch(4),!Ra(u.t0)){u.next=13;break}throw u.t0;case 13:throw console.log("111",u.t0),new ka("arguments is not valid",wb);case 15:case"end":return u.stop()}},i,this,[[4,9]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"subscribeUserMetadata",value:function(){var o=Aa(X.mark(function i(s){return X.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.connectionState===Ga.CONNECTED){l.next=2;break}throw new ja("The client is not logged in",Ud);case 2:if(this.session!==void 0){l.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return l.prev=4,l.next=7,this.session.requestSubscribeUserMetadata(s).toPromise();case 7:l.next=14;break;case 9:if(l.prev=9,l.t0=l.catch(4),!Ra(l.t0)){l.next=13;break}throw l.t0;case 13:throw new ka("arguments is not valid",wb);case 14:case"end":return l.stop()}},i,this,[[4,9]])}));return function(i){return o.apply(this,arguments)}}()},{key:"unsubscribeUserMetadata",value:function(){var o=Aa(X.mark(function i(s){return X.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.connectionState===Ga.CONNECTED){l.next=2;break}throw new ja("The client is not logged in",Ud);case 2:if(this.session!==void 0){l.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return l.prev=4,l.next=7,this.session.requestUnsubscribeUserMetadata(s).toPromise();case 7:l.next=14;break;case 9:if(l.prev=9,l.t0=l.catch(4),!Ra(l.t0)){l.next=13;break}throw l.t0;case 13:throw new ka("arguments is not valid",wb);case 14:case"end":return l.stop()}},i,this,[[4,9]])}));return function(i){return o.apply(this,arguments)}}()},{key:"login",value:function(){var o=Aa(X.mark(function i(s){var l,u,f,h,g;return X.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(Sr(!0),u=Qj(),f=s.token,s.token===this.context.appId&&(f=void 0),Qb("Session",{appId:this.context.appId,did:navigator.userAgent,elapse:Kb(this.session&&this.session.startTime),index:{index1:s.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},installId:ej,lts:U.fromNumber(Date.now()),os:7,sid:fc(u),token:f||"",userId:s.uid,ver:"1.6.0",buildno:419,subVersion:19,version:4},(l=this.context.config.enableCloudProxy)!==null&&l!==void 0&&l,!0),Fg(s)&&Eb(s.uid)){y.next=7;break}throw new ka("not a valid user id",Yk);case 7:if(typeof f!="string"||!f){y.next=11;break}this.context.token=f,y.next=13;break;case 11:if(typeof f=="string"||f==null){y.next=13;break}throw new ka('The "token" is not a valid string.',Yk);case 13:return h=Date.now(),this.context.sid=fc(u),this.loginPromise=this.loginImpl({uid:s.uid,instanceId:u}),this.info("RTM Client logging in as ".concat(ub(s.uid))),y.prev=17,y.next=20,this.loginPromise;case 20:y.next=28;break;case 22:throw y.prev=22,y.t0=y.catch(17),Ra(y.t0)&&Qb("Link",{ackedServerIp:"",destServerIp:"",ec:y.t0.code||1,sc:y.t0.serverCode,elapse:Kb(this.session&&this.session.startTime),lts:U.fromNumber(Date.now()),responseTime:Date.now()-h,sid:fc(u),userId:s.uid},(g=this.context.config.enableCloudProxy)!==null&&g!==void 0&&g),this.context.token=void 0,this.context.socketUseProxy=!1,y.t0;case 28:return y.prev=28,this.loginPromise=void 0,y.finish(28);case 31:this.context.socketUseProxy&&this.emit("FallbackProxyConnected"),Sr(!1);case 33:case"end":return y.stop()}},i,this,[[17,22,28,31]])}));return function(i){return o.apply(this,arguments)}}()},{key:"logout",value:function(){var o=Aa(X.mark(function i(){var s;return X.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.loginPromise){l.next=3;break}return l.next=3,this.loginPromise;case 3:if(this.connectionState!==Ga.DISCONNECTED){l.next=6;break}throw this.logError("Already in logout state"),new ja("Logout failure. The client has already been logged out",zw);case 6:if(this.internalEmitter.emit("LOGOUT"),this.connectionState!==Ga.ABORTED){l.next=11;break}return this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'),this.onConnectionStateChanged(Ga.DISCONNECTED,Vc.LOGOUT),l.abrupt("return");case 11:if(this.session!==void 0){l.next=14;break}return this.onConnectionStateChanged(Ga.DISCONNECTED,Vc.LOGOUT),l.abrupt("return");case 14:return Qb("Logout",{elapse:Kb(this.session.startTime),lts:U.fromNumber(Date.now()),sid:fc(this.session.instanceId),userId:this.context.uid},(s=this.context.config.enableCloudProxy)!==null&&s!==void 0&&s),l.next=17,this.session.logoutHandler();case 17:this.onConnectionStateChanged(Ga.DISCONNECTED,Vc.LOGOUT),this.log("Log out success");case 19:case"end":return l.stop()}},i,this)}));return function(){return o.apply(this,arguments)}}()},{key:"logoutSync",value:function(){var o,i=this;if(this.connectionState===Ga.DISCONNECTED)throw this.logError("Already in logout state"),new ja("Logout failure. The client has already been logged out",zw);this.connectionState===Ga.ABORTED?this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'):this.session!==void 0&&(Qb("Logout",{elapse:Kb(this.session.startTime),lts:U.fromNumber(Date.now()),sid:fc(this.session.instanceId),userId:this.context.uid},(o=this.context.config.enableCloudProxy)!==null&&o!==void 0&&o),this.session.logoutHandler().then(function(){i.log("Log out success")})),this.onConnectionStateChanged(Ga.DISCONNECTED,Vc.LOGOUT)}},{key:"sendMessageToPeer",value:function(){var o=Aa(X.mark(function i(s,l){var u,f,h=this;return X.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(rs(s,ri),u=s.messageType==="TEXT"?tb.P2pSMsgNoOfflineFlag:tb.P2pRMsgNoOfflineFlag,this.connectionState!==Ga.RECONNECTING){g.next=5;break}return f=Date.now(),g.abrupt("return",new Promise(function(y,m){var R,A=(R=Aa(X.mark(function I(){var N;return X.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(h.session!==void 0){C.next=2;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 2:return N=Date.now()-f,C.prev=3,C.t0=y,C.next=7,Sj({message:s,peerId:l,toPeer:!0,session:h.session,errorCodes:{NOT_LOGGED_IN:cp,TOO_OFTEN:Bw},diff:N,logger:h.logger});case 7:C.t1=C.sent,(0,C.t0)(C.t1),C.next=18;break;case 11:C.prev=11,C.t2=C.catch(3),vc(C.t2)&&(h.session.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),h.session.emit("messageCount",{messageCategory:u,type:"common",key:"timeoutcount"}),m(new Yc(qg(h.name,"sendMessageToPeer",1e4),bp))),Ra(C.t2)&&m(C.t2),h.session.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),h.session.emit("messageCount",{messageCategory:u,type:"common",key:"unknowerrorcount"}),m(new wa("Peer-to-peer message send failure",{code:Aw,originalError:C.t2}));case 18:return C.prev=18,clearTimeout(k),C.finish(18);case 21:case"end":return C.stop()}},I,null,[[3,11,18,21]])})),function(){return R.apply(this,arguments)});h.internalEmitter.once("RECONNECTED",A);var k=setTimeout(function(){h.internalEmitter.off("RECONNECTED",A),m(new Yc(qg(h.name,"sendMessageToPeer",1e4),bp))},9e3)}));case 5:if(this.connectionState===Ga.CONNECTED){g.next=7;break}throw new ja("Failed to send the peer-to-peer message. The client is not logged in",cp);case 7:if(this.session!==void 0){g.next=9;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return g.prev=9,g.next=12,Sj({message:s,peerId:l,toPeer:!0,session:this.session,errorCodes:{NOT_LOGGED_IN:cp,TOO_OFTEN:Bw},diff:0,logger:this.logger});case 12:return g.abrupt("return",g.sent);case 15:if(g.prev=15,g.t0=g.catch(9),!vc(g.t0)){g.next=21;break}throw this.session.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),this.session.emit("messageCount",{messageCategory:u,type:"common",key:"timeoutcount"}),new Yc(qg(this.name,"sendMessageToPeer",1e4),bp);case 21:if(!Ra(g.t0)){g.next=23;break}throw g.t0;case 23:throw this.session.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),this.session.emit("messageCount",{messageCategory:u,type:"common",key:"unknowerrorcount"}),new wa("Peer-to-peer message send failure",{code:Aw,originalError:g.t0});case 26:case"end":return g.stop()}},i,this,[[9,15]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"createChannel",value:function(o){var i=this;if(!Eb(o))throw new ka(["The %s in the arguments is invalid",Object.keys({channelId:o})[0]],hI);return new yP(o,function(){return i.session},this,this.logger)}},{key:"createMetadataItem",value:function(){return new zs}},{key:"createLocalInvitation",value:function(o){if(!Eb(o))throw new ka(["The %s in the arguments is invalid",Object.keys({calleeId:o})[0]],pe);return this.invitationManager.genLocalInvitation(o)}},{key:"subscribePeersOnlineStatus",value:function(){var o=Aa(X.mark(function i(s){var l,u,f,h,g,y,m,R,A,k,I,N,C,Y=this;return X.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(this.connectionState===Ga.CONNECTED){te.next=2;break}throw new ja("The client is not logged in",ep);case 2:if(this.session!==void 0){te.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(s)&&s.length!==0){te.next=6;break}throw new ka("Invalid arguments: peerIds",gj);case 6:l=0;case 7:if(!(l<s.length)){te.next=14;break}if(Eb(u=s[l])){te.next=11;break}throw new ka(["subscribePeersOnlineStatus peer id %s is invalid",u],gj);case 11:l++,te.next=7;break;case 14:if(!(512<(f=s&&s.length?xo(s):[]).length+Object.keys(this.subscribedPeerStatusCache).length+this.pendingPeerStatusSubCount)){te.next=17;break}throw new qd("Subscribed peers overflows",Gw);case 17:return this.pendingPeerStatusSubCount+=f.length,te.next=20,this.session.requestSubscribePeersOnlineStatus(f).toPromise();case 20:h=te.sent,g=h.errors,this.pendingPeerStatusSubCount-=f.length,y=[],m=[],R=0;case 26:if(!(R<g.length)){te.next=34;break}if(A=g[R],k=A.code,typeof(I=A.account)=="string"){te.next=30;break}throw new wa("Returned account is invalid",Fw);case 30:k!==0&&y.push(I);case 31:R++,te.next=26;break;case 34:for(N=0;N<f.length;N++)C=f[N],y.includes(C)||(m.push(C),this.subscribedPeerStatusCache[C]=void 0);if(this.session.requestPeersOnlineStatus(m).pipe(jb(function(Xe){return Ke(Lo(Xe.userInfos,"account"),function(_e){return!!_e.ts})})).subscribe(function(Xe){Xe=Ke(Xe,function(_e,$e){return _e=_e?Va.PeerOnlineState.ONLINE:Va.PeerOnlineState.OFFLINE,Y.subscribedPeerStatusCache[$e]=_e}),Y.emit("PeersOnlineStatusChanged",Xe)}),y.length===0){te.next=38;break}throw new wa("Subscription failed",Fw);case 38:case"end":return te.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"unsubscribePeersOnlineStatus",value:function(){var o=Aa(X.mark(function i(s){var l,u,f,h,g;return X.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(this.connectionState===Ga.CONNECTED){y.next=2;break}throw new ja("The client is not logged in",ep);case 2:if(this.session!==void 0){y.next=4;break}throw new qb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(s)&&s.length!==0){y.next=6;break}throw new ka("Invalid arguments: peerIds",gj);case 6:l=0;case 7:if(!(l<s.length)){y.next=14;break}if(Eb(u=s[l])){y.next=11;break}throw new ka(["subscribePeersOnlineStatus peer id %s is invalid",u],gj);case 11:l++,y.next=7;break;case 14:if(!(512<s.length)){y.next=16;break}throw new qd("Unsubscribed peers overflows",Gw);case 16:for(f=s&&s.length?xo(s):[],this.session.requestUnsubscribePeersOnlineStatus(f),h=0;h<f.length;h++)g=f[h],delete this.subscribedPeerStatusCache[g];case 19:case"end":return y.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"queryPeersBySubscriptionOption",value:function(){var o=Aa(X.mark(function i(s){return X.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.connectionState===Ga.CONNECTED){l.next=2;break}throw new ja("The client is not logged in",ep);case 2:if(s!==Va.PeerSubscriptionOption.ONLINE_STATUS){l.next=4;break}return l.abrupt("return",Object.keys(this.subscribedPeerStatusCache));case 4:throw new ka("Subscription option not supported",gj);case 5:case"end":return l.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"createMessage",value:function(o){return o}},{key:"loginImpl",value:function(){var o=Aa(X.mark(function i(s){var l,u,f,h,g,y,m,R,A=this;return X.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(l=s.uid,u=s.instanceId,f=s.forceLoginTime,h=f===void 0?0:f,g=u,!(this.lastLoginTime!==void 0&&500>Date.now()-this.lastLoginTime)){k.next=4;break}throw new WK(["The frequency of login exceeded the limit of %d queries per second",2],uI);case 4:if(this.connectionState===Ga.DISCONNECTED||h!==0){k.next=6;break}throw new ja("The SDK is either logging in or has logged in the Agora RTM system",sI);case 6:k.prev=6,this.context.uid=l,k.next=13;break;case 10:throw k.prev=10,k.t0=k.catch(6),new ka(["The %s in the arguments is invalid",Object.keys({uid:l})[0]],Yk);case 13:return h===0&&this.onConnectionStateChanged(Ga.CONNECTING,Vc.LOGIN),(y=new Ax(this.context,this.logger,!1)).blacklistedIP=this.blacklistedIP,this.session=m=new wA(this.context,y,g,this.logger),R=function(){A.connectionState===Ga.CONNECTED&&(A.onConnectionStateChanged(Ga.RECONNECTING,Vc.INTERRUPTED),A.session)&&A.session.once("userJoined",function(){A.onConnectionStateChanged(Ga.CONNECTED,Vc.LOGIN_SUCCESS)})},m.on("connectionLost",R),m.on("tokenExpired",function(){A.emit("TokenExpired")}),m.on("tokenPrivilegeWillExpire",this.TokenPrivilegeWillExpireHandler),m.once("userDrop",this.userDropHandler),this.session.on("peerTextMessage",function(I){A.emit("MessageFromPeer",{text:I.text,messageType:Va.MessageType.TEXT},I.peerId,I.properties)}),this.session.on("peerRawMessage",function(I){A.emit("MessageFromPeer",{rawMessage:I.raw,description:I.desc,messageType:Va.MessageType.RAW},I.peerId,I.properties)}),m.on("instanceChanged",function(I){return g=I}),m.on("peerOnlineStatusChanged",function(I){var N=I.instance.toString()+I.state,C=A.peerStatusSeqLru.get(N);!C||I.seq.greaterThan(C)?(A.peerStatusSeqLru.set(N,I.seq),I.state!==A.subscribedPeerStatusCache[I.peerId]&&A.emit("PeersOnlineStatusChanged",E({},I.peerId,I.state)),A.subscribedPeerStatusCache[I.peerId]=I.state,clearTimeout(A.peerUnreachableTimers[N]),I.state===Va.PeerOnlineState.UNREACHABLE&&(A.peerUnreachableTimers[N]=setTimeout(function(){A.subscribedPeerStatusCache[I.peerId]===Va.PeerOnlineState.UNREACHABLE&&(A.subscribedPeerStatusCache[I.peerId]=Va.PeerOnlineState.ONLINE,A.emit("PeersOnlineStatusChanged",E({},I.peerId,Va.PeerOnlineState.ONLINE)))},3e4))):A.log("peerOnlineStatusChanged dedup for %s, %d",N,I.seq.toNumber())}),m.on("invitationMessage",this.invitationManager.invitationMessageHandler.bind(this.invitationManager)),m.on("channelAttributesUpdated",function(I){var N=I.channelId;I=I.attributeMaps;for(var C={},Y=0;Y<I.length;Y++){var te=I[Y],Xe=te.key,_e=te.ms,$e=te.value;if(te=te.origin,typeof Xe!="string"||!U.isLong(_e)||typeof $e!="string"||!Eb(te))break;C[Xe]=new Blob([$e]).size}A.channelAttributesCacheLru.set(N,C)}),m.on("userJoined",function(I){if(Object.keys(A.attributes).length!==0){if(A.session===void 0)return;A.session.requestSetLocalUserAttributes(A.attributes,I).toPromise()}if(A.attributeDrafts.size!==0)for(var N=function(te,Xe){var _e=(te=Xe[te]).attribute;te.promise.then(function(){A.session!==void 0&&A.session.requestSetLocalUserAttributes(_e,I).toPromise()})},C=0,Y=Array.from(A.attributeDrafts);C<Y.length;C++)N(C,Y);Object.keys(A.subscribedPeerStatusCache).length!==0&&m.requestSubscribePeersOnlineStatus(Object.keys(A.subscribedPeerStatusCache))}),m.on("banEdgeIP",function(I){A.banIP(I)}),m.on("channelMetaDataUpdate",this.channelMetaDataUpdatedHandler),m.on("userMetaDataUpdate",this.userMetaDataUpdatedHandler),this.lastLoginTime=Date.now(),k.prev=34,k.next=37,m.loginHandler().toPromise();case 37:k.next=55;break;case 39:if(k.prev=39,k.t1=k.catch(34),!(k.t1.name==="loginRespTimeout"&&2>h)){k.next=48;break}return m.removeAllListeners(),k.next=45,this.loginImpl({uid:l,instanceId:u,forceLoginTime:h+1});case 45:return k.abrupt("return");case 48:if(!vc(k.t1)){k.next=51;break}throw this.onConnectionStateChanged(Ga.DISCONNECTED,Vc.LOGIN_TIMEOUT),new Yc(qg(this.name,"login",12e3),tI);case 51:if(this.onConnectionStateChanged(Ga.DISCONNECTED,Vc.LOGIN_FAILURE),!Ra(k.t1)){k.next=54;break}throw k.t1;case 54:throw new wa("Login failure",{code:ww,originalError:k.t1});case 55:this.onConnectionStateChanged(Ga.CONNECTED,Vc.LOGIN_SUCCESS);case 56:case"end":return k.stop()}},i,this,[[6,10],[34,39]])}));return function(i){return o.apply(this,arguments)}}()},{key:"onConnectionStateChanged",value:function(o,i){var s,l=this;o===Ga.RECONNECTING&&(this.reconnId+=1),Qb("ConnectionStateChange",{elapse:Kb(this.session&&this.session.startTime),lts:U.fromNumber(Date.now()),newState:yA[o],oldState:yA[this.connectionState],reason:zP[i],sid:fc(this.session&&this.session.instanceId||U.fromNumber(0)),userId:this.context.uid,reconnId:this.reconnId},(s=this.context.config.enableCloudProxy)!==null&&s!==void 0&&s),this.connectionState===Ga.RECONNECTING&&o===Ga.CONNECTED&&(Object.keys(this.subscribedPeerStatusCache).length!==0&&this.session!==void 0&&this.session.requestPeersOnlineStatus(Object.keys(this.subscribedPeerStatusCache)).pipe(jb(function(u){return Ke(Lo(u.userInfos,"account"),function(f){return!!f.ts})})).subscribe(function(u){u=Ke(u,function(f,h){return f=f?Va.PeerOnlineState.ONLINE:Va.PeerOnlineState.OFFLINE,l.subscribedPeerStatusCache[h]=f}),l.emit("PeersOnlineStatusChanged",u)}),this.internalEmitter.emit("RECONNECTED")),this.connectionState=o,o!==Ga.ABORTED&&o!==Ga.DISCONNECTED||(this.pendingPeerStatusSubCount=this.reconnId=0,this.attributes={},this.session&&(this.session.removeAllListeners(),this.session.msgDedupLru.empty(),this.session.dialogueSequenceLru.empty(),this.session.dialPendingMsgSubjectMap.clear()),this.channelAttributesCacheLru.empty(),this.peerStatusSeqLru.empty(),this.peerUnreachableTimers={},this.subscribedPeerStatusCache={},this.attributeDrafts.clear(),this.context.token=void 0),this.emit("ConnectionStateChanged",o,i)}},{key:"banIP",value:function(o){var i;this.log("ip banned",o);var s=(i=this.blacklistedIP[o])!==null&&i!==void 0?i:0;this.blacklistedIP[o]=s+1}}]),t}(zd()),Oa(ha.prototype,"renewToken",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"renewToken"),ha.prototype),Oa(ha.prototype,"queryPeersOnlineStatus",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"queryPeersOnlineStatus"),ha.prototype),Oa(ha.prototype,"getChannelMemberCount",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"getChannelMemberCount"),ha.prototype),Oa(ha.prototype,"setLocalUserAttributes",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"setLocalUserAttributes"),ha.prototype),Oa(ha.prototype,"setChannelAttributes",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"setChannelAttributes"),ha.prototype),Oa(ha.prototype,"addOrUpdateLocalUserAttributes",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"addOrUpdateLocalUserAttributes"),ha.prototype),Oa(ha.prototype,"addOrUpdateChannelAttributes",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"addOrUpdateChannelAttributes"),ha.prototype),Oa(ha.prototype,"deleteLocalUserAttributesByKeys",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"deleteLocalUserAttributesByKeys"),ha.prototype),Oa(ha.prototype,"deleteChannelAttributesByKeys",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"deleteChannelAttributesByKeys"),ha.prototype),Oa(ha.prototype,"clearLocalUserAttributes",[de],Object.getOwnPropertyDescriptor(ha.prototype,"clearLocalUserAttributes"),ha.prototype),Oa(ha.prototype,"clearChannelAttributes",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"clearChannelAttributes"),ha.prototype),Oa(ha.prototype,"getUserAttributes",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"getUserAttributes"),ha.prototype),Oa(ha.prototype,"getChannelAttributes",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"getChannelAttributes"),ha.prototype),Oa(ha.prototype,"getChannelAttributesByKeys",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"getChannelAttributesByKeys"),ha.prototype),Oa(ha.prototype,"getUserAttributesByKeys",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"getUserAttributesByKeys"),ha.prototype),Oa(ha.prototype,"getUserMetadata",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"getUserMetadata"),ha.prototype),Oa(ha.prototype,"setLocalUserMetadata",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"setLocalUserMetadata"),ha.prototype),Oa(ha.prototype,"clearLocalUserMetadata",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"clearLocalUserMetadata"),ha.prototype),Oa(ha.prototype,"addLocalUserMetadata",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"addLocalUserMetadata"),ha.prototype),Oa(ha.prototype,"updateLocalUserMetadata",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"updateLocalUserMetadata"),ha.prototype),Oa(ha.prototype,"deleteLocalUserMetadata",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"deleteLocalUserMetadata"),ha.prototype),Oa(ha.prototype,"subscribeUserMetadata",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"subscribeUserMetadata"),ha.prototype),Oa(ha.prototype,"login",[de],Object.getOwnPropertyDescriptor(ha.prototype,"login"),ha.prototype),Oa(ha.prototype,"logout",[de],Object.getOwnPropertyDescriptor(ha.prototype,"logout"),ha.prototype),Oa(ha.prototype,"logoutSync",[de],Object.getOwnPropertyDescriptor(ha.prototype,"logoutSync"),ha.prototype),Oa(ha.prototype,"sendMessageToPeer",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"sendMessageToPeer"),ha.prototype),Oa(ha.prototype,"createChannel",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"createChannel"),ha.prototype),Oa(ha.prototype,"createMetadataItem",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"createMetadataItem"),ha.prototype),Oa(ha.prototype,"createLocalInvitation",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"createLocalInvitation"),ha.prototype),Oa(ha.prototype,"subscribePeersOnlineStatus",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"subscribePeersOnlineStatus"),ha.prototype),Oa(ha.prototype,"unsubscribePeersOnlineStatus",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"unsubscribePeersOnlineStatus"),ha.prototype),Oa(ha.prototype,"queryPeersBySubscriptionOption",[eb],Object.getOwnPropertyDescriptor(ha.prototype,"queryPeersBySubscriptionOption"),ha.prototype),Oa(ha.prototype,"createMessage",[de],Object.getOwnPropertyDescriptor(ha.prototype,"createMessage"),ha.prototype),ha),Nq,Oq,Pq,Qq,zA=(Nq=/Chrome\/([0-9.]+)/.exec((Pq=window)===null||Pq===void 0||(Qq=Pq.navigator)===null||Qq===void 0?void 0:Qq.userAgent))===null||Nq===void 0||(Oq=Nq[1])===null||Oq===void 0?void 0:Oq.split(".")[0];if(zA&&88<=parseInt(zA,10)&&!Eg()){var Rq,Bg=document.createElement("video"),Cg=document.createElement("canvas");Bg.setAttribute("style","display:none"),Bg.setAttribute("muted",""),Bg.muted=!0,Bg.setAttribute("autoplay",""),Bg.autoplay=!0,Bg.setAttribute("playsinline",""),Cg.setAttribute("style","display:none"),Cg.setAttribute("width","1"),Cg.setAttribute("height","1"),(Rq=Cg.getContext("2d"))===null||Rq===void 0||Rq.fillRect(0,0,1,1),Bg.srcObject=Cg==null?void 0:Cg.captureStream()}var AA={LOG_FILTER_OFF:{error:!1,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_ERROR:{error:!0,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_WARNING:{error:!0,warn:!0,info:!1,track:!1,debug:!1},LOG_FILTER_INFO:{error:!0,warn:!0,info:!0,track:!1,debug:!1},LOG_FILTER_DEBUG:{error:!0,warn:!0,info:!0,track:!0,debug:!0}},BA={enableLogUpload:!1,logFilter:AA.LOG_FILTER_INFO,enableCloudProxy:!1},pg=Jb(Jb({createInstance:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if(!/^[\dA-Za-z]{32}$/.test(e))throw new ka(["The %s in the arguments is invalid",Object.keys({appId:e})[0]],kw);var r=Object.keys(t).filter(function(h){return!(h in BA)});if(r.length!==0)throw new ka("Invalid RTM config: ".concat(r.join(", ")),kw);var o=Jb(Jb({},BA),t);if(n!==void 0&&(!Array.isArray(n)||n.length===0))throw new ka("Invalid area config");if(n!=null){if(!n.every(function(h){return h in Va.LegacyAreaCode}))throw new ka("Invalid area codes: ".concat(n.filter(function(h){return!(h in Va)}).join(", ")));Ba=Xg(n.map(function(h){return YK[h]}))}n=lp=pb.__global_unique_id__=(pb.__global_unique_id__||0)+1;var i=cL(o);r=dL(o);var s=eL(o),l=fL(n,o),u=ux(n,o),f=u("RTM:DEBUG","<Entry> ");return nx.rtmConfig=o,i("The Agora RTM Web SDK version is %s","1.6.0"),t.enableCloudProxy&&i("RTM cloud proxy enabled"),t.enableLogUpload&&i("Log upload enabled"),Ba&&f("Area is set to %s",Array.from(Ba.CODES).map(function(h){return ni(pa).find(function(g){return pa[g]===h})}).join(", ")),f("Creating an RtmClient instance"),f('The Git commit ID is "'.concat("v1.5.1-20-gbcf9f2a0",'"')),f("The App ID is %s",ss(e,4,10,"*".repeat(6))),i("The process ID is %s",ej),f("The build is %s","v1.5.1-20-gbcf9f2a0"),f("NODE_ENV is %s","production"),new AP(e,{genLogger:u,genTracker:l,info:i,warn:r,logError:s,loggerId:n},o,function(h){for(var g=0,y=ni(h);g<y.length;g++){var m=y[g];try{var R=h[m];R!=null&&(h.enableCloudProxy&&i("RTM cloud proxy enabled"),h.enableLogUpload&&i("Log upload enabled"),o[m]=R)}catch{throw new ka(["The %s in the arguments is invalid",m],void 0)}}})},BUILD:"v1.5.1-20-gbcf9f2a0",VERSION:"1.6.0",END_CALL_PREFIX:"AgoraRTMLegacyEndcallCompatibleMessagePrefix",processId:ej,ConnectionChangeReason:Va.ConnectionChangeReason,ConnectionState:Va.ConnectionState,LocalInvitationFailureReason:Va.LocalInvitationFailureReason,LocalInvitationState:Va.LocalInvitationState,RemoteInvitationFailureReason:Va.RemoteInvitationFailureReason,RemoteInvitationState:Va.RemoteInvitationState,MessageType:Va.MessageType,PeerOnlineState:Va.PeerOnlineState,PeerSubscriptionOption:Va.PeerSubscriptionOption},AA),{},{setParameter:function(e,t){Object.keys(Sd).includes(e)&&(Sd[e]=t)},getParameter:function(e){return Sd[e]},setArea:function(e){var t=e.areaCodes;if(e=e.excludedArea,!Array.isArray(t)||t.length===0||!t.every(function(n){return n in Va.AreaCode}))throw new ka("Invalid area config");if(e!==void 0&&e===Va.AreaCode.GLOBAL)throw new ka("Excluded area cannot be global");if(e===void 0)Ba=Xg(t.map(function(n){return pa[n]}));else{if(t.includes(e))throw new ka("Excluded area cannot be in areaCodes");if(!(e in pa))throw new ka("Invalid excludedArea:",e);Ba=jC({areas:t.map(function(n){return pa[n]}),excludedArea:pa[e]})}}});return pg})})(agoraRtmSdk);const RtmEngine=getDefaultExportFromCjs(agoraRtmSdk.exports);class AgoraRTM extends IServiceTextChat{constructor(n){super();jc(this,"members",new Set);jc(this,"_sideEffect",new SideEffectManager);jc(this,"_roomSideEffect",new SideEffectManager);jc(this,"_pJoiningRoom");jc(this,"_pLeavingRoom");jc(this,"client");jc(this,"channel");jc(this,"roomUUID");jc(this,"userUUID");jc(this,"token");if(!n)throw new Error("APP_ID is not set");this.client=RtmEngine.createInstance(n,{logFilter:RtmEngine.LOG_FILTER_WARNING})}async destroy(){super.destroy(),this._sideEffect.flushAll();try{await this.leaveRoom(),this.client.removeAllListeners()}catch(n){console.error(n)}}async joinRoom(n){if(this._pJoiningRoom&&await this._pJoiningRoom,this._pLeavingRoom&&await this._pLeavingRoom,this.channel){if(this.roomUUID===n.roomUUID)return;await this.leaveRoom()}this._pJoiningRoom=this._joinRoom(n),await this._pJoiningRoom,this._pJoiningRoom=void 0}async leaveRoom(){this._pJoiningRoom&&await this._pJoiningRoom,this._pLeavingRoom&&await this._pLeavingRoom,this.channel&&(this._roomSideEffect.flushAll(),this._pLeavingRoom=this._leaveRoom(this.channel),await this._pLeavingRoom,this._pLeavingRoom=void 0,this.channel=void 0,this.token=void 0),this.roomUUID=void 0,this.userUUID=void 0,this.members.clear()}async sendRoomMessage(n){this.channel&&(await this.channel.sendMessage({messageType:RtmEngine.MessageType.TEXT,text:n},{enableHistoricalMessaging:!0}),this.roomUUID&&this.userUUID&&this.events.emit("room-message",{uuid:v4(),roomUUID:this.roomUUID,text:n,senderID:this.userUUID,timestamp:Date.now()}))}async sendRoomCommand(n,r){if(this.channel){const o={t:n,v:r};await this.channel.sendMessage({messageType:RtmEngine.MessageType.RAW,rawMessage:new TextEncoder().encode(JSON.stringify(o))}),this.roomUUID&&this.userUUID&&this._emitRoomCommand(this.roomUUID,this.userUUID,o)}}async sendPeerMessage(n,r){return this.channel?(await this.client.sendMessageToPeer({text:n},r)).hasPeerReceived:!1}async sendPeerCommand(n,r,o){return this.channel?(await this.client.sendMessageToPeer({messageType:RtmEngine.MessageType.RAW,rawMessage:new TextEncoder().encode(JSON.stringify({t:n,v:r}))},o)).hasPeerReceived:!1}async _joinRoom({uid:n,token:r,roomUUID:o,ownerUUID:i}){if(this.token=r||await generateRTMToken(),!this.token)throw new Error("Missing Agora RTM token");this._roomSideEffect.add(()=>{const l=async()=>{this.token=await generateRTMToken(),await this.client.renewToken(this.token)};return this.client.on("TokenExpired",l),()=>this.client.off("TokenExpired",l)}),this._roomSideEffect.add(()=>{const l=(u,f)=>{f===RtmEngine.ConnectionChangeReason.REMOTE_LOGIN&&this.events.emit("remote-login",{roomUUID:o})};return this.client.on("ConnectionStateChanged",l),()=>this.client.off("ConnectionStateChanged",l)}),await this.client.login({uid:n,token:this.token});const s=this.client.createChannel(o);this.channel=s,this._roomSideEffect.add(()=>{const l=(u,f)=>{switch(u.messageType){case RtmEngine.MessageType.TEXT:{this.events.emit("room-message",{uuid:v4(),roomUUID:o,text:u.text,senderID:f,timestamp:Date.now()});break}case RtmEngine.MessageType.RAW:{if(f===i)try{const h=JSON.parse(new TextDecoder().decode(u.rawMessage));this._emitRoomCommand(o,f,h)}catch(h){console.error(h)}break}}};return s.on("ChannelMessage",l),()=>s.off("ChannelMessage",l)}),this._roomSideEffect.add(()=>{const l=(u,f)=>{if(u.messageType===RtmEngine.MessageType.RAW)try{const h=JSON.parse(new TextDecoder().decode(u.rawMessage));if(h.v.roomUUID!==o)return;switch(h.t){case"raise-hand":{this.events.emit("raise-hand",{roomUUID:o,userUUID:f,raiseHand:h.v.raiseHand});break}case"request-device":{this.events.emit("request-device",{roomUUID:o,senderID:f,deviceState:h.v});break}case"request-device-response":{this.events.emit("request-device-response",{roomUUID:o,userUUID:f,deviceState:h.v});break}case"notify-device-off":{this.events.emit("notify-device-off",{roomUUID:o,senderID:f,deviceState:h.v});break}}}catch(h){console.error(h)}};return this.client.on("MessageFromPeer",l),()=>this.client.off("MessageFromPeer",l)}),await s.join(),(await s.getMembers()).forEach(l=>{this.members.add(l)}),this._roomSideEffect.add(()=>{const l=f=>{this.members.add(f),this.events.emit("member-joined",{roomUUID:o,userUUID:f})},u=f=>{this.members.delete(f),this.events.emit("member-left",{roomUUID:o,userUUID:f})};return s.on("MemberJoined",l),s.on("MemberLeft",u),()=>{s.off("MemberJoined",l),s.off("MemberLeft",u)}}),this.roomUUID=o,this.userUUID=n}async _leaveRoom(n){n.removeAllListeners(),await n.leave(),await this.client.logout()}_emitRoomCommand(n,r,o){switch(o.t){case"ban":{this.events.emit("ban",{uuid:v4(),roomUUID:n,status:o.v.status,senderID:r,timestamp:Date.now()});break}case"notice":{this.events.emit("notice",{uuid:v4(),roomUUID:n,text:o.v.text,senderID:r,timestamp:Date.now()});break}case"update-room-status":this.events.emit("update-room-status",{roomUUID:n,status:o.v.status,senderID:r})}}}export{AgoraRTM};
//# sourceMappingURL=index.72f58f9b.js.map
