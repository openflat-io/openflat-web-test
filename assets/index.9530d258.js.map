{"version":3,"file":"index.9530d258.js","sources":["../../../../node_modules/.pnpm/vanilla-lazyload@17.8.3/node_modules/vanilla-lazyload/dist/lazyload.esm.js","../../../../node_modules/.pnpm/@netless+app-docs-viewer@1.0.0-canary.5/node_modules/@netless/app-docs-viewer/dist/main.mjs","../../../../service-providers/file-preview-netless/src/utils.ts","../../../../service-providers/file-preview-netless/src/static-docs-viewer/index.ts","../../../../service-providers/file-preview-netless/src/index.ts"],"sourcesContent":["const runningOnBrowser = typeof window !== \"undefined\";\n\nconst isBot =\n    (runningOnBrowser && !(\"onscroll\" in window)) ||\n    (typeof navigator !== \"undefined\" && /(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent));\n\nconst supportsIntersectionObserver = runningOnBrowser && \"IntersectionObserver\" in window;\n\nconst supportsClassList = runningOnBrowser && \"classList\" in document.createElement(\"p\");\n\nconst isHiDpi = runningOnBrowser && window.devicePixelRatio > 1;\n\nconst defaultSettings = {\n    elements_selector: \".lazy\",\n    container: isBot || runningOnBrowser ? document : null,\n    threshold: 300,\n    thresholds: null,\n    data_src: \"src\",\n    data_srcset: \"srcset\",\n    data_sizes: \"sizes\",\n    data_bg: \"bg\",\n    data_bg_hidpi: \"bg-hidpi\",\n    data_bg_multi: \"bg-multi\",\n    data_bg_multi_hidpi: \"bg-multi-hidpi\",\n    data_bg_set: \"bg-set\",\n    data_poster: \"poster\",\n    class_applied: \"applied\",\n    class_loading: \"loading\",\n    class_loaded: \"loaded\",\n    class_error: \"error\",\n    class_entered: \"entered\",\n    class_exited: \"exited\",\n    unobserve_completed: true,\n    unobserve_entered: false,\n    cancel_on_exit: true,\n    callback_enter: null,\n    callback_exit: null,\n    callback_applied: null,\n    callback_loading: null,\n    callback_loaded: null,\n    callback_error: null,\n    callback_finish: null,\n    callback_cancel: null,\n    use_native: false,\n    restore_on_error: false,\n};\n\nconst getExtendedSettings = (customSettings) => {\n    return Object.assign({}, defaultSettings, customSettings);\n};\n\n/* Creates instance and notifies it through the window element */\nconst createInstance = function(classObj, options) {\n    let event;\n    const eventString = \"LazyLoad::Initialized\";\n    const instance = new classObj(options);\n    try {\n        // Works in modern browsers\n        event = new CustomEvent(eventString, { detail: { instance } });\n    } catch (err) {\n        // Works in Internet Explorer (all versions)\n        event = document.createEvent(\"CustomEvent\");\n        event.initCustomEvent(eventString, false, false, { instance });\n    }\n    window.dispatchEvent(event);\n};\n\n/* Auto initialization of one or more instances of lazyload, depending on the \n    options passed in (plain object or an array) */\nconst autoInitialize = (classObj, options) => {\n    if (!options) {\n        return;\n    }\n    if (!options.length) {\n        // Plain object\n        createInstance(classObj, options);\n    } else {\n        // Array of objects\n        for (let i = 0, optionsItem; (optionsItem = options[i]); i += 1) {\n            createInstance(classObj, optionsItem);\n        }\n    }\n};\n\nconst SRC = \"src\";\nconst SRCSET = \"srcset\";\nconst SIZES = \"sizes\";\nconst POSTER = \"poster\";\nconst ORIGINALS = \"llOriginalAttrs\";\nconst DATA = \"data\";\n\nconst statusLoading = \"loading\";\nconst statusLoaded = \"loaded\";\nconst statusApplied = \"applied\";\nconst statusEntered = \"entered\";\nconst statusError = \"error\";\nconst statusNative = \"native\";\n\nconst dataPrefix = \"data-\";\nconst statusDataName = \"ll-status\";\n\nconst getData = (element, attribute) => {\n    return element.getAttribute(dataPrefix + attribute);\n};\n\nconst setData = (element, attribute, value) => {\n    var attrName = dataPrefix + attribute;\n    if (value === null) {\n        element.removeAttribute(attrName);\n        return;\n    }\n    element.setAttribute(attrName, value);\n};\n\nconst getStatus = (element) => getData(element, statusDataName);\nconst setStatus = (element, status) => setData(element, statusDataName, status);\nconst resetStatus = (element) => setStatus(element, null);\n\nconst hasEmptyStatus = (element) => getStatus(element) === null;\nconst hasStatusLoading = (element) => getStatus(element) === statusLoading;\nconst hasStatusError = (element) => getStatus(element) === statusError;\nconst hasStatusNative = (element) => getStatus(element) === statusNative;\n\nconst statusesAfterLoading = [statusLoading, statusLoaded, statusApplied, statusError];\nconst hadStartedLoading = (element) => statusesAfterLoading.indexOf(getStatus(element)) >= 0;\n\nconst safeCallback = (callback, arg1, arg2, arg3) => {\n\tif (!callback) {\n\t\treturn;\n\t}\n\n\tif (arg3 !== undefined) {\n\t\tcallback(arg1, arg2, arg3);\n\t\treturn;\n\t}\n\tif (arg2 !== undefined) {\n\t\tcallback(arg1, arg2);\n\t\treturn;\n\t}\n\tcallback(arg1);\n};\n\nconst addClass = (element, className) => {\n\tif (supportsClassList) {\n\t\telement.classList.add(className);\n\t\treturn;\n\t}\n\telement.className += (element.className ? \" \" : \"\") + className;\n};\n\nconst removeClass = (element, className) => {\n\tif (supportsClassList) {\n\t\telement.classList.remove(className);\n\t\treturn;\n\t}\n\telement.className = element.className.\n\t\treplace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").\n\t\treplace(/^\\s+/, \"\").\n\t\treplace(/\\s+$/, \"\");\n};\n\nconst addTempImage = (element) => {\n    element.llTempImage = document.createElement(\"IMG\");\n};\n\nconst deleteTempImage = (element) => {\n    delete element.llTempImage;\n};\n\nconst getTempImage = (element) => element.llTempImage;\n\nconst unobserve = (element, instance) => {\n    if (!instance) return;\n    const observer = instance._observer;\n    if (!observer) return;\n    observer.unobserve(element);\n};\n\nconst resetObserver = (observer) => {\n    observer.disconnect();\n};\n\nconst unobserveEntered = (element, settings, instance) => {\n    if (settings.unobserve_entered) unobserve(element, instance);\n};\n\nconst updateLoadingCount = (instance, delta) => {\n    if (!instance) return;\n    instance.loadingCount += delta;\n};\n\nconst decreaseToLoadCount = (instance) => {\n    if (!instance) return;\n    instance.toLoadCount -= 1;\n};\n\nconst setToLoadCount = (instance, value) => {\n    if (!instance) return;\n    instance.toLoadCount = value;\n};\n\nconst isSomethingLoading = (instance) => instance.loadingCount > 0;\n\nconst haveElementsToLoad = (instance) => instance.toLoadCount > 0;\n\nconst getSourceTags = (parentTag) => {\n  let sourceTags = [];\n  for (let i = 0, childTag; (childTag = parentTag.children[i]); i += 1) {\n      if (childTag.tagName === \"SOURCE\") {\n          sourceTags.push(childTag);\n      }\n  }\n  return sourceTags;\n};\n\nconst forEachPictureSource = (element, fn) => {\n  const parent = element.parentNode;\n  if (!parent || parent.tagName !== \"PICTURE\") {\n      return;\n  }\n  let sourceTags = getSourceTags(parent);\n  sourceTags.forEach(fn);\n};\n\nconst forEachVideoSource = (element, fn) => {\n  let sourceTags = getSourceTags(element);\n  sourceTags.forEach(fn);\n};\n\nconst attrsSrc = [SRC];\nconst attrsSrcPoster = [SRC, POSTER];\nconst attrsSrcSrcsetSizes = [SRC, SRCSET, SIZES];\nconst attrsData = [DATA];\n\nconst hasOriginalAttrs = (element) => !!element[ORIGINALS];\nconst getOriginalAttrs = (element) => element[ORIGINALS];\nconst deleteOriginalAttrs = (element) => delete element[ORIGINALS];\n\n// ## SAVE ##\n\nconst setOriginalsObject = (element, attributes) => {\n    if (hasOriginalAttrs(element)) {\n        return;\n    }\n    const originals = {};\n    attributes.forEach((attribute) => {\n        originals[attribute] = element.getAttribute(attribute);\n    });\n    element[ORIGINALS] = originals;\n};\n\nconst saveOriginalBackgroundStyle = (element) => {\n    if (hasOriginalAttrs(element)) {\n        return;\n    }\n    element[ORIGINALS] = { backgroundImage: element.style.backgroundImage };\n};\n\n// ## RESTORE ##\n\nconst setOrResetAttribute = (element, attrName, value) => {\n    if (!value) {\n        element.removeAttribute(attrName);\n        return;\n    }\n    element.setAttribute(attrName, value);\n};\n\nconst restoreOriginalAttrs = (element, attributes) => {\n    if (!hasOriginalAttrs(element)) {\n        return;\n    }\n    const originals = getOriginalAttrs(element);\n    attributes.forEach((attribute) => {\n        setOrResetAttribute(element, attribute, originals[attribute]);\n    });\n};\n\nconst restoreOriginalBgImage = (element) => {\n    if (!hasOriginalAttrs(element)) {\n        return;\n    }\n    const originals = getOriginalAttrs(element);\n    element.style.backgroundImage = originals.backgroundImage;\n};\n\nconst manageApplied = (element, settings, instance) => {\n    addClass(element, settings.class_applied);\n    setStatus(element, statusApplied);\n    // Instance is not provided when loading is called from static class\n    if (!instance) return;\n    if (settings.unobserve_completed) {\n        // Unobserve now because we can't do it on load\n        unobserve(element, settings);\n    }\n    safeCallback(settings.callback_applied, element, instance);\n};\n\nconst manageLoading = (element, settings, instance) => {\n    addClass(element, settings.class_loading);\n    setStatus(element, statusLoading);\n    // Instance is not provided when loading is called from static class\n    if (!instance) return;\n    updateLoadingCount(instance, +1);\n    safeCallback(settings.callback_loading, element, instance);\n};\n\nconst setAttributeIfValue = (element, attrName, value) => {\n    if (!value) {\n        return;\n    }\n    element.setAttribute(attrName, value);\n};\n\nconst setImageAttributes = (element, settings) => {\n    setAttributeIfValue(element, SIZES, getData(element, settings.data_sizes));\n    setAttributeIfValue(element, SRCSET, getData(element, settings.data_srcset));\n    setAttributeIfValue(element, SRC, getData(element, settings.data_src));\n};\n\nconst setSourcesImg = (imgEl, settings) => {\n    forEachPictureSource(imgEl, (sourceTag) => {\n        setOriginalsObject(sourceTag, attrsSrcSrcsetSizes);\n        setImageAttributes(sourceTag, settings);\n    });\n    setOriginalsObject(imgEl, attrsSrcSrcsetSizes);\n    setImageAttributes(imgEl, settings);\n};\n\nconst setSourcesIframe = (iframe, settings) => {\n    setOriginalsObject(iframe, attrsSrc);\n    setAttributeIfValue(iframe, SRC, getData(iframe, settings.data_src));\n};\n\nconst setSourcesVideo = (videoEl, settings) => {\n    forEachVideoSource(videoEl, (sourceEl) => {\n        setOriginalsObject(sourceEl, attrsSrc);\n        setAttributeIfValue(sourceEl, SRC, getData(sourceEl, settings.data_src));\n    });\n    setOriginalsObject(videoEl, attrsSrcPoster);\n\n    setAttributeIfValue(videoEl, POSTER, getData(videoEl, settings.data_poster));\n    setAttributeIfValue(videoEl, SRC, getData(videoEl, settings.data_src));\n    videoEl.load();\n};\n\nconst setSourcesObject = (object, settings) => {\n    setOriginalsObject(object, attrsData);\n    setAttributeIfValue(object, DATA, getData(object, settings.data_src));\n};\n\nconst setBackground = (element, settings, instance) => {\n    const bg1xValue = getData(element, settings.data_bg);\n    const bgHiDpiValue = getData(element, settings.data_bg_hidpi);\n    const bgDataValue = isHiDpi && bgHiDpiValue ? bgHiDpiValue : bg1xValue;\n    if (!bgDataValue) return;\n    element.style.backgroundImage = `url(\"${bgDataValue}\")`;\n    getTempImage(element).setAttribute(SRC, bgDataValue);\n    manageLoading(element, settings, instance);\n};\n\n// NOTE: THE TEMP IMAGE TRICK CANNOT BE DONE WITH data-multi-bg\n// BECAUSE INSIDE ITS VALUES MUST BE WRAPPED WITH URL() AND ONE OF THEM\n// COULD BE A GRADIENT BACKGROUND IMAGE\nconst setMultiBackground = (element, settings, instance) => {\n    const bg1xValue = getData(element, settings.data_bg_multi);\n    const bgHiDpiValue = getData(element, settings.data_bg_multi_hidpi);\n    const bgDataValue = isHiDpi && bgHiDpiValue ? bgHiDpiValue : bg1xValue;\n    if (!bgDataValue) {\n        return;\n    }\n    element.style.backgroundImage = bgDataValue;\n    manageApplied(element, settings, instance);\n};\n\nconst setImgsetBackground = (element, settings, instance) => {\n    const bgImgSetDataValue = getData(element, settings.data_bg_set);\n    if (!bgImgSetDataValue) {\n        return;\n    }\n    const imgSetValues = bgImgSetDataValue.split(\"|\");\n    let bgImageValues = imgSetValues.map((value) => `image-set(${value})`);\n    element.style.backgroundImage = bgImageValues.join();\n    // Temporary fix for Chromeium with the -webkit- prefix\n    if (element.style.backgroundImage === '') {\n        bgImageValues = imgSetValues.map((value) => `-webkit-image-set(${value})`);\n        element.style.backgroundImage = bgImageValues.join();\n    }\n    manageApplied(element, settings, instance);\n};\n\nconst setSourcesFunctions = {\n    IMG: setSourcesImg,\n    IFRAME: setSourcesIframe,\n    VIDEO: setSourcesVideo,\n    OBJECT: setSourcesObject\n};\n\nconst setSourcesNative = (element, settings) => {\n    const setSourcesFunction = setSourcesFunctions[element.tagName];\n    if (!setSourcesFunction) {\n        return;\n    }\n    setSourcesFunction(element, settings);\n};\n\nconst setSources = (element, settings, instance) => {\n    const setSourcesFunction = setSourcesFunctions[element.tagName];\n    if (!setSourcesFunction) {\n        return;\n    }\n    setSourcesFunction(element, settings);\n    manageLoading(element, settings, instance);\n};\n\nconst elementsWithLoadEvent = [\"IMG\", \"IFRAME\", \"VIDEO\", \"OBJECT\"];\nconst hasLoadEvent = (element) => elementsWithLoadEvent.indexOf(element.tagName) > -1;\n\nconst checkFinish = (settings, instance) => {\n    if (instance && !isSomethingLoading(instance) && !haveElementsToLoad(instance)) {\n        safeCallback(settings.callback_finish, instance);\n    }\n};\n\nconst addEventListener = (element, eventName, handler) => {\n    element.addEventListener(eventName, handler);\n    element.llEvLisnrs[eventName] = handler;\n};\n\nconst removeEventListener = (element, eventName, handler) => {\n    element.removeEventListener(eventName, handler);\n};\n\nconst hasEventListeners = (element) => {\n    return !!element.llEvLisnrs;\n};\n\nconst addEventListeners = (element, loadHandler, errorHandler) => {\n    if (!hasEventListeners(element)) element.llEvLisnrs = {};\n    const loadEventName = element.tagName === \"VIDEO\" ? \"loadeddata\" : \"load\";\n    addEventListener(element, loadEventName, loadHandler);\n    addEventListener(element, \"error\", errorHandler);\n};\n\nconst removeEventListeners = (element) => {\n    if (!hasEventListeners(element)) {\n        return;\n    }\n    const eventListeners = element.llEvLisnrs;\n    for (let eventName in eventListeners) {\n        const handler = eventListeners[eventName];\n        removeEventListener(element, eventName, handler);\n    }\n    delete element.llEvLisnrs;\n};\n\nconst doneHandler = (element, settings, instance) => {\n    deleteTempImage(element);\n    updateLoadingCount(instance, -1);\n    decreaseToLoadCount(instance);\n    removeClass(element, settings.class_loading);\n    if (settings.unobserve_completed) {\n        unobserve(element, instance);\n    }\n};\n\nconst loadHandler = (event, element, settings, instance) => {\n    const goingNative = hasStatusNative(element);\n    doneHandler(element, settings, instance);\n    addClass(element, settings.class_loaded);\n    setStatus(element, statusLoaded);\n    safeCallback(settings.callback_loaded, element, instance);\n    if (!goingNative) checkFinish(settings, instance);\n};\n\nconst errorHandler = (event, element, settings, instance) => {\n    const goingNative = hasStatusNative(element);\n    doneHandler(element, settings, instance);\n    addClass(element, settings.class_error);\n    setStatus(element, statusError);\n    safeCallback(settings.callback_error, element, instance);\n    if (settings.restore_on_error) restoreOriginalAttrs(element, attrsSrcSrcsetSizes);\n    if (!goingNative) checkFinish(settings, instance);\n};\n\nconst addOneShotEventListeners = (element, settings, instance) => {\n    const elementToListenTo = getTempImage(element) || element;\n    if (hasEventListeners(elementToListenTo)) {\n        // This happens when loading is retried twice\n        return;\n    }\n    const _loadHandler = (event) => {\n        loadHandler(event, element, settings, instance);\n        removeEventListeners(elementToListenTo);\n    };\n    const _errorHandler = (event) => {\n        errorHandler(event, element, settings, instance);\n        removeEventListeners(elementToListenTo);\n    };\n    addEventListeners(elementToListenTo, _loadHandler, _errorHandler);\n};\n\nconst loadBackground = (element, settings, instance) => {\n    addTempImage(element);\n    addOneShotEventListeners(element, settings, instance);\n    saveOriginalBackgroundStyle(element);\n    setBackground(element, settings, instance);\n    setMultiBackground(element, settings, instance);\n    setImgsetBackground(element, settings, instance);\n};\n\nconst loadRegular = (element, settings, instance) => {\n    addOneShotEventListeners(element, settings, instance);\n    setSources(element, settings, instance);\n};\n\nconst load = (element, settings, instance) => {\n    if (hasLoadEvent(element)) {\n        loadRegular(element, settings, instance);\n    } else {\n        loadBackground(element, settings, instance);\n    }\n};\n\nconst loadNative = (element, settings, instance) => {\n    element.setAttribute(\"loading\", \"lazy\");\n    addOneShotEventListeners(element, settings, instance);\n    setSourcesNative(element, settings);\n    setStatus(element, statusNative);\n};\n\nconst removeImageAttributes = (element) => {\n    element.removeAttribute(SRC);\n    element.removeAttribute(SRCSET);\n    element.removeAttribute(SIZES);\n};\n\nconst resetSourcesImg = (element) => {\n    forEachPictureSource(element, (sourceTag) => {\n        removeImageAttributes(sourceTag);\n    });\n    removeImageAttributes(element);\n};\n\nconst restoreImg = (imgEl) => {\n    forEachPictureSource(imgEl, (sourceEl) => {\n        restoreOriginalAttrs(sourceEl, attrsSrcSrcsetSizes);\n    });\n    restoreOriginalAttrs(imgEl, attrsSrcSrcsetSizes);\n};\n\nconst restoreVideo = (videoEl) => {\n    forEachVideoSource(videoEl, (sourceEl) => {\n        restoreOriginalAttrs(sourceEl, attrsSrc);\n    });\n    restoreOriginalAttrs(videoEl, attrsSrcPoster);\n    videoEl.load();\n};\n\nconst restoreIframe = (iframeEl) => {\n    restoreOriginalAttrs(iframeEl, attrsSrc);\n};\n\nconst restoreObject = (objectEl) => {\n    restoreOriginalAttrs(objectEl, attrsData);\n};\n\nconst restoreFunctions = {\n    IMG: restoreImg,\n    IFRAME: restoreIframe,\n    VIDEO: restoreVideo,\n    OBJECT: restoreObject\n};\n\nconst restoreAttributes = (element) => {\n    const restoreFunction = restoreFunctions[element.tagName];\n    if (!restoreFunction) {\n        restoreOriginalBgImage(element);\n        return;\n    }\n    restoreFunction(element);\n};\n\nconst resetClasses = (element, settings) => {\n    if (hasEmptyStatus(element) || hasStatusNative(element)) {\n        return;\n    }\n    removeClass(element, settings.class_entered);\n    removeClass(element, settings.class_exited);\n    removeClass(element, settings.class_applied);\n    removeClass(element, settings.class_loading);\n    removeClass(element, settings.class_loaded);\n    removeClass(element, settings.class_error);\n};\n\nconst restore = (element, settings) => {\n    restoreAttributes(element);\n    resetClasses(element, settings);\n    resetStatus(element);\n    deleteOriginalAttrs(element);\n};\n\nconst cancelLoading = (element, entry, settings, instance) => {\n    if (!settings.cancel_on_exit) return;\n    if (!hasStatusLoading(element)) return;\n    if (element.tagName !== \"IMG\") return; //Works only on images\n    removeEventListeners(element);\n    resetSourcesImg(element);\n    restoreImg(element);\n    removeClass(element, settings.class_loading);\n    updateLoadingCount(instance, -1);\n    resetStatus(element);\n    safeCallback(settings.callback_cancel, element, entry, instance);\n};\n\nconst onEnter = (element, entry, settings, instance) => {\n    const dontLoad = hadStartedLoading(element); /* Save status \n        before setting it, to prevent loading it again. Fixes #526. */\n    setStatus(element, statusEntered);\n    addClass(element, settings.class_entered);\n    removeClass(element, settings.class_exited);\n    unobserveEntered(element, settings, instance);\n    safeCallback(settings.callback_enter, element, entry, instance);\n    if (dontLoad) return;\n    load(element, settings, instance);\n};\n\nconst onExit = (element, entry, settings, instance) => {\n    if (hasEmptyStatus(element)) return; //Ignore the first pass, at landing\n    addClass(element, settings.class_exited);\n    cancelLoading(element, entry, settings, instance);\n    safeCallback(settings.callback_exit, element, entry, instance);\n};\n\nconst tagsWithNativeLazy = [\"IMG\", \"IFRAME\", \"VIDEO\"];\n\nconst shouldUseNative = (settings) =>\n    settings.use_native && \"loading\" in HTMLImageElement.prototype;\n\nconst loadAllNative = (elements, settings, instance) => {\n    elements.forEach((element) => {\n        if (tagsWithNativeLazy.indexOf(element.tagName) === -1) {\n            return;\n        }\n        loadNative(element, settings, instance);\n    });\n    setToLoadCount(instance, 0);\n};\n\nconst isIntersecting = (entry) => entry.isIntersecting || entry.intersectionRatio > 0;\n\nconst getObserverSettings = (settings) => ({\n    root: settings.container === document ? null : settings.container,\n    rootMargin: settings.thresholds || settings.threshold + \"px\"\n});\n\nconst intersectionHandler = (entries, settings, instance) => {\n    entries.forEach((entry) =>\n        isIntersecting(entry)\n            ? onEnter(entry.target, entry, settings, instance)\n            : onExit(entry.target, entry, settings, instance)\n    );\n};\n\nconst observeElements = (observer, elements) => {\n    elements.forEach((element) => {\n        observer.observe(element);\n    });\n};\n\nconst updateObserver = (observer, elementsToObserve) => {\n    resetObserver(observer);\n    observeElements(observer, elementsToObserve);\n};\n\nconst setObserver = (settings, instance) => {\n    if (!supportsIntersectionObserver || shouldUseNative(settings)) {\n        return;\n    }\n    instance._observer = new IntersectionObserver((entries) => {\n        intersectionHandler(entries, settings, instance);\n    }, getObserverSettings(settings));\n};\n\nconst toArray = (nodeSet) => Array.prototype.slice.call(nodeSet);\n\nconst queryElements = (settings) =>\n    settings.container.querySelectorAll(settings.elements_selector);\n\nconst excludeManagedElements = (elements) => toArray(elements).filter(hasEmptyStatus);\n\nconst hasError = (element) => hasStatusError(element);\nconst filterErrorElements = (elements) => toArray(elements).filter(hasError);\n\nconst getElementsToLoad = (elements, settings) =>\n    excludeManagedElements(elements || queryElements(settings));\n\nconst retryLazyLoad = (settings, instance) => {\n    const errorElements = filterErrorElements(queryElements(settings));\n    errorElements.forEach((element) => {\n        removeClass(element, settings.class_error);\n        resetStatus(element);\n    });\n    instance.update();\n};\n\nconst setOnlineCheck = (settings, instance) => {\n    if (!runningOnBrowser) {\n        return;\n    }\n    instance._onlineHandler = () => {\n        retryLazyLoad(settings, instance);\n    };\n    window.addEventListener(\"online\", instance._onlineHandler);\n};\n\nconst resetOnlineCheck = (instance) => {\n    if (!runningOnBrowser) {\n        return;\n    }\n    window.removeEventListener(\"online\", instance._onlineHandler);\n};\n\nconst LazyLoad = function (customSettings, elements) {\n    const settings = getExtendedSettings(customSettings);\n    this._settings = settings;\n    this.loadingCount = 0;\n    setObserver(settings, this);\n    setOnlineCheck(settings, this);\n    this.update(elements);\n};\n\nLazyLoad.prototype = {\n    update: function (givenNodeset) {\n        const settings = this._settings;\n        const elementsToLoad = getElementsToLoad(givenNodeset, settings);\n        setToLoadCount(this, elementsToLoad.length);\n\n        if (isBot || !supportsIntersectionObserver) {\n            this.loadAll(elementsToLoad);\n            return;\n        }\n        if (shouldUseNative(settings)) {\n            loadAllNative(elementsToLoad, settings, this);\n            return;\n        }\n\n        updateObserver(this._observer, elementsToLoad);\n    },\n\n    destroy: function () {\n        // Observer\n        if (this._observer) {\n            this._observer.disconnect();\n        }\n        // Clean handlers\n        resetOnlineCheck(this);\n        // Clean custom attributes on elements\n        queryElements(this._settings).forEach((element) => {\n            deleteOriginalAttrs(element);\n        });\n        // Delete all internal props\n        delete this._observer;\n        delete this._settings;\n        delete this._onlineHandler;\n        delete this.loadingCount;\n        delete this.toLoadCount;\n    },\n\n    loadAll: function (elements) {\n        const settings = this._settings;\n        const elementsToLoad = getElementsToLoad(elements, settings);\n        elementsToLoad.forEach((element) => {\n            unobserve(element, this);\n            load(element, settings, this);\n        });\n    },\n\n    restoreAll: function() {\n        const settings = this._settings;\n        queryElements(settings).forEach((element) => {\n            restore(element, settings);\n        });\n    }\n};\n\nLazyLoad.load = (element, customSettings) => {\n    const settings = getExtendedSettings(customSettings);\n    load(element, settings);\n};\n\nLazyLoad.resetStatus = (element) => {\n    resetStatus(element);\n};\n\n// Automatic instances creation if required (useful for async script loading)\nif (runningOnBrowser) {\n    autoInitialize(LazyLoad, window.lazyLoadOptions);\n}\n\nexport { LazyLoad as default };\n","import { SideEffectManager as E } from \"side-effect-manager\";\nimport { Val as $, derive as C, combine as b, withReadonlyValueEnhancer as B } from \"value-enhancer\";\nimport H from \"vanilla-lazyload\";\nimport { Remitter as U } from \"remitter\";\nconst F = `.netless-app-docs-viewer-footer{box-sizing:border-box;height:26px;display:flex;align-items:center;padding:0 16px;border-top:1px solid #eeeef7;font-family:PingFang SC,Source Han Sans SC,Microsoft YaHei,Helvetica Neue,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif}.netless-app-docs-viewer-footer-btn{box-sizing:border-box;width:26px;height:26px;font-size:0;margin:0;padding:3px;border:none;border-radius:1px;outline:none;color:currentColor;background:transparent;transition:background .4s;cursor:pointer;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.netless-app-docs-viewer-footer-btn:hover{background:rgba(237,237,240,.9)}@media (hover: none){.netless-app-docs-viewer-footer-btn:hover{background:transparent!important}}.netless-app-docs-viewer-footer-btn>svg{width:100%;height:100%}.netless-app-docs-viewer-footer-btn>svg:nth-of-type(2){display:none}.netless-app-docs-viewer-footer-btn.netless-app-docs-viewer-footer-btn-playing>svg:nth-of-type(1){display:none}.netless-app-docs-viewer-footer-btn.netless-app-docs-viewer-footer-btn-playing>svg:nth-of-type(2){display:initial}.netless-app-docs-viewer-footer-btn~.netless-app-docs-viewer-footer-btn{margin-left:15px}.netless-app-docs-viewer-page-jumps{flex:1;display:flex;justify-content:center;align-items:center}.netless-app-docs-viewer-page-number{display:flex;align-items:center;height:26px;margin-left:auto;font-size:13px;white-space:nowrap;word-break:keep-all;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.netless-app-docs-viewer-page-number-input{border:none;outline:none;width:3em;margin:0;padding:0 .5em 0 2px;text-align:right;font-size:13px;line-height:1;font-weight:400;font-family:inherit;border-radius:2px;color:currentColor;font-family:PingFang SC,Source Han Sans SC,Microsoft YaHei,Helvetica Neue,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif;background:transparent;transition:background .4s;-webkit-tap-highlight-color:rgba(0,0,0,0)}.netless-app-docs-viewer-page-number-input:hover,.netless-app-docs-viewer-page-number-input:focus,.netless-app-docs-viewer-page-number-input:active{user-select:text;background:#fff;box-shadow:#63636333 0 2px 8px}.netless-app-docs-viewer-readonly .netless-app-docs-viewer-footer-btn{cursor:not-allowed}.netless-app-docs-viewer-readonly .netless-app-docs-viewer-footer-btn:hover{background:transparent}.netless-app-docs-viewer-readonly .netless-app-docs-viewer-page-number-input{cursor:not-allowed}.netless-app-docs-viewer-readonly .netless-app-docs-viewer-page-number-input:hover,.netless-app-docs-viewer-readonly .netless-app-docs-viewer-page-number-input:focus,.netless-app-docs-viewer-readonly .netless-app-docs-viewer-page-number-input:active{background:transparent;box-shadow:none}.netless-app-docs-viewer-readonly .netless-app-docs-viewer-page-number-input:disabled{color:inherit}.telebox-color-scheme-dark .netless-app-docs-viewer-page-number-input:active,.telebox-color-scheme-dark .netless-app-docs-viewer-page-number-input:focus,.telebox-color-scheme-dark .netless-app-docs-viewer-page-number-input:hover{color:currentColor;background:#25282e}.telebox-color-scheme-dark .netless-app-docs-viewer-footer{border-top:none}.telebox-color-scheme-dark .netless-app-docs-viewer-footer-btn:hover{background:#212126}.netless-app-docs-viewer-preview-mask{position:absolute;z-index:10200;top:0;left:0;width:100%;height:100%}.netless-app-docs-viewer-preview{box-sizing:border-box;display:flex;flex-direction:column;align-items:center;position:absolute;z-index:10300;top:0;left:0;width:33%;max-width:200px;height:100%;padding-top:10px;transform:translate(-100%);background:rgba(237,237,240,.9);box-shadow:inset -1px 0 #0000001c;transition:transform .4s;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.netless-app-docs-viewer-preview.netless-app-docs-viewer-preview-active{transform:translate(0)}.netless-app-docs-viewer-preview-page{position:relative;display:block;width:55%;margin-bottom:10px;font-size:0;color:transparent;outline:none;border:7px solid transparent;border-radius:4px;transition:border-color .3s;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.netless-app-docs-viewer-preview-page:hover,.netless-app-docs-viewer-preview-page.netless-app-docs-viewer-preview-page-active{border-color:#444e601a}.netless-app-docs-viewer-preview-page>img{width:100%;height:auto;box-sizing:border-box;border:1px solid rgba(0,0,0,.5);border-radius:1px;background-color:#fff;box-shadow:0 2px 8px #0000004d}.netless-app-docs-viewer-preview-page-name{position:absolute;top:1px;left:-10px;transform:translate(-100%);text-align:right;font-size:12px;color:#5f5f5f;user-select:none}.telebox-color-scheme-dark .netless-app-docs-viewer-preview{background:rgba(50,50,50,.9)}.netless-app-docs-viewer-content{position:relative;height:100%;overflow:hidden}.netless-app-docs-viewer-static-scrollbar{box-sizing:border-box;position:absolute;top:0;right:0;z-index:2147483647;width:16px;min-height:30px;margin:0;padding:0 0 0 8px;border:none;outline:none;opacity:0;background:transparent;transition:opacity .4s 3s,transform .1s;user-select:none;touch-action:none}.netless-app-docs-viewer-static-scrollbar:after{content:\"\";display:block;width:8px;height:100%;border-radius:4px;background:rgba(68,78,96,.4);box-shadow:1px 1px 8px #ffffffb3;transition:background .4s}.netless-app-docs-viewer-static-scrollbar.netless-app-docs-viewer-static-scrolling{opacity:1;transition:opacity .4s,transform .1s}.netless-app-docs-viewer-static-scrollbar.netless-app-docs-viewer-static-scrollbar-dragging{opacity:1;transition:opacity .4s 3s!important}.netless-app-docs-viewer-static-scrollbar.netless-app-docs-viewer-static-scrollbar-dragging:after{background:rgba(68,78,96,.6)}.netless-app-docs-viewer-static-scrollbar:hover:after,.netless-app-docs-viewer-static-scrollbar:focus:after{background:rgba(68,78,96,.5)}.netless-app-docs-viewer-static-scrollbar:active:after{background:rgba(68,78,96,.6)}.telebox-body-wrap:hover .netless-app-docs-viewer-static-scrollbar{opacity:1;transition:opacity .4s,transform .1s}.telebox-readonly .netless-app-docs-viewer-static-scrollbar{display:none}.page-renderer-pages-container{position:relative;width:100%;height:100%}.page-renderer-page{position:absolute;top:0;left:0;background-position:center;background-size:cover;background-repeat:no-repeat}.page-renderer-pages-container.is-hwa .page-renderer-page{will-change:transform}.page-renderer-page-img{display:block;width:100%;height:auto;user-select:none}.netless-app-docs-viewer-static-pages{overflow:hidden;position:relative;height:100%;user-select:none}.netless-app-docs-viewer-static-page{display:block;width:100%;height:auto;user-select:none}.netless-app-docs-viewer-dynamic-wb-view{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100;overflow:hidden}.netless-app-docs-viewer-dynamic-wb-view .cursor-clicker .ppt-event-source{cursor:pointer}\n`;\nclass Y {\n  constructor({\n    namespace: e,\n    pages$: t,\n    sideEffect: s,\n    readonly$: i,\n    events: r,\n    wrapClassName: o,\n    root: l,\n    pagesIndex$: p\n  }) {\n    this.showPreview$ = new $(!1), this.namespace = e, this.pages$ = t, this.sideEffect = s, this.readonly$ = i, this.events = r, this.wrapClassName = o, this.sideEffect.addDisposer(\n      this.events.on(\"togglePreview\", () => {\n        this.showPreview$.setValue(!this.showPreview$.value);\n      })\n    ), this.sideEffect.addDisposer(\n      this.showPreview$.subscribe((a) => {\n        this.sideEffect.add(() => {\n          const c = this.renderPreview(), u = this.renderPreviewMask();\n          if (a) {\n            l.appendChild(c), l.appendChild(u), c.scrollTop;\n            const n = c.querySelector(\n              \".\" + this.wrapClassName(`preview-page-${p.value}`)\n            );\n            return n && c.scrollTo({\n              top: n.offsetTop - 16\n            }), c.classList.toggle(this.wrapClassName(\"preview-active\"), !0), this.previewLazyLoad = new H({\n              container: this.$preview,\n              elements_selector: \".\" + this.wrapClassName(\"preview-page>img\")\n            }), () => {\n              var d;\n              return (d = this.previewLazyLoad) == null ? void 0 : d.destroy();\n            };\n          } else\n            return c.classList.toggle(this.wrapClassName(\"preview-active\"), !1), this.sideEffect.setTimeout(\n              () => {\n                c.remove(), u.remove();\n              },\n              500,\n              \"preview-remove\"\n            ), null;\n        }, \"preview-lazyload\");\n      })\n    );\n  }\n  destroy() {\n    var e, t;\n    (e = this.$preview) == null || e.remove(), (t = this.$previewMask) == null || t.remove();\n  }\n  renderPreview() {\n    if (this.$preview)\n      return this.$preview;\n    const e = document.createElement(\"div\");\n    return e.className = this.wrapClassName(\"preview\") + \" tele-fancy-scrollbar\", this.$preview = e, this.sideEffect.addEventListener(e, \"wheel\", (t) => t.stopPropagation(), {\n      passive: !1\n    }), this.sideEffect.addDisposer(\n      this.pages$.subscribe((t) => {\n        var s;\n        this.sideEffect.add(() => {\n          const i = t.map((r, o) => {\n            const l = r.thumbnail ?? (r.src.startsWith(\"ppt\") ? void 0 : r.src);\n            if (!l)\n              return;\n            const p = String(o), a = document.createElement(\"a\");\n            a.className = this.wrapClassName(\"preview-page\") + \" \" + this.wrapClassName(`preview-page-${o}`), a.setAttribute(\"href\", \"#\"), a.dataset.pageIndex = p;\n            const c = document.createElement(\"span\");\n            c.className = this.wrapClassName(\"preview-page-name\"), c.textContent = String(o + 1), c.dataset.pageIndex = p;\n            const u = document.createElement(\"img\");\n            return u.width = r.width, u.height = r.height, u.dataset.src = l, u.dataset.pageIndex = p, a.appendChild(u), a.appendChild(c), e.appendChild(a), a;\n          });\n          return () => i.forEach((r) => r == null ? void 0 : r.remove());\n        }, \"render-preview-pages\"), (s = this.previewLazyLoad) == null || s.update();\n      })\n    ), this.sideEffect.addEventListener(e, \"click\", (t) => {\n      var i;\n      if (this.readonly$.value)\n        return;\n      const s = (i = t.target.dataset) == null ? void 0 : i.pageIndex;\n      s && (t.preventDefault(), t.stopPropagation(), t.stopImmediatePropagation(), this.events.emit(\"jumpPage\", Number(s)), this.showPreview$.setValue(!1));\n    }), e;\n  }\n  renderPreviewMask() {\n    if (this.$previewMask)\n      return this.$previewMask;\n    const e = document.createElement(\"div\");\n    return e.className = this.wrapClassName(\"preview-mask\"), this.$previewMask = e, this.sideEffect.addEventListener(e, \"click\", (t) => {\n      this.readonly$.value || t.target === e && this.showPreview$.setValue(!1);\n    }), e;\n  }\n}\nfunction W(h) {\n  const e = \"http://www.w3.org/2000/svg\", t = document.createElementNS(e, \"svg\");\n  t.setAttribute(\"class\", `${h}-footer-icon-sidebar`), t.setAttribute(\"viewBox\", \"0 0 64 64\");\n  const s = document.createElementNS(e, \"path\");\n  return s.setAttribute(\"fill\", \"currentColor\"), s.setAttribute(\n    \"d\",\n    \"M50 8H14c-3.309 0-6 2.691-6 6v36c0 3.309 2.691 6 6 6h36c3.309 0 6-2.691 6-6V14c0-3.309-2.691-6-6-6zM12 50V14c0-1.103.897-2 2-2h8v40h-8c-1.103 0-2-.897-2-2zm40 0c0 1.103-.897 2-2 2H26V12h24c1.103 0 2 .897 2 2z\"\n  ), t.appendChild(s), t;\n}\nfunction j(h) {\n  const e = \"http://www.w3.org/2000/svg\", t = document.createElementNS(e, \"svg\");\n  t.setAttribute(\"class\", `${h}-footer-icon-arrow-left`), t.setAttribute(\"viewBox\", \"0 0 500 500\");\n  const s = document.createElementNS(e, \"path\");\n  return s.setAttribute(\"fill\", \"currentColor\"), s.setAttribute(\n    \"d\",\n    \"M177.81 249.959L337.473 90.295c2.722-2.865 2.651-7.378-.143-10.1-2.793-2.65-7.163-2.65-9.956 0l-164.75 164.75c-2.793 2.793-2.793 7.306 0 10.1l164.75 164.75c2.865 2.722 7.378 2.65 10.099-.143 2.651-2.794 2.651-7.163 0-9.957L177.809 249.959z\"\n  ), t.appendChild(s), t;\n}\nfunction O(h) {\n  const e = \"http://www.w3.org/2000/svg\", t = document.createElementNS(e, \"svg\");\n  t.setAttribute(\"class\", `${h}-footer-icon-arrow-right`), t.setAttribute(\"viewBox\", \"0 0 500 500\");\n  const s = document.createElementNS(e, \"path\");\n  return s.setAttribute(\"fill\", \"currentColor\"), s.setAttribute(\n    \"d\",\n    \"M322.19 250.041L162.527 409.705c-2.722 2.865-2.651 7.378.143 10.1 2.793 2.65 7.163 2.65 9.956 0l164.75-164.75c2.793-2.793 2.793-7.306 0-10.1l-164.75-164.75c-2.865-2.722-7.378-2.65-10.099.143-2.651 2.794-2.651 7.163 0 9.957l159.664 159.736z\"\n  ), t.appendChild(s), t;\n}\nfunction G(h) {\n  const e = \"http://www.w3.org/2000/svg\", t = document.createElementNS(e, \"svg\");\n  t.setAttribute(\"class\", `${h}-footer-icon-play`), t.setAttribute(\"viewBox\", \"0 0 500 500\");\n  const s = document.createElementNS(e, \"path\");\n  return s.setAttribute(\"fill\", \"currentColor\"), s.setAttribute(\n    \"d\",\n    \"M418.158 257.419L174.663 413.33c-6.017 3.919-15.708 3.772-21.291-.29-2.791-2.018-4.295-4.483-4.295-7.084V94.109c0-5.65 6.883-10.289 15.271-10.289 4.298 0 8.391 1.307 11.181 3.332l242.629 155.484c6.016 3.917 6.451 10.292.649 14.491-.216.154-.432.154-.649.292zM170.621 391.288l223.116-141.301L170.71 107.753l-.089 283.535z\"\n  ), t.appendChild(s), t;\n}\nfunction q(h) {\n  const e = \"http://www.w3.org/2000/svg\", t = document.createElementNS(e, \"svg\");\n  t.setAttribute(\"class\", `${h}-footer-icon-pause`), t.setAttribute(\"viewBox\", \"0 0 500 500\");\n  const s = document.createElementNS(e, \"path\");\n  return s.setAttribute(\"fill\", \"currentColor\"), s.setAttribute(\n    \"d\",\n    \"M312.491 78.261c0-6.159 4.893-11.213 11.04-11.213 6.158 0 11.211 5.054 11.211 11.213v343.478c0 6.159-5.053 11.213-11.211 11.213-6.147 0-11.04-5.054-11.04-11.213V78.261zM165.257 78.261c0-6.159 4.893-11.213 11.04-11.213 6.158 0 11.211 5.054 11.211 11.213v343.478c0 6.159-5.053 11.213-11.211 11.213-6.147 0-11.04-5.054-11.04-11.213V78.261z\"\n  ), t.appendChild(s), t;\n}\nfunction J(h) {\n  const e = \"http://www.w3.org/2000/svg\", t = document.createElementNS(e, \"svg\");\n  t.setAttribute(\"class\", `${h}-footer-icon-save`), t.setAttribute(\"viewBox\", \"0 0 448 512\");\n  const s = document.createElementNS(e, \"path\");\n  return s.setAttribute(\"fill\", \"currentColor\"), s.setAttribute(\n    \"d\",\n    \"M224 256c-35.2 0-64 28.8-64 64c0 35.2 28.8 64 64 64c35.2 0 64-28.8 64-64C288 284.8 259.2 256 224 256zM433.1 129.1l-83.9-83.9C341.1 37.06 328.8 32 316.1 32H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h320c35.35 0 64-28.65 64-64V163.9C448 151.2 442.9 138.9 433.1 129.1zM128 80h144V160H128V80zM400 416c0 8.836-7.164 16-16 16H64c-8.836 0-16-7.164-16-16V96c0-8.838 7.164-16 16-16h16v104c0 13.25 10.75 24 24 24h192C309.3 208 320 197.3 320 184V83.88l78.25 78.25C399.4 163.2 400 164.8 400 166.3V416z\"\n  ), t.appendChild(s), t;\n}\nfunction X(h) {\n  const e = \"http://www.w3.org/2000/svg\", t = document.createElementNS(e, \"svg\");\n  t.setAttribute(\"class\", `${h}-footer-icon-spinner`), t.setAttribute(\"viewBox\", \"0 0 512 512\");\n  const s = document.createElementNS(e, \"path\");\n  s.setAttribute(\"fill\", \"currentColor\"), s.setAttribute(\n    \"d\",\n    \"M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z\"\n  );\n  const i = document.createElementNS(e, \"animateTransform\");\n  i.setAttribute(\"attributeName\", \"transform\"), i.setAttribute(\"attributeType\", \"xml\"), i.setAttribute(\"type\", \"rotate\"), i.setAttribute(\"from\", \"0 256 256\"), i.setAttribute(\"to\", \"360 256 256\"), i.setAttribute(\"begin\", \"0s\"), i.setAttribute(\"dur\", \"2s\"), i.setAttribute(\"fill\", \"freeze\"), i.setAttribute(\"repeatCount\", \"indefinite\"), s.appendChild(i);\n  const r = document.createElementNS(e, \"text\");\n  return r.setAttribute(\"x\", \"125\"), r.setAttribute(\"y\", \"345\"), r.setAttribute(\"data-id\", \"progress\"), r.style.fontSize = \"246px\", r.textContent = \"20\", t.appendChild(r), t.appendChild(s), t;\n}\nclass K {\n  constructor({\n    namespace: e,\n    pages$: t,\n    sideEffect: s,\n    readonly$: i,\n    events: r,\n    playable: o,\n    wrapClassName: l,\n    pagesIndex$: p,\n    root: a\n  }) {\n    this.namespace = e, this.pages$ = t, this.sideEffect = s, this.readonly$ = i, this.events = r, this.wrapClassName = l, this.pagesIndex$ = p, this.playable = o, this.$footer = this.render(), a.appendChild(this.$footer);\n  }\n  destroy() {\n    this.$footer.remove();\n  }\n  render() {\n    const e = document.createElement(\"div\");\n    e.className = this.wrapClassName(\"footer\"), this.sideEffect.addDisposer(\n      this.readonly$.subscribe(\n        (n) => e.classList.toggle(this.wrapClassName(\"readonly\"), n)\n      )\n    );\n    const t = this.renderFooterBtn(\"btn-sidebar\", W(this.namespace));\n    this.sideEffect.addEventListener(t, \"click\", () => {\n      this.readonly$.value || this.events.emit(\"togglePreview\");\n    }), e.appendChild(t), this.sideEffect.addDisposer(\n      this.pages$.subscribe((n) => {\n        const d = n.some((g) => g.thumbnail || !g.src.startsWith(\"ppt\"));\n        t.style.display = d ? \"\" : \"none\";\n      })\n    );\n    const s = document.createElement(\"div\");\n    s.className = this.wrapClassName(\"page-jumps\");\n    const i = this.renderFooterBtn(\"btn-page-back\", j(this.namespace));\n    if (this.sideEffect.addEventListener(i, \"click\", () => {\n      this.readonly$.value || this.events.emit(\"back\");\n    }), s.appendChild(i), this.playable) {\n      const n = this.renderFooterBtn(\n        \"btn-page-play\",\n        G(this.namespace),\n        q(this.namespace)\n      );\n      this.sideEffect.addEventListener(n, \"click\", () => {\n        this.readonly$.value || (n.classList.toggle(this.wrapClassName(\"footer-btn-playing\"), !0), this.events.emit(\"play\"), this.sideEffect.setTimeout(\n          () => n.classList.toggle(this.wrapClassName(\"footer-btn-playing\"), !1),\n          500,\n          \"returnPlay\"\n        ));\n      }), s.appendChild(n);\n    }\n    const r = this.renderFooterBtn(\"btn-page-next\", O(this.namespace));\n    this.sideEffect.addEventListener(r, \"click\", () => {\n      this.readonly$.value || this.events.emit(\"next\");\n    }), s.appendChild(r);\n    const o = document.createElement(\"div\");\n    o.className = this.wrapClassName(\"page-number\");\n    const l = document.createElement(\"input\");\n    l.className = this.wrapClassName(\"page-number-input\"), this.sideEffect.addDisposer(\n      this.readonly$.subscribe((n) => l.disabled = n)\n    ), this.sideEffect.addDisposer(\n      this.pagesIndex$.subscribe((n) => l.value = String(n + 1))\n    ), this.sideEffect.addEventListener(l, \"blur\", () => {\n      l.value = String(this.pagesIndex$.value + 1);\n    }), this.sideEffect.addEventListener(l, \"change\", () => {\n      if (this.readonly$.value)\n        return;\n      const n = l.value ? Number(l.value) - 1 : NaN;\n      n >= 0 ? this.events.emit(\"jumpPage\", n) : l.value = String(this.pagesIndex$.value + 1);\n    });\n    const p = document.createElement(\"span\");\n    this.sideEffect.addDisposer(\n      this.pages$.subscribe((n) => {\n        p.textContent = \" / \" + n.length;\n      })\n    ), o.appendChild(l), o.appendChild(p), e.appendChild(s), e.appendChild(o);\n    const a = J(this.namespace), c = X(this.namespace);\n    c.style.display = \"none\";\n    const u = document.createElement(\"button\");\n    return u.className = this.wrapClassName(\"footer-btn\"), u.appendChild(a), u.appendChild(c), this.sideEffect.addEventListener(u, \"click\", () => {\n      this.events.emit(\"save\");\n    }), this.events.on(\"saveProgress\", (n) => {\n      if (n < 99) {\n        c.style.display = \"block\", a.style.display = \"none\";\n        const d = c.querySelector(\"[data-id]\");\n        d && (d.textContent = n.toString().padStart(2, \"0\"));\n      } else\n        c.style.display = \"none\", a.style.display = \"block\";\n    }), e;\n  }\n  renderFooterBtn(e, t, s) {\n    const i = document.createElement(\"button\");\n    return i.className = this.wrapClassName(\"footer-btn\") + \" \" + this.wrapClassName(e), i.appendChild(t), s && i.appendChild(s), i;\n  }\n}\nclass T {\n  constructor({\n    readonly$: e,\n    pagesIndex$: t,\n    previewRoot: s,\n    footerRoot: i,\n    pages$: r,\n    playable: o\n  }) {\n    this.wrapClassName = (l) => `${this.namespace}-${l}`, this.namespace = \"netless-app-docs-viewer\", this.sideEffect = new E(), this.events = new U(), this.preview = new Y({\n      pages$: r,\n      readonly$: e,\n      pagesIndex$: t,\n      root: s,\n      sideEffect: this.sideEffect,\n      events: this.events,\n      namespace: this.namespace,\n      wrapClassName: this.wrapClassName\n    }), this.footer = new K({\n      pages$: r,\n      readonly$: e,\n      playable: o,\n      pagesIndex$: t,\n      root: i,\n      namespace: this.namespace,\n      sideEffect: this.sideEffect,\n      events: this.events,\n      wrapClassName: this.wrapClassName\n    });\n  }\n  destroy() {\n    this.preview.destroy(), this.footer.destroy(), this.sideEffect.flushAll(), this.events.destroy();\n  }\n}\nfunction x(h, e, t) {\n  return Math.min(Math.max(h, e), t);\n}\nfunction A(h) {\n  return h.touches ? h.touches[0] : h;\n}\nfunction D(h) {\n  h.stopPropagation(), h.cancelable && h.preventDefault();\n}\nfunction z(h, e) {\n  return h.width === e.width && h.height === e.height;\n}\nclass Q {\n  constructor(e) {\n    this.velocity = 0, this._paused = !0, this._animationFrameID = null, this._loopTimestamp = 0, this.looper = (t) => {\n      var i;\n      if (this._paused)\n        return;\n      let s = Math.floor((t - this._loopTimestamp) / 1e3 * 60) + 1;\n      for (this._loopTimestamp = t; s-- > 0; )\n        this.stepper();\n      (i = this.onStep) == null || i.call(this, this.current), this._paused ? this._animationFrameID = null : this._animationFrameID = window.requestAnimationFrame(this.looper);\n    }, this.current = e.start ?? 0, this.target = this.current, this.stiffness = e.stiffness ?? 170, this.damping = e.damping ?? 26, this.onStep = e.onStep;\n  }\n  get paused() {\n    return this._paused;\n  }\n  stepTo(e, t) {\n    var s;\n    this._paused && t != null && (this.current = t), this._paused = !1, this.target = e, (s = this.onStep) == null || s.call(this, this.current), this._loopTimestamp = Date.now(), this._animationFrameID = window.requestAnimationFrame(this.looper);\n  }\n  pause() {\n    this._paused = !0, this._animationFrameID != null && window.cancelAnimationFrame(this._animationFrameID);\n  }\n  destroy() {\n    this.pause(), this.onStep = void 0;\n  }\n  stepper() {\n    const e = -this.stiffness * (this.current - this.target), t = -this.damping * this.velocity, s = this.velocity + (e + t) / 60, i = this.current + s / 60;\n    Math.abs(s - 0) < 0.01 && Math.abs(i - this.target) < 0.01 ? (this.current = this.target, this.velocity = 0, this._paused = !0) : (this.current = i, this.velocity = s);\n  }\n}\nclass Z {\n  constructor(e, t, s, i, r, o) {\n    this.index = e, this.lastVisit = Date.now(), this.sideEffect = new E();\n    const l = C(t, (n) => n[e] || { width: 0, height: 0 }), p = b(\n      [l, s],\n      ([n, d]) => (d.width - n.width) / 2\n    ), a = b(\n      [r, o],\n      ([n, d]) => (n[e] || 0) - d\n    ), c = document.createElement(\"div\");\n    c.className = \"page-renderer-page\", c.dataset.index = `${e}`;\n    const u = document.createElement(\"img\");\n    u.className = \"page-renderer-page-img\", c.appendChild(u), this.sideEffect.addDisposer([\n      b([l, i]).subscribe(([n, d]) => {\n        c.style.width = `${n.width * d}px`, c.style.height = `${n.height * d}px`;\n      }),\n      l.subscribe((n) => {\n        n.thumbnail && (c.style.backgroundImage = `url(\"${n.thumbnail}\")`), u.width = n.width, u.height = n.height, u.src = n.src;\n      }),\n      b([p, a, i]).subscribe(\n        ([n, d, g]) => {\n          c.style.transform = `translate(${n * g}px, ${d * g}px)`;\n        }\n      )\n    ]), this.$page = c;\n  }\n  destroy() {\n    this.sideEffect.flushAll(), this.$page.remove();\n  }\n}\nclass ee {\n  constructor(e, t, s, i, r) {\n    this.pages$ = e, this.pagesSize$ = t, this.scale$ = s, this.pagesYs$ = i, this.pagesScrollTop$ = r, this.els = /* @__PURE__ */ new Map(), this.maxElCount = 200, this.gcTimer = null, this.gc = () => {\n      var o;\n      if (this.gcTimer = null, this.els.size > this.maxElCount) {\n        const l = [...this.els.values()].sort((p, a) => a.lastVisit - p.lastVisit);\n        for (let p = Math.floor(this.maxElCount / 4); p < l.length; p++)\n          (o = this.els.get(l[p].index)) == null || o.destroy(), this.els.delete(l[p].index);\n      }\n    }, this.schedule = window.requestIdleCallback || ((o) => window.setTimeout(o, 5e3)), this.cancelSchedule = window.cancelIdleCallback || window.clearTimeout;\n  }\n  getEl(e) {\n    let t = this.els.get(e);\n    return t || (t = new Z(\n      e,\n      this.pages$,\n      this.pagesSize$,\n      this.scale$,\n      this.pagesYs$,\n      this.pagesScrollTop$\n    ), this.els.set(e, t)), t.lastVisit = Date.now(), this.els.size > this.maxElCount && this.gcTimer === null && (this.gcTimer = this.schedule(this.gc)), t;\n  }\n  destroy() {\n    this.els.forEach((e) => e.destroy()), this.els.clear(), this.gcTimer !== null && (this.cancelSchedule(this.gcTimer), this.gcTimer = null);\n  }\n}\nclass te {\n  constructor({ pagesScrollTop$: e, containerRect$: t, pages$: s, pagesSize$: i }) {\n    this.sideEffect = new E(), s = C(\n      s,\n      (d) => d.map((g) => {\n        if (g.thumbnail)\n          return g;\n        try {\n          const w = new URL(g.src);\n          return w.searchParams.set(\"x-oss-process\", \"image/resize,l_50\"), { ...g, thumbnail: w.toString() };\n        } catch (w) {\n          return console.error(w), g;\n        }\n      })\n    );\n    const r = C(s, (d) => {\n      const g = Array(d.length);\n      for (let w = 0; w < d.length; w++)\n        g[w] = w > 0 ? g[w - 1] + d[w - 1].height : 0;\n      return g;\n    }), o = C(s, (d) => {\n      let g = 1 / 0;\n      for (let w = d.length - 1; w >= 0; w--)\n        d[w].height <= g && (g = d[w].height);\n      return g;\n    }), l = b(\n      [e, r, s],\n      ([d, g, w]) => {\n        if (g.length !== w.length)\n          return l.value;\n        for (let f = 0; f < g.length; f++)\n          if (g[f] + w[f].height - d >= 1e-3)\n            return f;\n        return g.length - 1;\n      }\n    ), p = b(\n      [t, i],\n      ([d, g]) => d.width / g.width || 1\n    ), a = b(\n      [s, t, o, p],\n      ([d, g, w, f]) => x(Math.ceil(g.height / f / w / 2), 1, d.length)\n    );\n    B(this, {\n      pagesScrollTop: e,\n      containerRect: t,\n      pages: s,\n      pagesSize: i,\n      pagesIndex: l,\n      pagesYs: r,\n      pagesMinHeight: o,\n      scale: p\n    }), this.pageElManager = new ee(s, i, p, r, e), this.$pages = this.renderPages();\n    const c = new $(!1);\n    this.sideEffect.addDisposer(\n      c.subscribe((d) => this.$pages.classList.toggle(\"is-hwa\", d))\n    );\n    const u = () => c.setValue(!1), n = () => {\n      this.sideEffect.setTimeout(u, 1e3, \"turn-off-hwa\"), c.setValue(!0);\n    };\n    this.sideEffect.addDisposer(\n      b([l, a, s]).subscribe(([d, g, w]) => {\n        n();\n        const f = Math.max(d - g, 0), N = Math.min(d + g, w.length - 1);\n        for (let m = 0; m < this.$pages.children.length; m++) {\n          const S = this.$pages.children[m], k = Number(S.dataset.index);\n          k >= f && k <= N || (S.remove(), m--);\n        }\n        for (let m = f; m <= N; m++) {\n          const S = this.pageElManager.getEl(m);\n          S.$page.parentElement !== this.$pages && this.$pages.appendChild(S.$page);\n        }\n      })\n    );\n  }\n  renderPages() {\n    const e = document.createElement(\"div\");\n    return e.className = \"page-renderer-pages-container\", this.sideEffect.addDisposer(\n      this._containerRect$.subscribe((t) => {\n        e.style.width = `${t.width}px`, e.style.height = `${t.height}px`;\n      }),\n      \"render-pages-size\"\n    ), e;\n  }\n  destroy() {\n    this.sideEffect.flushAll(), this.$pages.remove(), this.pageElManager.destroy();\n  }\n}\nconst se = 30;\nclass ie {\n  constructor({\n    pagesScrollTop$: e,\n    containerRect$: t,\n    stageRect$: s,\n    pagesSize$: i,\n    readonly$: r,\n    scrollbarMinHeight: o = se,\n    wrapClassName: l,\n    onDragScroll: p\n  }) {\n    this.sideEffect = new E(), this.scrolling$ = new $(!1), this.pagesScrollTop$ = e, this.containerRect$ = t, this.stageRect$ = s, this.pagesSize$ = i, this.scrollbarMinHeight = o, this.readonly$ = r, this.wrapClassName = l, this.onDragScroll = p, this.scrollbarHeight$ = b(\n      [t, s, i],\n      ([a, c, u]) => x(\n        c.height / (c.width / u.width * u.height) * a.height,\n        o,\n        a.height\n      )\n    ), this.scrollTop$ = b(\n      [t, s, i, this.scrollbarHeight$, this.pagesScrollTop$],\n      ([a, c, u, n, d]) => x(\n        d / (u.height - u.width / c.width * c.height) * (a.height - n),\n        0,\n        a.height - n\n      )\n    ), this.$scrollbar = this.renderScrollbar();\n  }\n  mount(e) {\n    e.appendChild(this.$scrollbar);\n  }\n  destroy() {\n    this.$scrollbar.remove(), this.onDragScroll = void 0, this.sideEffect.flushAll();\n  }\n  renderScrollbar() {\n    const e = document.createElement(\"button\");\n    e.className = this.wrapClassName(\"scrollbar\"), e.style.minHeight = `${this.scrollbarMinHeight}px`, this.sideEffect.addDisposer([\n      this.scrollbarHeight$.subscribe((s) => {\n        e.style.height = `${s}px`;\n      }),\n      this.scrollTop$.subscribe((s) => {\n        this.scrolling$.setValue(!0), this.sideEffect.setTimeout(() => this.scrolling$.setValue(!1), 100, \"reset-scrolling\");\n        const i = () => e.style.transform = `translateY(${s}px)`;\n        window.requestAnimationFrame ? window.requestAnimationFrame(i) : i();\n      }),\n      this.scrolling$.subscribe((s) => {\n        e.classList.toggle(this.wrapClassName(\"scrolling\"), s);\n      })\n    ]);\n    const t = (s) => {\n      if (!s.isPrimary || this.readonly$.value || s.button != null && s.button !== 0)\n        return;\n      D(s);\n      const i = this.wrapClassName(\"scrollbar-dragging\");\n      e.classList.toggle(i, !0);\n      const r = this.pagesScrollTop$.value, { clientY: o } = A(s), l = (a) => {\n        if (!a.isPrimary || this.readonly$.value)\n          return;\n        const { clientY: c } = A(a), u = c - o;\n        Math.abs(u) > 0 && this.onDragScroll && this.onDragScroll(\n          r + u / this.containerRect$.value.height * this.pagesSize$.value.height\n        );\n      }, p = (a) => {\n        !a.isPrimary || (e.classList.toggle(i, !1), window.removeEventListener(\"pointermove\", l, !0), window.removeEventListener(\"pointerup\", p, !0), window.removeEventListener(\"pointercancel\", p, !0));\n      };\n      window.addEventListener(\"pointermove\", l, !0), window.addEventListener(\"pointerup\", p, !0), window.addEventListener(\"pointercancel\", p, !0);\n    };\n    return this.sideEffect.addEventListener(e, \"pointerdown\", t), e;\n  }\n}\nclass re {\n  constructor({\n    whiteboard: e,\n    readonly$: t,\n    box: s,\n    pages: i,\n    pagesScrollTop: r = 0,\n    onUserScroll: o\n  }) {\n    this.sideEffect = new E(), this.userScrolling = !1, this.toPdf = async () => {\n      const a = document.createElement(\"canvas\"), c = a.getContext(\"2d\");\n      if (!c)\n        return null;\n      const u = this.whiteboard.pageState.pages[0], n = this.pages[0], { jsPDF: d } = await import(\"jspdf\"), g = new d({\n        format: [n.width, n.height],\n        orientation: n.width > n.height ? \"l\" : \"p\",\n        compress: !0\n      });\n      for (const [S, k] of this.pages.entries()) {\n        const { width: y, height: v, src: M } = k;\n        a.width = y, a.height = v;\n        const L = y > v ? \"l\" : \"p\";\n        S > 0 && g.addPage([y, v], L);\n        const V = await this.getBase64FromUrl(M), P = document.createElement(\"img\");\n        P.src = V, await new Promise((_) => P.onload = _), c.drawImage(P, 0, 0);\n        const R = a.toDataURL(\"image/jpeg\", 0.6);\n        c.clearRect(0, 0, y, v), this.whiteboard.view.screenshotToCanvas(c, u, y, v, {\n          centerX: y / 2,\n          centerY: v / 2 + S * v,\n          scale: 1\n        });\n        const I = a.toDataURL(\"image/png\");\n        g.addImage(R, \"JPEG\", 0, 0, y, v, \"\", \"FAST\"), g.addImage(I, \"PNG\", 0, 0, y, v, \"\", \"FAST\"), c.clearRect(0, 0, y, v), this.viewer.events.emit(\"saveProgress\", Math.ceil((S + 1) / this.pages.length * 100));\n      }\n      const w = g.output(\"arraybuffer\"), f = new Blob([w]), N = URL.createObjectURL(f), m = document.createElement(\"a\");\n      m.setAttribute(\"href\", N), m.setAttribute(\"download\", `${this.box.title}.pdf`), m.style.display = \"none\", document.body.appendChild(m), m.click(), document.body.removeChild(m), window.postMessage({ type: \"@app-slide/_download_pdf_\", buf: w });\n    }, this.whiteboard = e, this.readonly$ = t, this.box = s, this.pages = i, this.onUserScroll = o;\n    const l = () => {\n      var a;\n      this.userScrolling = !1, (a = this.onUserScroll) == null || a.call(this, this.pagesScrollTop$.value);\n    };\n    this.debounceOnUserScroll = () => {\n      this.userScrolling = !0, this.sideEffect.setTimeout(l, 80, \"debounceOnUserScroll\");\n    };\n    const p = new $(i);\n    this.pagesScrollTop$ = new $(r), this.pagesSize$ = C(\n      p,\n      (a) => {\n        let c = 0, u = 0;\n        for (let n = a.length - 1; n >= 0; n--) {\n          const d = a[n];\n          d.width > c && (c = d.width), u += d.height;\n        }\n        return { width: Math.max(1, c), height: Math.max(1, u) };\n      },\n      { compare: z }\n    ), this.pageRenderer = new te({\n      pagesScrollTop$: this.pagesScrollTop$,\n      containerRect$: s._stageRect$,\n      pages$: p,\n      pagesSize$: this.pagesSize$\n    }), this.viewer = new T({\n      readonly$: t,\n      pagesIndex$: this.pageRenderer._pagesIndex$,\n      previewRoot: s.$body,\n      footerRoot: s.$footer,\n      pages$: p,\n      playable: !1\n    }), this.sideEffect.addDisposer([\n      this.viewer.events.on(\"next\", () => {\n        this.userScrollByPercent(0.8);\n      }),\n      this.viewer.events.on(\"back\", () => {\n        this.userScrollByPercent(-0.8);\n      })\n    ]), this.scrollbar = new ie({\n      pagesScrollTop$: this.pagesScrollTop$,\n      containerRect$: s._bodyRect$,\n      stageRect$: s._stageRect$,\n      pagesSize$: this.pagesSize$,\n      readonly$: t,\n      wrapClassName: this.wrapClassName.bind(this),\n      onDragScroll: (a) => {\n        this.pageScrollTo(a), this.debounceOnUserScroll();\n      }\n    }), this.pageScrollStepper = new Q({\n      start: this.pagesScrollTop$.value,\n      onStep: (a) => {\n        this.pageScrollTo(a);\n      }\n    }), this.sideEffect.addDisposer(\n      this.viewer.events.on(\"jumpPage\", (a) => this.userScrollToPageIndex(a))\n    ), this.sideEffect.addDisposer(this.viewer.events.on(\"save\", () => this.toPdf())), this.render(), this.setupScrollListener(), this.sideEffect.setTimeout(() => {\n      this.userScrolling || this.pageScrollTo(this.pageRenderer.pagesScrollTop);\n    }, 100);\n  }\n  get pagesScrollTop() {\n    return this.pagesScrollTop$.value;\n  }\n  destroy() {\n    this.sideEffect.flushAll(), this.pageScrollStepper.destroy(), this.onUserScroll = void 0, this.viewer.destroy(), this.pageRenderer.destroy(), this.scrollbar.destroy();\n  }\n  syncPageScrollTop(e) {\n    !this.userScrolling && e >= 0 && Math.abs(this.pagesScrollTop$.value - e) > 0.01 && this.pageScrollStepper.stepTo(e, this.pagesScrollTop$.value);\n  }\n  async getBase64FromUrl(e) {\n    const s = await (await fetch(e)).blob();\n    return new Promise((i) => {\n      const r = new FileReader();\n      r.readAsDataURL(s), r.onloadend = () => {\n        const o = r.result;\n        i(o);\n      };\n    });\n  }\n  render() {\n    this.box.$content.style.overflow = \"hidden\", this.box.mountStage(this.pageRenderer.$pages), this.scrollbar.mount(this.box.$body);\n  }\n  pageScrollTo(e) {\n    const t = this.whiteboard.view.size.height / 2 / this.pageRenderer.scale;\n    this.whiteboard.view.moveCamera({\n      centerY: x(\n        e + t,\n        t,\n        this.pagesSize$.value.height - t\n      ),\n      animationMode: \"immediately\"\n    });\n  }\n  userScrollToPageIndex(e) {\n    var t;\n    if (e = x(e, 0, this.pages.length - 1), !this.readonly$.value && !Number.isNaN(e)) {\n      const s = this.pageRenderer.pagesYs[e];\n      s >= 0 && ((t = this.onUserScroll) == null || t.call(this, s + 5 / this.pageRenderer.scale));\n    }\n  }\n  userScrollByPercent(e) {\n    var t;\n    this.readonly$.value || (t = this.onUserScroll) == null || t.call(\n      this,\n      x(\n        this.pageRenderer.pagesScrollTop + this.pageRenderer.containerRect.height / this.pageRenderer.scale * x(e, -1, 1),\n        0,\n        this.pageRenderer.pagesSize.height - this.pageRenderer.containerRect.height / this.pageRenderer.scale\n      )\n    );\n  }\n  setupScrollListener() {\n    this.sideEffect.addEventListener(\n      this.box.$main,\n      \"wheel\",\n      (e) => {\n        D(e), !this.readonly$.value && this.pageScrollStepper.paused && (this.pageScrollTo(this.pagesScrollTop + e.deltaY), this.debounceOnUserScroll());\n      },\n      { passive: !1 }\n    ), this.sideEffect.addEventListener(\n      this.box.$main,\n      \"touchmove\",\n      (e) => {\n        !this.readonly$.value && e.touches.length > 1 && this.debounceOnUserScroll();\n      },\n      { passive: !0, capture: !0 }\n    ), this.sideEffect.add(() => {\n      const e = (t) => {\n        const { width: s, height: i } = this.whiteboard.view.size;\n        if (s <= 0 || i <= 0)\n          return;\n        const r = t.centerY - this.pageRenderer.containerRect.height / this.pageRenderer.scale / 2;\n        this.pagesScrollTop$.setValue(Math.max(0, r));\n      };\n      return this.whiteboard.view.callbacks.on(\"onCameraUpdated\", e), () => this.whiteboard.view.callbacks.off(\"onCameraUpdated\", e);\n    }), this.sideEffect.addDisposer(\n      this.box._stageRect$.subscribe((e) => {\n        const { width: t, height: s } = this.pagesSize$.value;\n        this.whiteboard.view.moveCameraToContain({\n          originX: 0,\n          originY: this.pageRenderer.pagesScrollTop,\n          width: t,\n          height: e.height / this.pageRenderer.scale,\n          animationMode: \"immediately\"\n        }), this.whiteboard.view.setCameraBound({\n          damping: 1,\n          maxContentMode: () => this.pageRenderer.scale,\n          minContentMode: () => this.pageRenderer.scale,\n          centerX: t / 2,\n          centerY: s / 2,\n          width: t,\n          height: s\n        });\n      }),\n      \"whiteboard-size-update\"\n    ), this.sideEffect.addEventListener(\n      window,\n      \"keyup\",\n      (e) => {\n        if (!(this.readonly$.value || !this.box.focus || this.box.minimized))\n          switch (e.key) {\n            case \"PageDown\": {\n              this.userScrollByPercent(0.8);\n              break;\n            }\n            case \"PageUp\": {\n              this.userScrollByPercent(-0.8);\n              break;\n            }\n            case \"ArrowLeft\": {\n              this.userScrollByPercent(-0.25);\n              break;\n            }\n            case \"ArrowRight\": {\n              this.userScrollByPercent(0.25);\n              break;\n            }\n            case \"ArrowDown\": {\n              this.userScrollByPercent(0.5);\n              break;\n            }\n            case \"ArrowUp\": {\n              this.userScrollByPercent(-0.5);\n              break;\n            }\n          }\n      },\n      { capture: !0 }\n    );\n  }\n  wrapClassName(e) {\n    return \"netless-app-docs-viewer-static-\" + e;\n  }\n}\nclass ae {\n  constructor({ readonly$: e, context: t, whiteboard: s, box: i, pages: r }) {\n    this.sideEffect = new E(), this.context = t, this.whiteboard = s, this.box = i, this.pages = r;\n    const o = new $(t.displayer.state.sceneState.index || 0);\n    this.pagesIndex$ = o, this.sideEffect.add(() => {\n      const l = (p) => {\n        this.jumpToPage(p.index);\n      };\n      return this.context.emitter.on(\"sceneStateChange\", l), () => this.context.emitter.off(\"sceneStateChange\", l);\n    }), this.viewer = new T({\n      readonly$: e,\n      pagesIndex$: o,\n      previewRoot: i.$body,\n      footerRoot: i.$footer,\n      pages$: new $(r),\n      playable: !0\n    }), this.sideEffect.addDisposer([\n      this.viewer.events.on(\"jumpPage\", (l) => this.jumpToPage(l, !0)),\n      this.viewer.events.on(\"play\", () => {\n        var l;\n        return (l = this.context.room) == null ? void 0 : l.pptNextStep();\n      }),\n      this.viewer.events.on(\"back\", () => this.prevPage()),\n      this.viewer.events.on(\"next\", () => this.nextPage())\n    ]), this.render(), this.sideEffect.addDisposer(\n      o.subscribe((l, p) => {\n        var u, n;\n        if (e.value)\n          return;\n        const a = this.context.getInitScenePath(), c = (n = (u = this.context.getScenes()) == null ? void 0 : u[l]) == null ? void 0 : n.name;\n        if (a && c && this.context.setScenePath(`${a}/${c}`), p) {\n          const d = this.context.room;\n          if (d) {\n            const g = d.state.globalState.__pptState;\n            d.setGlobalState({\n              __pptState: g && {\n                uuid: g.uuid,\n                pageIndex: l,\n                disableAutoPlay: g.disableAutoPlay\n              }\n            });\n          }\n        }\n      })\n    );\n  }\n  destroy() {\n    this.sideEffect.flushAll(), this.viewer.destroy();\n  }\n  nextPage() {\n    this.jumpToPage(this.pagesIndex$.value + 1, !0);\n  }\n  prevPage() {\n    this.jumpToPage(this.pagesIndex$.value - 1, !0);\n  }\n  jumpToPage(e, t = !1) {\n    this.pagesIndex$.setValue(x(e, 0, this.pages.length - 1), t);\n  }\n  render() {\n    var t;\n    this.box.mountStage(document.createElement(\"div\")), this.sideEffect.addEventListener(window, \"keydown\", (s) => {\n      var i;\n      if (this.box.focus)\n        switch (s.key) {\n          case \"ArrowUp\":\n          case \"ArrowLeft\": {\n            this.prevPage();\n            break;\n          }\n          case \"ArrowRight\":\n          case \"ArrowDown\": {\n            (i = this.context.room) == null || i.pptNextStep();\n            break;\n          }\n        }\n    });\n    const e = (t = this.whiteboard.view.divElement) == null ? void 0 : t.parentElement;\n    e && this.sideEffect.addEventListener(e, \"click\", (s) => {\n      var r;\n      const i = this.context.room;\n      if (i && i.state.memberState.currentApplianceName === \"clicker\") {\n        for (let o = s.target; o; o = o.parentElement)\n          if ((r = o.classList) != null && r.contains(\"ppt-event-source\"))\n            return;\n        i.pptNextStep();\n      }\n    });\n  }\n  wrapClassName(e) {\n    return \"netless-app-docs-viewer-dynamic-\" + e;\n  }\n}\nconst ne = \"DocsViewer\", ue = {\n  kind: ne,\n  setup(h) {\n    const e = h.box, t = h.getScenes();\n    if (!t)\n      throw new Error(\"[Docs Viewer]: scenes not found.\");\n    const s = new E(), i = t.map(\n      ({ ppt: o }) => o ? {\n        width: o.width,\n        height: o.height,\n        src: o.src,\n        thumbnail: o.previewURL\n      } : null\n    ).filter((o) => Boolean(o));\n    if (i.length <= 0)\n      throw new Error(\"[Docs Viewer]: empty scenes.\");\n    e.mountStyles(F);\n    const r = new $(!h.isWritable);\n    s.addDisposer(\n      h.emitter.on(\"writableChange\", (o) => {\n        r.setValue(!o);\n      })\n    ), i[0].src.startsWith(\"ppt\") ? le(\n      s,\n      h,\n      e,\n      i,\n      r\n    ) : oe(\n      s,\n      h,\n      e,\n      i,\n      r\n    ), s.addDisposer(\n      h.emitter.on(\"destroy\", () => {\n        s.flushAll();\n      })\n    );\n  }\n};\nfunction oe(h, e, t, s, i) {\n  const r = e.createWhiteBoardView({ syncCamera: !1 });\n  h.addDisposer(\n    i.subscribe((p) => {\n      r.view.disableCameraTransform = p;\n    })\n  );\n  const o = e.createStorage(\"static-docs-viewer\", { pagesScrollTop: 0 }), l = new re({\n    whiteboard: r,\n    readonly$: i,\n    box: t,\n    pages: s,\n    pagesScrollTop: o.state.pagesScrollTop,\n    onUserScroll: (p) => {\n      e.isWritable && o.setState({ pagesScrollTop: p });\n    }\n  });\n  h.addDisposer(() => l.destroy()), h.addDisposer(\n    o.on(\"stateChanged\", (p) => {\n      p.pagesScrollTop && l.syncPageScrollTop(p.pagesScrollTop.newValue || 0);\n    })\n  ), h.addDisposer(\n    b(\n      [\n        t._maximized$,\n        t._managerStageRect$,\n        t._intrinsicSize$,\n        l.pagesSize$,\n        l.pageRenderer._pagesMinHeight$\n      ],\n      ([p, a, c, u, n]) => p ? Math.max(\n        n / u.width * (2 / 5),\n        a.height / a.width\n      ) : c.height / c.width * (a.height / a.width)\n    ).subscribe((p) => {\n      t.setStageRatio(p);\n    })\n  );\n}\nfunction le(h, e, t, s, i) {\n  const r = e.createWhiteBoardView();\n  r.view.disableCameraTransform = !0;\n  const o = new ae({\n    context: e,\n    whiteboard: r,\n    box: t,\n    pages: s,\n    readonly$: i\n  });\n  h.addDisposer(() => o.destroy());\n  const l = new $(\n    { width: s[0].width, height: s[0].height },\n    { compare: z }\n  );\n  if (h.addDisposer(\n    o.pagesIndex$.subscribe((p) => {\n      const a = s[p];\n      a && l.setValue({ width: a.width, height: a.height });\n    })\n  ), h.addDisposer(\n    l.subscribe((p) => {\n      i.value || r.setBaseRect(p);\n    })\n  ), e.isAddApp) {\n    const p = h.add(() => {\n      const a = ({ width: c, height: u }) => {\n        if (s.length > 0 && t.state !== \"maximized\") {\n          const { width: n, height: d } = s[0], w = d / n * c - u;\n          w !== 0 && e.isWritable && e.emitter.emit(\"setBoxSize\", {\n            width: t.intrinsicWidth,\n            height: t.intrinsicHeight + w / t.rootRect.height\n          });\n        }\n        h.remove(p);\n      };\n      return r.view.callbacks.once(\"onSizeUpdated\", a), () => r.view.callbacks.off(\"onSizeUpdated\", a);\n    });\n  }\n}\nexport {\n  T as DocsViewer,\n  ue as NetlessAppDocsViewer,\n  te as PageRenderer,\n  ie as ScrollBar,\n  Q as Stepper,\n  ue as default\n};\n//# sourceMappingURL=main.mjs.map\n","export interface Rect {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n}\n\nexport interface Size {\n    width: number;\n    height: number;\n}\n\nexport function isSameSize(a: Size, b: Size): boolean {\n    return a.width === b.width && a.height === b.height;\n}\n\nexport function isSameRect(a: Rect, b: Rect): boolean {\n    return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\nexport function clamp(value: number, min: number, max: number): number {\n    return Math.min(Math.max(value, min), max);\n}\n","import styles from \"./style.css?inline\";\n\nimport { derive, ReadonlyVal, Val } from \"value-enhancer\";\nimport { Disposable } from \"side-effect-manager\";\nimport { DocsViewer, DocsViewerPage, PageRenderer, Stepper } from \"@netless/app-docs-viewer\";\nimport { IServiceFilePreview, CloudFile, FileResourceType } from \"@netless/flat-services\";\nimport { queryConvertingTaskStatus } from \"@netless/flat-service-provider-file-convert-netless\";\nimport { clamp, isSameRect, isSameSize, Rect, Size } from \"../utils\";\n\nexport class StaticDocsViewer implements IServiceFilePreview {\n    public disposable = new Disposable();\n    public pagesScrollTop$: Val<number>;\n    public pages$: Val<DocsViewerPage[]>;\n    public pagesSize$: ReadonlyVal<Size>;\n    public readonly$: Val<boolean>;\n\n    public pageRenderer: PageRenderer;\n    public viewer: DocsViewer;\n    public stepper: Stepper;\n\n    public $docsViewer: HTMLElement;\n\n    public constructor() {\n        this.readonly$ = new Val(false);\n        this.pages$ = new Val<DocsViewerPage[]>([]);\n        this.pagesScrollTop$ = new Val(0);\n        this.pagesSize$ = derive(\n            this.pages$,\n            pages => {\n                let width = 0;\n                let height = 0;\n                for (let i = pages.length - 1; i >= 0; i--) {\n                    const page = pages[i];\n                    if (page.width > width) {\n                        width = page.width;\n                    }\n                    height += page.height;\n                }\n                return { width: Math.max(1, width), height: Math.max(1, height) };\n            },\n            { compare: isSameSize },\n        );\n\n        const $docsViewer = document.createElement(\"div\");\n        this.$docsViewer = $docsViewer;\n        $docsViewer.tabIndex = 0;\n        $docsViewer.className = \"file-preview-netless-container\";\n\n        const $style = document.createElement(\"style\");\n        $style.textContent = styles;\n        $docsViewer.appendChild($style);\n\n        const $body = document.createElement(\"div\");\n        $body.className = \"file-preview-netless-body\";\n        $docsViewer.appendChild($body);\n\n        const $operate = document.createElement(\"div\");\n        $operate.className = \"file-preview-netless-operate\";\n        $body.appendChild($operate);\n\n        const $footer = document.createElement(\"div\");\n        $footer.className = \"file-preview-netless-footer\";\n        $docsViewer.appendChild($footer);\n\n        const getBodyRect = (): Rect => {\n            const rect = $body.getBoundingClientRect();\n            return {\n                x: rect.x,\n                y: rect.y,\n                width: rect.width,\n                height: rect.height,\n            };\n        };\n        const bodyRect$ = new ReadonlyVal(getBodyRect(), {\n            beforeSubscribe: setValue => {\n                // ResizeObserver cannot observer DOM in another window,\n                // so we measure the size of container at 60FPS.\n                let timer = 0;\n                function update(): void {\n                    timer = requestAnimationFrame(update);\n                    setValue(getBodyRect());\n                }\n                update();\n                return () => cancelAnimationFrame(timer);\n            },\n            compare: isSameRect,\n        });\n\n        this.pageRenderer = new PageRenderer({\n            pagesScrollTop$: this.pagesScrollTop$,\n            containerRect$: bodyRect$,\n            pages$: this.pages$,\n            pagesSize$: this.pagesSize$,\n        });\n        $body.appendChild(this.pageRenderer.$pages);\n\n        this.viewer = new DocsViewer({\n            readonly$: this.readonly$,\n            pagesIndex$: this.pageRenderer._pagesIndex$,\n            previewRoot: $body,\n            footerRoot: $footer,\n            pages$: this.pages$,\n            playable: false,\n        });\n\n        this.stepper = new Stepper({\n            start: this.pagesScrollTop$.value,\n            onStep: pageScrollTop => {\n                this.pagesScrollTop$.setValue(pageScrollTop);\n            },\n        });\n\n        this.disposable.push([\n            this.viewer.events.on(\"jumpPage\", pageIndex => this.userScrollToPageIndex(pageIndex)),\n            this.viewer.events.on(\"next\", () => {\n                this.userScrollByPercent(0.8);\n            }),\n            this.viewer.events.on(\"back\", () => {\n                this.userScrollByPercent(-0.8);\n            }),\n        ]);\n\n        this.disposable.addEventListener(\n            $operate,\n            \"wheel\",\n            ev => {\n                if (!this.readonly$.value && this.stepper.paused) {\n                    ev.stopPropagation();\n                    ev.preventDefault();\n                    this.pagesScrollTop$.setValue(\n                        clamp(\n                            this.pagesScrollTop$.value + ev.deltaY,\n                            0,\n                            this.pagesSize$.value.height -\n                                bodyRect$.value.height / this.pageRenderer._scale$.value,\n                        ),\n                    );\n                }\n            },\n            { passive: false },\n        );\n\n        let touchStartClientY = NaN;\n\n        this.disposable.addEventListener(\n            $operate,\n            \"touchstart\",\n            ev => {\n                ev.stopPropagation();\n                ev.preventDefault();\n                if (!this.readonly$.value && ev.touches.length > 0 && this.stepper.paused) {\n                    touchStartClientY = ev.touches[0].pageY;\n                }\n            },\n            { passive: false, capture: true },\n        );\n\n        this.disposable.addEventListener(\n            $operate,\n            \"touchmove\",\n            ev => {\n                ev.stopPropagation();\n                ev.preventDefault();\n                if (\n                    !this.readonly$.value &&\n                    ev.touches.length > 0 &&\n                    this.stepper.paused &&\n                    !Number.isNaN(touchStartClientY)\n                ) {\n                    const deltaY = touchStartClientY - ev.touches[0].pageY;\n                    touchStartClientY = ev.touches[0].pageY;\n                    this.pagesScrollTop$.setValue(\n                        clamp(\n                            this.pagesScrollTop$.value + deltaY * 3,\n                            0,\n                            this.pagesSize$.value.height -\n                                bodyRect$.value.height / this.pageRenderer._scale$.value,\n                        ),\n                    );\n                }\n            },\n            { passive: false, capture: true },\n        );\n\n        const handleTouchEnd = (ev: TouchEvent): void => {\n            ev.stopPropagation();\n            ev.preventDefault();\n            touchStartClientY = NaN;\n        };\n        this.disposable.addEventListener($operate, \"touchend\", handleTouchEnd, {\n            passive: false,\n            capture: true,\n        });\n        this.disposable.addEventListener($operate, \"touchcancel\", handleTouchEnd, {\n            passive: false,\n            capture: true,\n        });\n\n        this.disposable.addEventListener(window, \"keyup\", ev => {\n            if (this.readonly$.value) {\n                return;\n            }\n            switch (ev.key) {\n                case \"PageDown\": {\n                    this.userScrollByPercent(0.8);\n                    break;\n                }\n                case \"PageUp\": {\n                    this.userScrollByPercent(-0.8);\n                    break;\n                }\n                case \"ArrowLeft\": {\n                    this.userScrollByPercent(-0.25);\n                    break;\n                }\n                case \"ArrowRight\": {\n                    this.userScrollByPercent(0.25);\n                    break;\n                }\n                case \"ArrowDown\": {\n                    this.userScrollByPercent(0.5);\n                    break;\n                }\n                case \"ArrowUp\": {\n                    this.userScrollByPercent(-0.5);\n                    break;\n                }\n                default: {\n                    break;\n                }\n            }\n        });\n    }\n\n    private userScrollToPageIndex(index: number): void {\n        index = clamp(index, 0, this.pages$.value.length - 1);\n        if (!this.readonly$.value && !Number.isNaN(index)) {\n            const offsetY = this.pageRenderer.pagesYs[index];\n            if (offsetY >= 0) {\n                this.stepper.stepTo(offsetY + 5 / this.pageRenderer.scale);\n            }\n        }\n    }\n\n    private userScrollByPercent(percent: number): void {\n        if (!this.readonly$.value) {\n            this.stepper.stepTo(\n                clamp(\n                    this.pageRenderer.pagesScrollTop +\n                        (this.pageRenderer.containerRect.height / this.pageRenderer.scale) *\n                            clamp(percent, -1, 1),\n                    0,\n                    this.pageRenderer.pagesSize.height -\n                        this.pageRenderer.containerRect.height / this.pageRenderer.scale,\n                ),\n            );\n        }\n    }\n\n    public async preview(file: CloudFile, container: HTMLElement): Promise<void> {\n        if (\n            file.resourceType === FileResourceType.WhiteboardConvert ||\n            file.resourceType === FileResourceType.WhiteboardProjector\n        ) {\n            const result = await queryConvertingTaskStatus({\n                dynamic: false,\n                resourceType: file.resourceType,\n                meta: file.meta,\n            });\n\n            if (result.progress?.convertedFileList) {\n                this.pagesScrollTop$.setValue(0);\n                this.pages$.setValue(\n                    result.progress.convertedFileList.map(item => ({\n                        width: item.width,\n                        height: item.height,\n                        src: item.conversionFileUrl,\n                        thumbnail: item.preview || item.conversionFileUrl,\n                    })),\n                );\n            }\n\n            container.appendChild(this.$docsViewer);\n        }\n    }\n\n    public async destroy(): Promise<void> {\n        this.disposable.flushAll();\n        this.$docsViewer.remove();\n        this.pagesScrollTop$.destroy();\n        this.pages$.destroy();\n        this.pagesSize$.destroy();\n        this.pageRenderer.destroy();\n        this.viewer.destroy();\n    }\n}\n","import { IServiceFilePreview, CloudFile } from \"@netless/flat-services\";\nimport { StaticDocsViewer } from \"./static-docs-viewer\";\n\nexport class FilePreviewNetless implements IServiceFilePreview {\n    public staticDocsViewer?: StaticDocsViewer;\n\n    public async preview(file: CloudFile, container: HTMLElement): Promise<void> {\n        await (this.staticDocsViewer ||= new StaticDocsViewer()).preview(file, container);\n    }\n\n    public async destroy(): Promise<void> {\n        this.staticDocsViewer?.destroy();\n    }\n}\n"],"names":["runningOnBrowser","isBot","supportsIntersectionObserver","supportsClassList","isHiDpi","defaultSettings","getExtendedSettings","customSettings","createInstance","classObj","options","event","eventString","instance","autoInitialize","i","optionsItem","SRC","SRCSET","SIZES","POSTER","ORIGINALS","DATA","statusLoading","statusLoaded","statusApplied","statusEntered","statusError","statusNative","dataPrefix","statusDataName","getData","element","attribute","setData","value","attrName","getStatus","setStatus","status","resetStatus","hasEmptyStatus","hasStatusLoading","hasStatusError","hasStatusNative","statusesAfterLoading","hadStartedLoading","safeCallback","callback","arg1","arg2","arg3","addClass","className","removeClass","addTempImage","deleteTempImage","getTempImage","unobserve","observer","resetObserver","unobserveEntered","settings","updateLoadingCount","delta","decreaseToLoadCount","setToLoadCount","isSomethingLoading","haveElementsToLoad","getSourceTags","parentTag","sourceTags","childTag","forEachPictureSource","fn","parent","forEachVideoSource","attrsSrc","attrsSrcPoster","attrsSrcSrcsetSizes","attrsData","hasOriginalAttrs","getOriginalAttrs","deleteOriginalAttrs","setOriginalsObject","attributes","originals","saveOriginalBackgroundStyle","setOrResetAttribute","restoreOriginalAttrs","restoreOriginalBgImage","manageApplied","manageLoading","setAttributeIfValue","setImageAttributes","setSourcesImg","imgEl","sourceTag","setSourcesIframe","iframe","setSourcesVideo","videoEl","sourceEl","setSourcesObject","object","setBackground","bg1xValue","bgHiDpiValue","bgDataValue","setMultiBackground","setImgsetBackground","bgImgSetDataValue","imgSetValues","bgImageValues","setSourcesFunctions","setSourcesNative","setSourcesFunction","setSources","elementsWithLoadEvent","hasLoadEvent","checkFinish","addEventListener","eventName","handler","removeEventListener","hasEventListeners","addEventListeners","loadHandler","errorHandler","loadEventName","removeEventListeners","eventListeners","doneHandler","goingNative","addOneShotEventListeners","elementToListenTo","loadBackground","loadRegular","load","loadNative","removeImageAttributes","resetSourcesImg","restoreImg","restoreVideo","restoreIframe","iframeEl","restoreObject","objectEl","restoreFunctions","restoreAttributes","restoreFunction","resetClasses","restore","cancelLoading","entry","onEnter","dontLoad","onExit","tagsWithNativeLazy","shouldUseNative","loadAllNative","elements","isIntersecting","getObserverSettings","intersectionHandler","entries","observeElements","updateObserver","elementsToObserve","setObserver","toArray","nodeSet","queryElements","excludeManagedElements","hasError","filterErrorElements","getElementsToLoad","retryLazyLoad","setOnlineCheck","resetOnlineCheck","LazyLoad","givenNodeset","elementsToLoad","Y","e","t","s","r","o","l","p","$","a","c","u","H","d","_a","W","h","j","O","G","q","J","X","K","g","T","E","U","x","Q","_b","_c","Z","C","b","ee","te","w","f","B","N","m","S","k","isSameSize","isSameRect","clamp","min","max","StaticDocsViewer","__publicField","Disposable","Val","derive","pages","width","height","page","$docsViewer","$style","styles","$body","$operate","$footer","getBodyRect","rect","bodyRect$","ReadonlyVal","setValue","timer","update","PageRenderer","DocsViewer","Stepper","pageScrollTop","pageIndex","ev","touchStartClientY","deltaY","handleTouchEnd","index","offsetY","percent","file","container","FileResourceType","result","queryConvertingTaskStatus","item","FilePreviewNetless"],"mappings":"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"}