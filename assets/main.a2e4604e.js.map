{"version":3,"file":"main.a2e4604e.js","sources":["../../../../node_modules/.pnpm/@netless+app-geogebra@0.0.6/node_modules/@netless/app-geogebra/dist/main.mjs"],"sourcesContent":["var j = Object.defineProperty;\nvar V = (a, e, s) => e in a ? j(a, e, { enumerable: !0, configurable: !0, writable: !0, value: s }) : a[e] = s;\nvar o = (a, e, s) => (V(a, typeof e != \"symbol\" ? e + \"\" : e, s), s);\nconst I = \"!#%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\", N = I.length, T = Array(20), x = () => {\n  for (let a = 0; a < 20; a++)\n    T[a] = I.charAt(Math.random() * N);\n  return T.join(\"\");\n};\nfunction G(a) {\n  try {\n    return a();\n  } catch (e) {\n    console.error(e);\n  }\n}\nclass X {\n  constructor() {\n    this.disposers = /* @__PURE__ */ new Map();\n  }\n  addDisposer(e, s = this.genUID()) {\n    return this.flush(s), this.disposers.set(s, Array.isArray(e) ? () => e.forEach(G) : e), s;\n  }\n  add(e, s = this.genUID()) {\n    const t = e();\n    return t ? this.addDisposer(t, s) : s;\n  }\n  addEventListener(e, s, t, i, r = this.genUID()) {\n    return e.addEventListener(s, t, i), this.addDisposer(() => e.removeEventListener(s, t, i), r), r;\n  }\n  setTimeout(e, s, t = this.genUID()) {\n    const i = window.setTimeout(() => {\n      this.remove(t), e();\n    }, s);\n    return this.addDisposer(() => window.clearTimeout(i), t);\n  }\n  setInterval(e, s, t = this.genUID()) {\n    const i = window.setInterval(e, s);\n    return this.addDisposer(() => window.clearInterval(i), t);\n  }\n  remove(e) {\n    const s = this.disposers.get(e);\n    return this.disposers.delete(e), s;\n  }\n  flush(e) {\n    const s = this.remove(e);\n    if (s)\n      try {\n        s();\n      } catch (t) {\n        console.error(t);\n      }\n  }\n  flushAll() {\n    this.disposers.forEach(G), this.disposers.clear();\n  }\n  genUID() {\n    let e;\n    do\n      e = x();\n    while (this.disposers.has(e));\n    return e;\n  }\n}\nfunction D(a) {\n  return a != null && typeof a == \"object\" && !Array.isArray(a);\n}\nfunction B(a, e) {\n  let s = a.getAttributes();\n  if (s || (a.setAttributes(e), s = a.getAttributes()), !s)\n    throw new Error(\"[NetlessAppMonaco] No attributes\");\n  return D(e) && Object.keys(e).forEach((t) => {\n    Object.prototype.hasOwnProperty.call(s, t) || a.updateAttributes([t], e[t]);\n  }), s;\n}\nlet L;\nfunction R(a) {\n  if (window.GGBApplet)\n    return Promise.resolve(window.GGBApplet);\n  if (L)\n    return L;\n  {\n    const e = document.createElement(\"script\");\n    if (L = new Promise((s, t) => {\n      e.onload = () => s(window.GGBApplet), e.onerror = () => {\n        L = void 0, t();\n      };\n    }), a) {\n      const s = a.lastIndexOf(\"GeoGebra\") + 8;\n      e.src = a.slice(0, s) + \"/deployggb.js\";\n    } else\n      e.src = \"https://www.geogebra.org/apps/deployggb.js\";\n    return document.head.appendChild(e), L;\n  }\n}\nconst U = {\n  appName: \"classic\",\n  showMenuBar: !0,\n  showAlgebraInput: !0,\n  showToolBar: !0,\n  customToolBar: \"0 39 73 62 | 1 501 67 , 5 19 , 72 75 76 | 2 15 45 , 18 65 , 7 37 | 4 3 8 9 , 13 44 , 58 , 47 | 16 51 64 , 70 | 10 34 53 11 , 24  20 22 , 21 23 | 55 56 57 , 12 | 36 46 , 38 49  50 , 71  14  68 | 30 29 54 32 31 33 | 25 17 26 60 52 61 | 40 41 42 , 27 28 35 , 6\",\n  showToolBarHelp: !1,\n  showResetIcon: !1,\n  enableFileFeatures: !1,\n  enableLabelDrags: !1,\n  enableShiftDragZoom: !0,\n  enableRightClick: !0,\n  errorDialogsActive: !1,\n  allowStyleBar: !1,\n  preventFocus: !1,\n  useBrowserForJS: !0,\n  language: \"en\",\n  borderColor: \"transparent\"\n}, m = class {\n  constructor(e) {\n    o(this, \"clientId\");\n    o(this, \"nickName\");\n    o(this, \"api\");\n    o(this, \"context\");\n    o(this, \"delay\");\n    o(this, \"currentAnimations\", []);\n    o(this, \"embeds\", {});\n    o(this, \"storageCallback\", 0);\n    o(this, \"initAllEmbeds\", () => {\n      for (const e of this.api.getAllObjectNames(\"embed\"))\n        this.initEmbed(e);\n    });\n    o(this, \"objectsInWaiting\", []);\n    o(this, \"updateCallback\", 0);\n    o(this, \"dispatchUpdates\", () => {\n      this.updateCallback || (this.updateCallback = setTimeout(this._dispatchUpdates, this.delay));\n    });\n    o(this, \"_dispatchUpdates\", () => {\n      const { objectsInWaiting: e } = this;\n      this.objectsInWaiting = [];\n      for (const s of e) {\n        const t = this.api.getEmbeddedCalculators(!0), i = t == null ? void 0 : t[s];\n        i != null && i.controller && this.sendEvent(\"evalGMContent\", i.toJSON(), s);\n        const r = this.api.getCommandString(s, !1);\n        if (r) {\n          this.sendEvent(\"evalCommand\", `${s} := ${r}`, s);\n          const n = this.api.getObjectsOfItsGroup(s);\n          n != null && n.length && this.sendEvent(\"addToGroup\", s, n);\n        }\n        if (!r || this.api.isMoveable(s)) {\n          const n = this.api.getXML(s);\n          this.sendEvent(\"evalXML\", n, s);\n        }\n        this.sendEvent(\"select\", s, !0);\n      }\n      this.updateCallback = 0;\n    });\n    o(this, \"updateListener\", (e) => {\n      (this.api.hasUnlabeledPredecessors(e) || this.api.isMoveable(e)) && !this.currentAnimations.includes(e) && (this.objectsInWaiting.includes(e) || (this.objectsInWaiting.push(e), this.dispatchUpdates()));\n    });\n    o(this, \"addListener\", (e) => {\n      const s = this.api.getImageFileName(e);\n      if (s) {\n        const n = this.api.getFileJSON();\n        for (const c of n.archive)\n          c.fileName.includes(s) && this.sendEvent(\"addImage\", JSON.stringify(c));\n      }\n      const t = this.api.getXML(e), r = this.api.getCommandString(e) && this.api.getAlgorithmXML(e);\n      this.sendEvent(\"addObject\", r || t, e), this.sendEvent(\"deselect\"), this.sendEvent(\"select\", e, !0), setTimeout(() => this.initEmbed(e), 500);\n    });\n    o(this, \"removeListener\", (e) => {\n      this.sendEvent(\"deleteObject\", e), delete this.embeds[e];\n    });\n    o(this, \"renameListener\", (e, s) => {\n      this.sendEvent(\"renameObject\", e, s);\n    });\n    o(this, \"lastEditingLabel\");\n    o(this, \"isSyncingViewState\", 0);\n    o(this, \"stopSyncViewState\", () => {\n      this.isSyncingViewState = 0;\n    });\n    o(this, \"_flushViewState\", () => {\n      const { invXscale: e, invYscale: s, xMin: t, yMin: i } = JSON.parse(\n        this.api.getViewProperties(0)\n      ), r = 1 / e, n = -t / e, c = -i / s;\n      return this.viewState = { scale: r, x: n, y: c }, this.viewSyncCallback = 0, this.viewState;\n    });\n    o(this, \"clientListener\", (e) => {\n      let s, t;\n      const i = e.type;\n      switch (i) {\n        case \"updateStyle\":\n          s = e.target, t = this.api.getXML(s), this.sendEvent(\"evalXML\", t);\n          break;\n        case \"editorStart\":\n          this.lastEditingLabel = e.target;\n          break;\n        case \"editorKeyTyped\":\n          t = this.api.getEditorState(), this.sendEvent(\"setEditorState\", t, this.lastEditingLabel);\n          break;\n        case \"editorStop\":\n          this.lastEditingLabel = void 0, this.sendEvent(\"setEditorState\", JSON.stringify({ content: \"\" }));\n          break;\n        case \"deselect\":\n          this.sendEvent(\"deselect\", e.target);\n          break;\n        case \"select\":\n          this.sendEvent(\"select\", e.target);\n          break;\n        case \"embeddedContentChanged\":\n          s = e[1], t = e[2], this.sendEvent(\"embeddedContentChanged\", t, s);\n          break;\n        case \"undo\":\n        case \"redo\":\n        case \"addPolygonComplete\":\n          t = this.api.getXML(), this.sendEvent(\"setXML\", t);\n          break;\n        case \"addSlide\":\n          this.sendEvent(i);\n          break;\n        case \"removeSlide\":\n        case \"moveSlide\":\n        case \"selectSlide\":\n        case \"clearSlide\":\n        case \"orderingChange\":\n          t = e[2], this.sendEvent(i, t);\n          break;\n        case \"pasteSlide\":\n          ({ cardIdx: t, ggbFile: s } = e), this.sendEvent(i, t, s);\n          break;\n        case \"startAnimation\":\n          s = e[1], this.currentAnimations.push(s), this.sendEvent(i, s, s);\n          break;\n        case \"stopAnimation\":\n          s = e[1], this.currentAnimations.splice(this.currentAnimations.indexOf(s), 1), this.sendEvent(i, s, s);\n          break;\n        case \"groupObjects\":\n        case \"ungroupObjects\":\n          t = e.targets, this.sendEvent(i, t);\n          break;\n        case \"pasteElmsComplete\":\n          t = e.targets.map((r) => this.api.getXML(r)).join(\"\"), this.sendEvent(\"evalXML\", t);\n          break;\n        case \"addGeoToTV\":\n        case \"removeGeoFromTV\":\n          t = e[1], this.sendEvent(i, t);\n          break;\n        case \"setValuesOfTV\":\n          t = e[2], this.sendEvent(i, t);\n          break;\n        case \"showPointsTV\":\n          ({ column: t, show: s } = e), this.sendEvent(i, t, s);\n          break;\n        case \"lockTextElement\":\n        case \"unlockTextElement\":\n          t = e[1], this.sendEvent(i, t);\n          break;\n        case \"viewChanged2D\":\n          this.viewSyncCallback || (this.isSyncingViewState || this.viewState.scale === 0 ? this.viewSyncCallback = setTimeout(this._flushViewState, this.delay) : this.viewSyncCallback = setTimeout(this._sendViewSyncEvent, this.delay));\n          break;\n        case \"mouseDown\":\n        case \"deleteGeos\":\n        case \"dragEnd\":\n          break;\n        default:\n          console.debug(\"[GeoGebra] unhandled event \", e.type, e);\n      }\n    });\n    o(this, \"viewSyncCallback\", 0);\n    o(this, \"viewState\", { scale: 0, x: 0, y: 0 });\n    o(this, \"_sendViewSyncEvent\", () => {\n      this._flushViewState(), this.sendEvent(\"viewChanged2D\", JSON.stringify(this.viewState)), this.viewSyncCallback = 0;\n    });\n    o(this, \"_delayedRegisterListeners\", () => {\n      this.registerListeners(), this.viewSyncCallback = 0;\n    });\n    o(this, \"conflictedObjects\", []);\n    o(this, \"dispatch\", (e) => {\n      var c, g;\n      if (this.conflictedObjects.includes(e.label) && e.type !== \"conflictResolution\")\n        return;\n      const t = e.embedLabel ? this.embeds[e.embedLabel] : this, i = e.type, r = e.label, n = e.content;\n      if (console.debug(\"[GeoGebra] receive:\", i, r, n), i === \"addObject\")\n        if (t.api.exists(r))\n          if (this.context.isDecider)\n            if (this.context.isDecider(this.clientId)) {\n              let d = 1, l;\n              do\n                l = `${r}_${d}`, d++;\n              while (t.api.exists(l));\n              this.unregisterListeners(), t.api.renameObject(r, l), this.registerListeners();\n              const p = t.api.getAlgorithmXML(l) || t.api.getXML(l);\n              this.sendEvent(\"conflictResolution\", p, r);\n            } else\n              this.conflictedObjects.push(r);\n          else\n            t.evalXML(n), t.api.previewRefresh();\n        else\n          t.evalXML(n), t.api.previewRefresh();\n      else if (i === \"conflictResolution\") {\n        const d = this.conflictedObjects.indexOf(r);\n        d !== -1 && this.conflictedObjects.splice(d, 1), t.evalXML(n), t.api.previewRefresh();\n      } else if (i === \"evalXML\")\n        t.evalXML(n), t.api.previewRefresh();\n      else if (i === \"setXML\")\n        t.setXML(n);\n      else if (i === \"evalCommand\")\n        t.evalCommand(n), t.api.previewRefresh();\n      else if (i === \"deleteObject\")\n        t.unregisterListeners(), t === this && delete this.embeds[n], t.api.deleteObject(n), t.registerListeners();\n      else if (i === \"setEditorState\")\n        t.unregisterListeners(), t.api.setEditorState(n, r), t.registerListeners();\n      else if (i === \"addImage\") {\n        const d = JSON.parse(n);\n        t.api.addImage(d.fileName, d.fileContent);\n      } else if ([\"addSlide\", \"removeSlide\", \"moveSlide\", \"clearSlide\"].includes(i))\n        t.api.handleSlideAction(i, n);\n      else if (i === \"selectSlide\")\n        t.unregisterListeners(), t.api.selectSlide(n), t.registerListeners();\n      else if (i === \"renameObject\")\n        t.unregisterListeners(), t.api.renameObject(n, r), t.registerListeners();\n      else if (i === \"pasteSlide\")\n        t.api.handleSlideAction(i, n, r);\n      else if (i === \"evalGMContent\") {\n        const d = (t.api.getEmbeddedCalculators(!0) || {})[r];\n        d && d.loadFromJSON(n);\n      } else if (i === \"startAnimation\")\n        t.api.setAnimating(r, !0), t.api.startAnimation();\n      else if (i === \"stopAnimation\")\n        t.api.setAnimating(r, !1);\n      else if (i === \"select\") {\n        if (n) {\n          const d = ((g = (c = this.context).getColor) == null ? void 0 : g.call(c, e.clientId)) || \"#80808080\";\n          t.api.addMultiuserSelection(String(e.nickName), d, n, !!r);\n        }\n      } else if (i === \"deselect\")\n        t.api.removeMultiuserSelections(String(e.nickName));\n      else if (i === \"orderingChange\")\n        t.api.updateOrdering(n);\n      else if (i === \"groupObjects\")\n        t.api.groupObjects(n);\n      else if (i === \"ungroupObjects\")\n        t.api.ungroupObjects(n);\n      else if (i === \"addToGroup\")\n        t.api.addToGroup(n, r);\n      else if (i === \"embeddedContentChanged\")\n        t.api.setEmbedContent(r, n);\n      else if (i === \"addGeoToTV\")\n        t.api.addGeoToTV(n);\n      else if (i === \"setValuesOfTV\")\n        t.api.setValuesOfTV(n);\n      else if (i === \"removeGeoFromTV\")\n        t.api.removeGeoFromTV(n);\n      else if (i === \"showPointsTV\")\n        t.api.showPointsTV(n, r);\n      else if (i === \"lockTextElement\")\n        t.api.lockTextElement(n);\n      else if (i === \"unlockTextElement\")\n        t.api.unlockTextElement(n);\n      else if (i === \"viewChanged2D\")\n        if (t.viewState.scale === 0)\n          t.api.evalCommand(\"Pan(0,0)\"), t.startSyncViewState();\n        else {\n          const { scale: d, x: l, y: p } = JSON.parse(n), h = t._flushViewState();\n          t.startSyncViewState(), t.api.evalCommand(`Pan(${l - h.x},${p - h.y})`), t.api.evalCommand(`ZoomIn(${d / h.scale})`);\n        }\n      else\n        console.debug(\"[GeoGebra] unknown event\", i, n, r);\n    });\n    var s;\n    this.api = e.api, this.clientId = e.clientId, this.nickName = e.nickName, this.delay = (s = e.delay) != null ? s : 200, this.context = e, setTimeout(() => {\n      this.api.evalCommand(\"Pan(0,0)\");\n    }, this.delay);\n  }\n  createEvent(e, s, t) {\n    const i = { type: e, content: s, clientId: this.clientId, nickName: this.nickName };\n    return this.context.embedLabel && (i.embedLabel = this.context.embedLabel), t && (i.label = t), i;\n  }\n  sendEvent(e, s, t) {\n    console.log(\"[GeoGebra] send:\", e, t, s), this.context.postMessage(\n      this.createEvent(e, s, t)\n    ), this.storageCallback || (this.storageCallback = setTimeout(() => {\n      this.context.save(this.api.getBase64()), this.storageCallback = 0;\n    }, this.delay));\n  }\n  evalCommand(e) {\n    this.unregisterListeners(), this.api.evalCommand(e), this.registerListeners();\n  }\n  evalXML(e) {\n    this.unregisterListeners(), this.api.evalXML(e), this.api.updateConstruction(), this.registerListeners(), setTimeout(this.initAllEmbeds, 500);\n  }\n  setXML(e) {\n    this.unregisterListeners(), this.api.setXML(e), this.api.updateConstruction(), this.registerListeners();\n  }\n  initEmbed(e) {\n    if (this.embeds[e])\n      return;\n    const s = this.api.getEmbeddedCalculators();\n    if (!s)\n      return;\n    const t = s[e];\n    if (t && \"registerClientListener\" in t) {\n      const i = new m({\n        ...this.context,\n        clientId: this.clientId,\n        nickName: this.nickName,\n        api: t,\n        embedLabel: e\n      });\n      i.registerListeners(), this.embeds[e] = i;\n    }\n  }\n  startSyncViewState() {\n    clearTimeout(this.isSyncingViewState), this.isSyncingViewState = setTimeout(this.stopSyncViewState, 1e3);\n  }\n  shouldSyncView(e, s, t, i) {\n    return Math.abs(s - e.scale) > m.Threshold / 10 || Math.abs(t - e.x) > m.Threshold || Math.abs(i - e.y) > m.Threshold;\n  }\n  registerListeners() {\n    this.api.registerUpdateListener(this.updateListener), this.api.registerRemoveListener(this.removeListener), this.api.registerAddListener(this.addListener), this.api.registerClientListener(this.clientListener), this.api.registerRenameListener(this.renameListener);\n  }\n  unregisterListeners() {\n    this.api.unregisterUpdateListener(this.updateListener), this.api.unregisterRemoveListener(this.removeListener), this.api.unregisterAddListener(this.addListener), this.api.unregisterClientListener(this.clientListener), this.api.unregisterRenameListener(this.renameListener);\n  }\n};\nlet S = m;\no(S, \"Threshold\", 20);\nconst P = `.netless-app-geogebra{width:100%!important;height:100%!important;overflow:hidden}.netless-app-geogebra.loading{background-color:#fff}.netless-app-geogebra.readonly{user-select:none;pointer-events:none}\n`;\nfunction F(a, e) {\n  const s = new ResizeObserver(() => e(a));\n  return s.observe(a), () => s.disconnect();\n}\nfunction J(a, e, s) {\n  const t = a.displayer, i = a.room;\n  let r = [];\n  const n = (l) => {\n    l.authorId !== t.observerId && r.forEach((p) => p(l.payload));\n  }, c = \"sync--\" + a.appId;\n  return t.addMagixEventListener(c, n), { service: {\n    addListener(l) {\n      r.push(l);\n    },\n    postMessage(l) {\n      i == null || i.dispatchMagixEvent(c, l);\n    },\n    load() {\n      return e[s];\n    },\n    save(l) {\n      a.updateAttributes([s], l);\n    }\n  }, disposer: () => {\n    r = [], t.removeMagixEventListener(c);\n  } };\n}\nconst _ = {\n  kind: \"GeoGebra\",\n  config: {\n    enableShadowDOM: !1\n  },\n  async setup(a) {\n    var C, k;\n    const e = a.displayer, s = e.observerId, t = (C = e.state.roomMembers.find(\n      (u) => u.memberId === s\n    )) == null ? void 0 : C.payload, i = (t == null ? void 0 : t.uid) || \"\", r = (t == null ? void 0 : t.nickName) || i, n = (k = a.getAppOptions()) == null ? void 0 : k.HTML5Codebase, c = B(a, {\n      uid: \"\",\n      ggbBase64: \"\"\n    }), g = a.box;\n    g.mountStyles(P);\n    const d = document.createElement(\"div\");\n    d.classList.add(\"netless-app-geogebra\", \"loading\"), i !== c.uid && c.uid && d.classList.add(\"netless-app-geogebra\", \"readonly\"), g.mountContent(d);\n    const l = new X(), p = { ...U };\n    p.language = navigator.language.startsWith(\"zh\") ? \"zh\" : \"en\", c.ggbBase64 && (p.ggbBase64 = c.ggbBase64), p.id = \"ggb_\" + a.appId;\n    let h;\n    const w = J(a, c, \"ggbBase64\");\n    function E() {\n      const { width: u, height: b } = d.getBoundingClientRect();\n      h == null || h.setWidth(u), h == null || h.setHeight(b);\n    }\n    p.appletOnLoad = (u) => {\n      console.log(`[GeoGebra]: loaded ${JSON.stringify(p.id)}`), h = u, E(), d.classList.remove(\"loading\");\n      const b = a.displayer, M = new S({\n        clientId: b.observerId,\n        nickName: r,\n        api: u,\n        isDecider: (f) => b.state.roomMembers.map((v) => v.memberId).every((v) => f <= v),\n        getColor: (f) => {\n          const O = b.memberState(f).strokeColor;\n          return \"#\" + O.map((v) => v.toString(16).padStart(2, \"0\")).join(\"\") + \"80\";\n        },\n        ...w.service\n      });\n      M.registerListeners(), w.service.addListener((f) => {\n        M.dispatch(f), h == null || h.setUndoPoint();\n      });\n    }, l.add(() => F(d, E)), a.emitter.on(\"destroy\", () => {\n      console.log(\"[GeoGebra]: destroy\"), l.flushAll(), w.disposer(), h == null || h.remove();\n    });\n    const A = await R(n), y = new A(p);\n    n && y.setHTML5Codebase(n), y.inject(d);\n  }\n};\nexport {\n  _ as default\n};\n//# sourceMappingURL=main.mjs.map\n"],"names":["j","V","a","e","s","o","I","N","T","x","G","t","i","r","B","L","R","U","m","n","c","g","d","l","p","h","S","P","C","k","u","w","b","M","v","O","y"],"mappings":"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"}