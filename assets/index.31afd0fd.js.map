{"version":3,"file":"index.31afd0fd.js","sources":["../../../../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/regex.js","../../../../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/validate.js","../../../../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/version.js","../../../../packages/flat-components/src/components/HomePage/HomePageHeroButton/icons/SVGJoin/index.tsx","../../../../packages/flat-components/src/components/HomePage/HomePageHeroButton/icons/SVGBegin/index.tsx","../../../../packages/flat-components/src/components/HomePage/HomePageHeroButton/icons/SVGSchedule/index.tsx","../../../../packages/flat-components/src/components/HomePage/HomePageHeroButton/index.tsx","../../../../packages/flat-components/src/components/HomePage/RoomList/RoomListItem/RoomListItemMenus.tsx","../../../../packages/flat-components/src/components/HomePage/RoomList/RoomListItem/index.tsx","../../../../packages/flat-components/src/components/HomePage/RoomList/icons/empty-history.svg","../../../../packages/flat-components/src/components/HomePage/RoomList/icons/empty-room.svg","../../../../packages/flat-components/src/components/HomePage/RoomList/icons/empty-history-dark.svg","../../../../packages/flat-components/src/components/HomePage/RoomList/icons/empty-room-dark.svg","../../../../packages/flat-components/src/components/HomePage/RoomList/RoomListEmpty/index.tsx","../../../../packages/flat-components/src/components/HomePage/RoomList/RoomListSkeletons/index.tsx","../../../../packages/flat-components/src/components/HomePage/RoomList/RoomListAllLoaded/index.tsx","../../../../packages/flat-components/src/components/HomePage/RoomList/index.tsx","../../../../packages/flat-components/src/components/RemoveHistoryRoomModal/index.tsx","../../../../packages/flat-pages/src/HomePage/MainRoomMenu/CreateRoomBox.tsx","../../../../packages/flat-pages/src/HomePage/MainRoomMenu/JoinRoomBox.tsx","../../../../packages/flat-pages/src/HomePage/MainRoomMenu/ScheduleRoomBox.tsx","../../../../packages/flat-pages/src/HomePage/MainRoomMenu/index.tsx","../../../../packages/flat-pages/src/HomePage/MainRoomListPanel/MainRoomList.tsx","../../../../packages/flat-pages/src/HomePage/MainRoomListPanel/index.tsx","../../../../packages/flat-pages/src/HomePage/MainRoomHistoryPanel/index.tsx","../../../../packages/flat-pages/src/HomePage/index.tsx"],"sourcesContent":["export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.slice(14, 15), 16);\n}\n\nexport default version;","import \"./style.less\";\nimport React from \"react\";\n\nexport const SVGJoin: React.FC = () => (\n    <svg className=\"svg-join\" viewBox=\"0 0 40 40\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"none\" fillRule=\"evenodd\">\n            <circle className=\"svg-join-background\" cx=\"20\" cy=\"20\" fill=\"#3381FF\" r=\"20\" />\n            <path d=\"M8 8h24v24H8z\" fill=\"#FFF\" opacity=\".01\" />\n            <path\n                d=\"m20 13 6-2v16l-6 2z\"\n                fill=\"#FFF\"\n                stroke=\"#FFF\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"1.25\"\n            />\n            <path d=\"M18 27h-4V11h12v16\" stroke=\"#FFF\" strokeLinejoin=\"round\" strokeWidth=\"1.25\" />\n        </g>\n    </svg>\n);\n","import \"./style.less\";\nimport React from \"react\";\n\nexport const SVGBegin: React.FC = () => (\n    <svg className=\"svg-begin\" viewBox=\"0 0 40 40\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"none\" fillRule=\"evenodd\">\n            <circle className=\"svg-begin-background\" cx=\"20\" cy=\"20\" fill=\"#3381FF\" r=\"20\" />\n            <path d=\"M8 8h24v24H8z\" fill=\"#FFF\" opacity=\".01\" />\n            <path d=\"M11 20h18m-9-9v18\" stroke=\"#FFF\" strokeLinejoin=\"round\" strokeWidth=\"1.25\" />\n        </g>\n    </svg>\n);\n","import \"./style.less\";\nimport React from \"react\";\n\nexport const SVGSchedule: React.FC = () => (\n    <svg className=\"svg-schedule\" viewBox=\"0 0 40 40\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"none\" fillRule=\"evenodd\">\n            <circle className=\"svg-schedule-background\" cx=\"20\" cy=\"20\" fill=\"#3381FF\" r=\"20\" />\n            <path d=\"M8 8h24v24H8z\" fill=\"#FFF\" opacity=\".01\" />\n            <path\n                d=\"M12 14h16v14H12zm4-2v2m8-2v4\"\n                stroke=\"#FFF\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"1.25\"\n            />\n            <path\n                d=\"M12 18h16v-3a1 1 0 0 0-1-1H13a1 1 0 0 0-1 1v3Z\"\n                fill=\"#FFF\"\n                stroke=\"#FFF\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"1.25\"\n            />\n        </g>\n    </svg>\n);\n","import \"./style.less\";\nimport { SVGJoin } from \"./icons/SVGJoin/\";\nimport { SVGBegin } from \"./icons/SVGBegin/\";\nimport { SVGSchedule } from \"./icons/SVGSchedule/\";\nimport React from \"react\";\nimport { Button } from \"antd\";\nimport { useTranslate } from \"@netless/flat-i18n\";\n\ntype HomePageHeroButtonType = \"join\" | \"begin\" | \"schedule\";\n\nconst HomePageHeroButtonIcons: Record<HomePageHeroButtonType, React.FC> = {\n    join: SVGJoin,\n    begin: SVGBegin,\n    schedule: SVGSchedule,\n};\n\nexport interface HomePageHeroButtonProps {\n    type: HomePageHeroButtonType;\n    onClick?: () => void;\n}\n\nexport const HomePageHeroButton: React.FC<HomePageHeroButtonProps> = ({ type, onClick }) => {\n    const t = useTranslate();\n    return (\n        <Button className=\"home-page-hero-button\" onClick={onClick}>\n            <span className=\"home-page-hero-button-icon\">\n                {React.createElement(HomePageHeroButtonIcons[type])}\n            </span>\n            <span className=\"home-page-hero-button-text\">\n                {t(`home-page-hero-button-type.${type}`)}\n            </span>\n        </Button>\n    );\n};\n","import { Button, Dropdown, Menu } from \"antd\";\nimport React from \"react\";\nimport { SVGMore } from \"../../../FlatIcons\";\nimport { RoomListItemAction } from \"./types\";\n\nexport interface RoomListItemMenusProps<TKey extends string = string> {\n    actions: Array<RoomListItemAction<TKey>>;\n    onAction: (key: TKey) => void;\n}\n\nexport function RoomListItemMenus<TKey extends string = string>({\n    actions,\n    onAction,\n}: React.PropsWithChildren<RoomListItemMenusProps<TKey>>): React.ReactElement | null {\n    return (\n        <Dropdown\n            overlay={\n                <Menu\n                    items={actions.map(action => ({\n                        key: action.key,\n                        onClick: () => onAction(action.key),\n                        label: action.text,\n                    }))}\n                />\n            }\n            overlayClassName=\"room-list-item-sub-menu\"\n            trigger={[\"click\"]}\n        >\n            <Button className=\"room-list-item-more\" type=\"text\">\n                <SVGMore />\n            </Button>\n        </Dropdown>\n    );\n}\n","import \"./style.less\";\n\nimport React, { PropsWithChildren, ReactElement } from \"react\";\nimport { format } from \"date-fns\";\nimport classNames from \"classnames\";\nimport { useTranslate } from \"@netless/flat-i18n\";\nimport { Button } from \"antd\";\nimport { RoomListItemMenus } from \"./RoomListItemMenus\";\nimport { RoomListItemAction, RoomListItemPrimaryAction, RoomStatusType } from \"./types\";\n\nexport * from \"./types\";\n\nexport interface RoomListItemProps<T extends string> {\n    title: string;\n    beginTime?: Date;\n    endTime?: Date;\n    ownerName?: string;\n    ownerAvatar?: string;\n    status: RoomStatusType;\n    isPeriodic?: boolean;\n    menuActions?: Array<RoomListItemAction<T>> | null;\n    primaryAction?: RoomListItemPrimaryAction<T> | null;\n    onAction: (key: T) => void;\n    onClick?: () => void;\n}\n\nexport function RoomListItem<T extends string = string>({\n    title,\n    beginTime,\n    endTime,\n    ownerName,\n    ownerAvatar,\n    status,\n    isPeriodic,\n    menuActions,\n    primaryAction,\n    onClick,\n    onAction,\n}: PropsWithChildren<RoomListItemProps<T>>): ReactElement {\n    const t = useTranslate();\n    return (\n        <div className={classNames(\"room-list-item\", { pointer: !!onClick })}>\n            <div className=\"room-list-item-content\">\n                {ownerAvatar && (\n                    <div className=\"room-list-item-left\">\n                        <figure className=\"room-list-item-owner-avatar\" title={ownerName}>\n                            <img alt={ownerName} src={ownerAvatar} />\n                        </figure>\n                    </div>\n                )}\n                <div className=\"room-list-item-middle\" onClick={onClick}>\n                    <h1 className=\"room-list-item-title\">{title}</h1>\n                    <div className=\"room-list-item-time-date\">\n                        <span className=\"room-list-item-time\">\n                            {beginTime && format(beginTime, \"HH:mm\")}\n                            {\" ~ \"}\n                            {endTime && format(endTime, \"HH:mm\")}\n                        </span>\n                        <span className=\"room-list-item-date\">\n                            {beginTime && format(beginTime, \"yyyy/MM/dd\")}\n                        </span>\n                        <span>{isPeriodic && `(${t(\"periodic\")})`}</span>\n                    </div>\n                    <div>\n                        <span\n                            className={`room-list-item-status-${\n                                status === \"upcoming\"\n                                    ? \"warning\"\n                                    : status === \"running\"\n                                    ? \"success\"\n                                    : \"default\"\n                            }`}\n                        >\n                            {t(`room-status.${status}`)}\n                        </span>\n                    </div>\n                </div>\n                <div className=\"room-list-item-right\">\n                    {menuActions && <RoomListItemMenus actions={menuActions} onAction={onAction} />}\n                    {primaryAction && (\n                        <Button\n                            key={primaryAction.key}\n                            className=\"room-list-item-primary-action\"\n                            disabled={primaryAction.disabled}\n                            type={primaryAction.type}\n                            onClick={() => onAction(primaryAction.key)}\n                        >\n                            {primaryAction.text}\n                        </Button>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n","export default \"data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 200 200'%3e%3cpath fill='%23F4F8FF' d='M20 100c0-44.183 35.817-80 80-80h80v80c0 44.183-35.817 80-80 80s-80-35.817-80-80Z'/%3e%3cg filter='url(%23a)'%3e%3cpath fill='white' d='M65 60c0-5.523-4.477-10-10-10h82c5.523 0 10 4.477 10 10v90H75c-5.523 0-10-4.477-10-10V60Z'/%3e%3c/g%3e%3cpath fill='%235B9AFF' d='M75 150c5.523 0 10-4.477 10-10h80c0 5.523-4.477 10-10 10H75Z'/%3e%3cpath fill='%232867CC' d='M45 60h20c0-5.523-4.477-10-10-10s-10 4.477-10 10Z'/%3e%3cpath fill='%23EBF2FF' fill-rule='evenodd' d='M167.284 43.645a5 5 0 1 1 7.071 7.07l-61.518 61.519-9.192 2.121 2.121-9.192 61.518-61.518Z' clip-rule='evenodd'/%3e%3cmask id='b' width='73' height='73' x='103' y='42' maskUnits='userSpaceOnUse' style='mask-type:alpha'%3e%3cpath fill='white' fill-rule='evenodd' d='M167.284 43.645a5 5 0 1 1 7.071 7.07l-61.518 61.519-9.192 2.121 2.121-9.192 61.518-61.518Z' clip-rule='evenodd'/%3e%3c/mask%3e%3cg mask='url(%23b)'%3e%3cpath fill='%23050D1A' fill-rule='evenodd' d='m104.352 109.406 4.242 4.242-2.828 2.829-4.243-4.243 2.829-2.828Z' clip-rule='evenodd'/%3e%3c/g%3e%3cpath fill='%235B9AFF' d='m166.577 44.352 7.07 7.071-60.81 60.811-7.071-7.07z'/%3e%3cpath fill='%233381FF' d='m164.456 52.13 1.414 1.414-50.911 50.912-1.415-1.414z'/%3e%3cpath fill='url(%23c)' d='M25 110c0-13.255 10.745-24 24-24s24 10.745 24 24v24H49c-13.255 0-24-10.745-24-24Z' style='mix-blend-mode:multiply'/%3e%3ccircle cx='39' cy='110' r='3' fill='white'/%3e%3ccircle cx='49' cy='110' r='3' fill='white'/%3e%3ccircle cx='59' cy='110' r='3' fill='white'/%3e%3cdefs%3e%3clinearGradient id='c' x1='1' x2='49' y1='110' y2='158' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%233381FF'/%3e%3cstop offset='1' stop-color='%233381FF' stop-opacity='.01'/%3e%3c/linearGradient%3e%3cfilter id='a' width='152' height='160' x='25' y='40' color-interpolation-filters='sRGB' filterUnits='userSpaceOnUse'%3e%3cfeFlood flood-opacity='0' result='BackgroundImageFix'/%3e%3cfeColorMatrix in='SourceAlpha' result='hardAlpha' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'/%3e%3cfeOffset dy='20'/%3e%3cfeGaussianBlur stdDeviation='15'/%3e%3cfeColorMatrix values='0 0 0 0 0.2 0 0 0 0 0.505882 0 0 0 0 1 0 0 0 0.25 0'/%3e%3cfeBlend in2='BackgroundImageFix' result='effect1_dropShadow_0_325'/%3e%3cfeBlend in='SourceGraphic' in2='effect1_dropShadow_0_325' result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e\";","export default \"data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 200 200'%3e%3cpath fill='%23F4F8FF' d='M20 100c0-44.183 35.817-80 80-80h80v80c0 44.183-35.817 80-80 80s-80-35.817-80-80Z'/%3e%3cpath fill='%233381FF' fill-rule='evenodd' d='M85 133h30v14H85v-14Z' clip-rule='evenodd'/%3e%3cpath fill='%233381FF' d='M72 143h56v4H72z'/%3e%3cpath fill='%232867CC' fill-rule='evenodd' d='M85 133v10H72v4h25l14-14' clip-rule='evenodd'/%3e%3cg filter='url(%23a)'%3e%3crect width='120' height='80' x='40' y='53' fill='white' rx='4'/%3e%3c/g%3e%3cpath fill='%23F4F8FF' fill-rule='evenodd' d='m47 133 80-80h29a4 4 0 0 1 4 4v72a4 4 0 0 1-4 4H47Z' clip-rule='evenodd'/%3e%3cpath fill='%235B9AFF' d='m52 73 8 2.667-3.556 1.777L54.667 81 52 73Z'/%3e%3cpath stroke='url(%23b)' stroke-dasharray='1' d='M60 81s4.383 18.6 19 21c14.617 2.4 34.416-10.431 48-10 13.584.431 15 12 15 12'/%3e%3cpath fill='%235B9AFF' d='M40 119h120v10a4 4 0 0 1-4 4H44a4 4 0 0 1-4-4v-10Z'/%3e%3ccircle cx='100' cy='126' r='4' fill='%232867CC'/%3e%3cpath fill='url(%23c)' fill-rule='evenodd' d='M116 36a8 8 0 0 0-8 8v28a8 8 0 0 0 8 8h8v12l12-12h20a8 8 0 0 0 8-8V44a8 8 0 0 0-8-8h-40Z' clip-rule='evenodd' style='mix-blend-mode:multiply'/%3e%3cpath fill='white' d='M124 58h24v5h-24zm0-8h16v5h-16z'/%3e%3cdefs%3e%3clinearGradient id='b' x1='184.778' x2='181.375' y1='122.247' y2='72.669' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23D6E5FF' stop-opacity='.01'/%3e%3cstop offset='1' stop-color='%23D6E5FF'/%3e%3c/linearGradient%3e%3clinearGradient id='c' x1='108' x2='108' y1='36' y2='92' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%233381FF'/%3e%3cstop offset='1' stop-color='%233381FF' stop-opacity='.01'/%3e%3c/linearGradient%3e%3cfilter id='a' width='180' height='140' x='10' y='43' color-interpolation-filters='sRGB' filterUnits='userSpaceOnUse'%3e%3cfeFlood flood-opacity='0' result='BackgroundImageFix'/%3e%3cfeColorMatrix in='SourceAlpha' result='hardAlpha' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'/%3e%3cfeOffset dy='20'/%3e%3cfeGaussianBlur stdDeviation='15'/%3e%3cfeColorMatrix values='0 0 0 0 0.2 0 0 0 0 0.505882 0 0 0 0 1 0 0 0 0.247897 0'/%3e%3cfeBlend in2='BackgroundImageFix' result='effect1_dropShadow_109_618'/%3e%3cfeBlend in='SourceGraphic' in2='effect1_dropShadow_109_618' result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e\";","export default \"data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 200 200'%3e%3cpath fill='%23272A30' d='M20 100c0-44.183 35.817-80 80-80h80v80c0 44.183-35.817 80-80 80s-80-35.817-80-80Z'/%3e%3cg filter='url(%23a)'%3e%3cpath fill='%23ECF0F7' d='M65 60c0-5.523-4.477-10-10-10h82c5.523 0 10 4.477 10 10v86a4 4 0 0 1-4 4H75c-5.523 0-10-4.477-10-10V60Z'/%3e%3c/g%3e%3cpath fill='%237B7E84' fill-rule='evenodd' d='M75 150c5.523 0 10-4.477 10-10h80c0 5.523-4.477 10-10 10H75Z' clip-rule='evenodd'/%3e%3cpath fill='%234B4D54' fill-rule='evenodd' d='M45 60h20c0-5.523-4.477-10-10-10s-10 4.477-10 10Z' clip-rule='evenodd'/%3e%3cpath fill='%23EBF2FF' fill-rule='evenodd' d='M167.284 43.645a5 5 0 1 1 7.071 7.07l-61.518 61.519-9.192 2.121 2.121-9.192 61.518-61.518Z' clip-rule='evenodd'/%3e%3cmask id='b' width='73' height='73' x='103' y='42' maskUnits='userSpaceOnUse' style='mask-type:alpha'%3e%3cpath fill='white' fill-rule='evenodd' d='M167.284 43.645a5 5 0 1 1 7.071 7.07l-61.518 61.519-9.192 2.121 2.121-9.192 61.518-61.518Z' clip-rule='evenodd'/%3e%3c/mask%3e%3cg mask='url(%23b)'%3e%3cpath fill='%23070A11' fill-rule='evenodd' d='m104.352 109.406 4.242 4.242-2.828 2.829-4.243-4.243 2.829-2.828Z' clip-rule='evenodd'/%3e%3c/g%3e%3cpath fill='%237B7E84' d='m166.577 44.352 7.07 7.071-60.81 60.811-7.071-7.07z'/%3e%3cpath fill='%235D6066' d='m164.456 52.13 1.414 1.414-50.912 50.912-1.414-1.414z'/%3e%3cpath fill='url(%23c)' d='M25 110c0-13.255 10.745-24 24-24s24 10.745 24 24v24H49c-13.255 0-24-10.745-24-24Z' style='mix-blend-mode:multiply'/%3e%3ccircle cx='39' cy='110' r='3' fill='%23ECF0F7'/%3e%3ccircle cx='49' cy='110' r='3' fill='%23ECF0F7'/%3e%3ccircle cx='59' cy='110' r='3' fill='%23ECF0F7'/%3e%3cdefs%3e%3clinearGradient id='c' x1='1' x2='49' y1='110' y2='158' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%235D6066'/%3e%3cstop offset='1' stop-color='%235D6066' stop-opacity='.01'/%3e%3c/linearGradient%3e%3cfilter id='a' width='152' height='160' x='25' y='40' color-interpolation-filters='sRGB' filterUnits='userSpaceOnUse'%3e%3cfeFlood flood-opacity='0' result='BackgroundImageFix'/%3e%3cfeColorMatrix in='SourceAlpha' result='hardAlpha' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'/%3e%3cfeOffset dy='20'/%3e%3cfeGaussianBlur stdDeviation='15'/%3e%3cfeColorMatrix values='0 0 0 0 0.101961 0 0 0 0 0.101961 0 0 0 0 0.101961 0 0 0 0.247897 0'/%3e%3cfeBlend in2='BackgroundImageFix' result='effect1_dropShadow_132_198'/%3e%3cfeBlend in='SourceGraphic' in2='effect1_dropShadow_132_198' result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e\";","export default \"data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 200 200'%3e%3cpath fill='%23272A30' d='M20 100c0-44.183 35.817-80 80-80h80v80c0 44.183-35.817 80-80 80s-80-35.817-80-80Z'/%3e%3cpath fill='%235D6066' fill-rule='evenodd' d='M85 133h30v14H85v-14Z' clip-rule='evenodd'/%3e%3cpath fill='%235D6066' d='M72 143h56v4H72z'/%3e%3cpath fill='%234B4D54' fill-rule='evenodd' d='M85 133v10H72v4h25l14-14' clip-rule='evenodd'/%3e%3cg filter='url(%23a)'%3e%3crect width='120' height='80' x='40' y='53' fill='%23ECF0F7' rx='4'/%3e%3c/g%3e%3cpath fill='%23E5E8F0' fill-rule='evenodd' d='m47 133 80-80h29a4 4 0 0 1 4 4v72a4 4 0 0 1-4 4H47Z' clip-rule='evenodd'/%3e%3cpath fill='%237B7E84' d='m52 73 8 2.667-3.556 1.777L54.667 81 52 73Z'/%3e%3cpath stroke='url(%23b)' stroke-dasharray='1' d='M60 81s4.383 18.6 19 21c14.617 2.4 34.416-10.431 48-10 13.584.431 15 12 15 12'/%3e%3cpath fill='%237B7E84' d='M40 119h120v10a4 4 0 0 1-4 4H44a4 4 0 0 1-4-4v-10Z'/%3e%3ccircle cx='100' cy='126' r='4' fill='%234B4D54'/%3e%3cpath fill='url(%23c)' fill-rule='evenodd' d='M116 36a8 8 0 0 0-8 8v28a8 8 0 0 0 8 8h8v12l12-12h20a8 8 0 0 0 8-8V44a8 8 0 0 0-8-8h-40Z' clip-rule='evenodd' style='mix-blend-mode:multiply'/%3e%3cpath fill='%23ECF0F7' d='M124 58h24v5h-24zm0-8h16v5h-16z'/%3e%3cdefs%3e%3clinearGradient id='b' x1='184.778' x2='181.375' y1='122.247' y2='72.669' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23D5D9E0' stop-opacity='.01'/%3e%3cstop offset='1' stop-color='%23D5D9E0'/%3e%3c/linearGradient%3e%3clinearGradient id='c' x1='108' x2='108' y1='36' y2='92' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%235D6066'/%3e%3cstop offset='1' stop-color='%235D6066' stop-opacity='.01'/%3e%3c/linearGradient%3e%3cfilter id='a' width='180' height='140' x='10' y='43' color-interpolation-filters='sRGB' filterUnits='userSpaceOnUse'%3e%3cfeFlood flood-opacity='0' result='BackgroundImageFix'/%3e%3cfeColorMatrix in='SourceAlpha' result='hardAlpha' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'/%3e%3cfeOffset dy='20'/%3e%3cfeGaussianBlur stdDeviation='15'/%3e%3cfeColorMatrix values='0 0 0 0 0.101961 0 0 0 0 0.101961 0 0 0 0 0.101961 0 0 0 0.247897 0'/%3e%3cfeBlend in2='BackgroundImageFix' result='effect1_dropShadow_132_179'/%3e%3cfeBlend in='SourceGraphic' in2='effect1_dropShadow_132_179' result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e\";","import \"./style.less\";\nimport emptyHistorySVG from \"../icons/empty-history.svg\";\nimport emptyRoomSVG from \"../icons/empty-room.svg\";\nimport emptyHistoryDarkSVG from \"../icons/empty-history-dark.svg\";\nimport emptyRoomDarkSVG from \"../icons/empty-room-dark.svg\";\n\nimport React, { useContext } from \"react\";\nimport { useTranslate } from \"@netless/flat-i18n\";\nimport { DarkModeContext } from \"../../../FlatThemeProvider\";\n\nexport interface RoomListEmptyProps {\n    isHistory: boolean;\n}\n\nexport const RoomListEmpty: React.FC<RoomListEmptyProps> = ({ isHistory }) => {\n    const t = useTranslate();\n    const darkMode = useContext(DarkModeContext);\n    return (\n        <div className=\"room-list-empty\">\n            <img\n                alt=\"empty\"\n                height=\"160px\"\n                src={\n                    isHistory\n                        ? darkMode\n                            ? emptyHistoryDarkSVG\n                            : emptyHistorySVG\n                        : darkMode\n                        ? emptyRoomDarkSVG\n                        : emptyRoomSVG\n                }\n                width=\"160px\"\n            />\n            <span className=\"room-list-empty-content\">\n                {isHistory ? t(\"no-record\") : t(\"no-room\")}\n            </span>\n        </div>\n    );\n};\n","import \"./style.less\";\n\nimport React from \"react\";\nimport { Skeleton } from \"antd\";\n\nexport const RoomListSkeletons: React.FC = () => {\n    return (\n        <div className=\"room-list-skeletons\">\n            {Array(4)\n                .fill(0)\n                .map((_, i) => (\n                    <Skeleton\n                        key={i}\n                        active\n                        paragraph={{ rows: 4, width: [\"13%\", \"50%\", \"13%\", \"13%\"] }}\n                        title={false}\n                    />\n                ))}\n        </div>\n    );\n};\n","import \"./style.less\";\n\nimport React from \"react\";\nimport { useTranslate } from \"@netless/flat-i18n\";\n\nexport interface RoomListAllLoadedProps {}\n\nexport const RoomListAllLoaded: React.FC = () => {\n    const t = useTranslate();\n\n    return (\n        <div className=\"room-list-all-loaded\">\n            <span className=\"room-list-all-loaded-content\">{t(\"all-loaded\")}</span>\n        </div>\n    );\n};\n","import \"./style.less\";\n\nimport React, { PropsWithChildren, ReactElement, useMemo } from \"react\";\nimport { Dropdown, Menu } from \"antd\";\nimport { SVGDown } from \"../../FlatIcons\";\n\nexport * from \"./RoomListItem\";\nexport * from \"./RoomListEmpty\";\nexport * from \"./RoomListSkeletons\";\nexport * from \"./RoomListAllLoaded\";\n\nexport interface RoomListProps<T extends string> {\n    /** will be hidden on mobile */\n    title?: string;\n    /** will be title on mobile */\n    filters?: Array<{\n        title: string;\n        key: T;\n    }>;\n    activeTab?: T;\n    onTabActive?: (key: T) => void;\n    style?: React.CSSProperties;\n}\n\nexport function RoomList<T extends string>({\n    title,\n    filters,\n    activeTab,\n    onTabActive,\n    children,\n    style,\n}: PropsWithChildren<RoomListProps<T>>): ReactElement {\n    const activeTabTitle = useMemo(\n        () => filters?.find(tab => tab.key === activeTab)?.title,\n        [filters, activeTab],\n    );\n\n    return (\n        <div className=\"room-list\" style={style}>\n            <div className=\"room-list-header\">\n                <h1 className=\"room-list-title\">{title}</h1>\n                {filters && (\n                    <Dropdown\n                        overlay={\n                            <Menu\n                                items={filters.map(({ title, key }) => ({\n                                    key,\n                                    onClick: () => onTabActive?.(key),\n                                    label: title,\n                                }))}\n                            />\n                        }\n                    >\n                        <span className=\"room-list-filters\">\n                            {activeTabTitle} <SVGDown height={24} width={24} />\n                        </span>\n                    </Dropdown>\n                )}\n            </div>\n            <div className=\"room-list-body fancy-scrollbar\">{children}</div>\n        </div>\n    );\n}\n","import \"./style.less\";\n\nimport React from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { Button, Modal } from \"antd\";\nimport { useTranslate } from \"@netless/flat-i18n\";\n\nexport interface RemoveHistoryRoomModalProps {\n    visible: boolean;\n    onCancel: () => void;\n    onConfirm: () => void;\n    loading: boolean;\n}\n\nexport const RemoveHistoryRoomModal = /* @__PURE__ */ observer<RemoveHistoryRoomModalProps>(\n    function RemoveHistoryRoomModal({ visible, onCancel, onConfirm, loading }) {\n        const t = useTranslate();\n        return (\n            <Modal\n                destroyOnClose\n                footer={[\n                    <Button key=\"exit-cancel\" onClick={onCancel}>\n                        {t(\"cancel\")}\n                    </Button>,\n                    <Button key=\"exit-confirm\" danger loading={loading} onClick={onConfirm}>\n                        {t(\"confirm\")}\n                    </Button>,\n                ]}\n                open={visible}\n                title={t(\"delete-room-records\")}\n                wrapClassName=\"remove-history-room-modal-container\"\n                onCancel={onCancel}\n            >\n                {t(\"delete-room-records-tips\")}\n            </Modal>\n        );\n    },\n);\n","import \"./CreateRoomBox.less\";\n\nimport React, { Fragment, useContext, useEffect, useRef, useState, KeyboardEvent } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { Button, Input, Modal, Checkbox, Form, Dropdown, Menu, InputRef } from \"antd\";\nimport { RoomType } from \"@netless/flat-server-api\";\nimport { PreferencesStoreContext, GlobalStoreContext } from \"../../components/StoreProvider\";\nimport { useSafePromise } from \"../../utils/hooks/lifecycle\";\nimport { ClassPicker, HomePageHeroButton, Region, regions, RegionSVG } from \"flat-components\";\nimport { useTranslate } from \"@netless/flat-i18n\";\n\ninterface CreateRoomFormValues {\n    roomTitle: string;\n    roomType: RoomType;\n    autoMicOn: boolean;\n    autoCameraOn: boolean;\n}\n\nexport interface CreateRoomBoxProps {\n    onCreateRoom: (title: string, type: RoomType, region: Region) => Promise<void>;\n}\n\nexport const CreateRoomBox = observer<CreateRoomBoxProps>(function CreateRoomBox({ onCreateRoom }) {\n    const t = useTranslate();\n    const sp = useSafePromise();\n    const globalStore = useContext(GlobalStoreContext);\n    const preferencesStore = useContext(PreferencesStoreContext);\n    const [form] = Form.useForm<CreateRoomFormValues>();\n\n    const [isLoading, setLoading] = useState(false);\n    const [isShowModal, showModal] = useState(false);\n    const [isFormValidated, setIsFormValidated] = useState(false);\n    const [roomRegion, setRoomRegion] = useState<Region>(preferencesStore.getRegion());\n    const [classType, setClassType] = useState<RoomType>(RoomType.BigClass);\n    const roomTitleInputRef = useRef<InputRef>(null);\n\n    const defaultValues: CreateRoomFormValues = {\n        roomTitle: globalStore.userInfo?.name\n            ? t(\"create-room-default-title\", { name: globalStore.userInfo.name })\n            : \"\",\n        roomType: RoomType.BigClass,\n        autoMicOn: preferencesStore.autoMicOn,\n        autoCameraOn: preferencesStore.autoCameraOn,\n    };\n\n    useEffect(() => {\n        let ticket = NaN;\n        if (isShowModal) {\n            // wait a cycle till antd modal updated\n            ticket = window.setTimeout(() => {\n                if (roomTitleInputRef.current) {\n                    roomTitleInputRef.current.focus();\n                    roomTitleInputRef.current.select();\n                }\n            }, 0);\n        }\n        return () => {\n            window.clearTimeout(ticket);\n        };\n    }, [isShowModal]);\n\n    const regionMenu = (\n        <Menu\n            className=\"create-room-modal-menu-item\"\n            items={regions.map(region => ({\n                key: region,\n                label: (\n                    <Fragment>\n                        <img alt={region} src={RegionSVG[region]} style={{ width: 22 }} />\n                        <span style={{ paddingLeft: 8 }}>{t(`region-${region}`)}</span>\n                    </Fragment>\n                ),\n            }))}\n            style={{ width: \"auto\" }}\n            onClick={e => setRoomRegion(e.key as Region)}\n        ></Menu>\n    );\n\n    return (\n        <>\n            <HomePageHeroButton\n                type=\"begin\"\n                onClick={() => {\n                    form.setFieldsValue(defaultValues);\n                    showModal(true);\n                    formValidateStatus();\n                }}\n            />\n            <Modal\n                forceRender // make \"form\" usable\n                footer={[\n                    <Button key=\"cancel\" onClick={handleCancel}>\n                        {t(\"cancel\")}\n                    </Button>,\n                    <Button\n                        key=\"submit\"\n                        disabled={!isFormValidated}\n                        loading={isLoading}\n                        type=\"primary\"\n                        onClick={handleOk}\n                    >\n                        {t(\"begin\")}\n                    </Button>,\n                ]}\n                open={isShowModal}\n                title={t(\"home-page-hero-button-type.begin\")}\n                width={400}\n                wrapClassName=\"create-room-box-container\"\n                onCancel={handleCancel}\n                onOk={handleOk}\n            >\n                <Form\n                    className=\"main-room-menu-form\"\n                    form={form}\n                    initialValues={defaultValues}\n                    layout=\"vertical\"\n                    name=\"createRoom\"\n                    onFieldsChange={formValidateStatus}\n                >\n                    <Form.Item\n                        label={t(\"theme\")}\n                        name=\"roomTitle\"\n                        rules={[\n                            { required: true, message: t(\"enter-room-theme\") },\n                            { max: 50, message: t(\"theme-can-be-up-to-50-characters\") },\n                        ]}\n                    >\n                        <Input\n                            ref={roomTitleInputRef}\n                            placeholder={t(\"enter-room-theme\")}\n                            suffix={\n                                <Dropdown\n                                    overlay={regionMenu}\n                                    placement=\"bottomRight\"\n                                    trigger={[\"click\"]}\n                                >\n                                    <img\n                                        alt={roomRegion}\n                                        src={RegionSVG[roomRegion]}\n                                        style={{ cursor: \"pointer\", width: 22, marginRight: 0 }}\n                                    />\n                                </Dropdown>\n                            }\n                            onKeyUp={submitOnEnter}\n                        />\n                    </Form.Item>\n                    <Form.Item label={t(\"type\")} name=\"roomType\" valuePropName=\"type\">\n                        <ClassPicker value={classType} onChange={e => setClassType(RoomType[e])} />\n                    </Form.Item>\n                    <Form.Item label={t(\"join-options\")}>\n                        <Form.Item noStyle name=\"autoMicOn\" valuePropName=\"checked\">\n                            <Checkbox>{t(\"turn-on-the-microphone\")}</Checkbox>\n                        </Form.Item>\n                        <Form.Item noStyle name=\"autoCameraOn\" valuePropName=\"checked\">\n                            <Checkbox>{t(\"turn-on-the-camera\")}</Checkbox>\n                        </Form.Item>\n                    </Form.Item>\n                </Form>\n            </Modal>\n        </>\n    );\n\n    function submitOnEnter(ev: KeyboardEvent<HTMLInputElement>): void {\n        if (ev.key === \"Enter\" && !ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n            ev.preventDefault();\n            sp(form.validateFields()).then(handleOk);\n        }\n    }\n\n    async function handleOk(): Promise<void> {\n        try {\n            await sp(form.validateFields());\n        } catch (e) {\n            // errors are displayed on the form\n            return;\n        }\n\n        setLoading(true);\n\n        try {\n            const values = form.getFieldsValue();\n            preferencesStore.updateAutoCameraOn(values.autoCameraOn);\n            await sp(onCreateRoom(values.roomTitle, values.roomType, roomRegion));\n            setLoading(false);\n            showModal(false);\n        } catch (e) {\n            console.error(e);\n            setLoading(false);\n        }\n    }\n\n    function handleCancel(): void {\n        showModal(false);\n    }\n\n    function formValidateStatus(): void {\n        setIsFormValidated(form.getFieldsError().every(field => field.errors.length <= 0));\n        const values = form.getFieldsValue();\n        preferencesStore.updateAutoMicOn(values.autoMicOn);\n        preferencesStore.updateAutoCameraOn(values.autoCameraOn);\n    }\n});\n\nexport default CreateRoomBox;\n","import \"./JoinRoomBox.less\";\n\nimport React, { KeyboardEvent, useContext, useEffect, useRef, useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { Button, Input, Modal, Checkbox, Form, InputRef } from \"antd\";\nimport { validate, version } from \"uuid\";\nimport { PreferencesStoreContext } from \"../../components/StoreProvider\";\nimport { useSafePromise } from \"../../utils/hooks/lifecycle\";\nimport { useTranslate } from \"@netless/flat-i18n\";\nimport { HomePageHeroButton } from \"flat-components\";\n\ninterface JoinRoomFormValues {\n    roomUUID: string;\n    autoCameraOn: boolean;\n    autoMicOn: boolean;\n}\n\nexport interface JoinRoomBoxProps {\n    onJoinRoom: (roomUUID: string) => Promise<void>;\n}\n\nconst uuidRE =\n    /(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)/i;\n\nexport const JoinRoomBox = observer<JoinRoomBoxProps>(function JoinRoomBox({ onJoinRoom }) {\n    const t = useTranslate();\n    const sp = useSafePromise();\n    const preferencesStore = useContext(PreferencesStoreContext);\n    const [form] = Form.useForm<JoinRoomFormValues>();\n\n    const [isLoading, setLoading] = useState(false);\n    const [isShowModal, showModal] = useState(false);\n    const [isFormValidated, setIsFormValidated] = useState(false);\n    const roomTitleInputRef = useRef<InputRef>(null);\n\n    useEffect(() => {\n        let ticket = NaN;\n        if (isShowModal) {\n            // wait a cycle till antd modal updated\n            ticket = window.setTimeout(() => {\n                if (roomTitleInputRef.current) {\n                    roomTitleInputRef.current.focus();\n                    roomTitleInputRef.current.select();\n                }\n            }, 0);\n        }\n        return () => {\n            window.clearTimeout(ticket);\n        };\n    }, [isShowModal]);\n\n    const defaultValues: JoinRoomFormValues = {\n        roomUUID: \"\",\n        autoCameraOn: preferencesStore.autoCameraOn,\n        autoMicOn: preferencesStore.autoMicOn,\n    };\n\n    return (\n        <>\n            <HomePageHeroButton type=\"join\" onClick={handleShowModal} />\n            <Modal\n                cancelText={t(\"cancel\")}\n                footer={[\n                    <Button key=\"cancel\" onClick={handleCancel}>\n                        {t(\"cancel\")}\n                    </Button>,\n                    <Button\n                        key=\"submit\"\n                        disabled={!isFormValidated || form.getFieldValue(\"roomUUID\").trim() === \"\"}\n                        loading={isLoading}\n                        type=\"primary\"\n                        onClick={handleOk}\n                    >\n                        {t(\"join\")}\n                    </Button>,\n                ]}\n                okText={t(\"join\")}\n                open={isShowModal}\n                title={t(\"home-page-hero-button-type.join\")}\n                width={400}\n                wrapClassName=\"join-room-box-container\"\n                onCancel={handleCancel}\n                onOk={handleOk}\n            >\n                <Form\n                    className=\"main-room-menu-form\"\n                    form={form}\n                    initialValues={defaultValues}\n                    layout=\"vertical\"\n                    name=\"createRoom\"\n                    onFieldsChange={formValidateStatus}\n                >\n                    <Form.Item\n                        label={t(\"room-uuid\")}\n                        name=\"roomUUID\"\n                        rules={[{ required: true, message: t(\"enter-room-uuid\") }]}\n                    >\n                        <Input\n                            ref={roomTitleInputRef}\n                            placeholder={t(\"enter-room-uuid\")}\n                            onKeyUp={submitOnEnter}\n                        />\n                    </Form.Item>\n                    <Form.Item label={t(\"join-options\")}>\n                        <Form.Item noStyle name=\"autoMicOn\" valuePropName=\"checked\">\n                            <Checkbox>{t(\"turn-on-the-microphone\")}</Checkbox>\n                        </Form.Item>\n                        <Form.Item noStyle name=\"autoCameraOn\" valuePropName=\"checked\">\n                            <Checkbox>{t(\"turn-on-the-camera\")}</Checkbox>\n                        </Form.Item>\n                    </Form.Item>\n                </Form>\n            </Modal>\n        </>\n    );\n\n    async function extractUUIDFromClipboard(): Promise<string | undefined> {\n        const text = await navigator.clipboard.readText();\n        const m = uuidRE.exec(text);\n        return m?.[0];\n    }\n\n    async function handleShowModal(): Promise<void> {\n        try {\n            const roomUUID = await extractUUIDFromClipboard();\n            if (roomUUID && validate(roomUUID) && version(roomUUID) === 4) {\n                form.setFieldsValue({ roomUUID });\n                setIsFormValidated(true);\n            }\n        } catch {\n            // ignore\n        }\n        showModal(true);\n    }\n\n    function submitOnEnter(ev: KeyboardEvent<HTMLInputElement>): void {\n        if (ev.key === \"Enter\" && !ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n            ev.preventDefault();\n            sp(form.validateFields()).then(handleOk);\n        }\n    }\n\n    async function handleOk(): Promise<void> {\n        try {\n            await sp(form.validateFields());\n        } catch (e) {\n            // errors are displayed on the form\n            return;\n        }\n\n        setLoading(true);\n\n        try {\n            const values = form.getFieldsValue();\n            preferencesStore.updateAutoMicOn(values.autoMicOn);\n            preferencesStore.updateAutoCameraOn(values.autoCameraOn);\n            await sp(onJoinRoom(values.roomUUID));\n            setLoading(false);\n            showModal(false);\n        } catch (e) {\n            console.error(e);\n            setLoading(false);\n        }\n    }\n\n    function handleCancel(): void {\n        showModal(false);\n    }\n\n    function formValidateStatus(): void {\n        setIsFormValidated(form.getFieldsError().every(field => field.errors.length <= 0));\n        const values = form.getFieldsValue();\n        preferencesStore.updateAutoMicOn(values.autoMicOn);\n        preferencesStore.updateAutoCameraOn(values.autoCameraOn);\n    }\n});\n","import React from \"react\";\n\nimport { RouteNameType, usePushHistory } from \"../../utils/routes\";\n\nimport { HomePageHeroButton } from \"flat-components\";\n\nexport const ScheduleRoomBox = React.memo<{}>(function ScheduleRoomBox() {\n    const pushHistory = usePushHistory();\n\n    return (\n        <HomePageHeroButton\n            type=\"schedule\"\n            onClick={() => pushHistory(RouteNameType.UserScheduledPage)}\n        />\n    );\n});\n\nexport default ScheduleRoomBox;\n","import \"./MainRoomMenu.less\";\n\nimport React, { FC, useContext } from \"react\";\nimport { Col, Row } from \"antd\";\nimport { Region } from \"flat-components\";\nimport { RoomType } from \"@netless/flat-server-api\";\nimport { GlobalStoreContext, RoomStoreContext } from \"../../components/StoreProvider\";\nimport { RouteNameType, usePushHistory } from \"../../utils/routes\";\nimport { CreateRoomBox } from \"./CreateRoomBox\";\nimport { JoinRoomBox } from \"./JoinRoomBox\";\nimport { ScheduleRoomBox } from \"./ScheduleRoomBox\";\nimport { joinRoomHandler } from \"../../utils/join-room-handler\";\nimport { errorTips } from \"flat-components\";\n\nexport const MainRoomMenu: FC = () => {\n    const roomStore = useContext(RoomStoreContext);\n    const globalStore = useContext(GlobalStoreContext);\n    const pushHistory = usePushHistory();\n\n    const onJoinRoom = async (roomUUID: string): Promise<void> => {\n        if (globalStore.isTurnOffDeviceTest || window.isElectron) {\n            await joinRoomHandler(roomUUID, pushHistory);\n        } else {\n            pushHistory(RouteNameType.DevicesTestPage, { roomUUID });\n        }\n    };\n\n    return (\n        <div className=\"main-room-menu-container\">\n            <Row gutter={16}>\n                <Col span={6}>\n                    <JoinRoomBox onJoinRoom={onJoinRoom} />\n                </Col>\n                <Col span={6}>\n                    <CreateRoomBox onCreateRoom={createOrdinaryRoom} />\n                </Col>\n                <Col span={6}>\n                    <ScheduleRoomBox />\n                </Col>\n            </Row>\n        </div>\n    );\n\n    async function createOrdinaryRoom(\n        title: string,\n        type: RoomType,\n        region: Region,\n    ): Promise<void> {\n        try {\n            const roomUUID = await roomStore.createOrdinaryRoom({\n                title,\n                type,\n                beginTime: Date.now(),\n                region,\n            });\n            await onJoinRoom(roomUUID);\n        } catch (e) {\n            errorTips(e);\n        }\n    }\n};\n\nexport default MainRoomMenu;\n","import { message } from \"antd\";\nimport React, { Fragment, useCallback, useContext, useEffect, useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport {\n    InviteModal,\n    RemoveHistoryRoomModal,\n    RemoveRoomModal,\n    RoomListAllLoaded,\n    RoomListEmpty,\n    RoomListItem,\n    RoomListItemPrimaryAction,\n    RoomListSkeletons,\n    RoomStatusType,\n    errorTips,\n} from \"flat-components\";\nimport { ListRoomsType, RoomStatus, RoomType } from \"@netless/flat-server-api\";\nimport { GlobalStoreContext, RoomStoreContext } from \"../../components/StoreProvider\";\nimport { RoomItem } from \"@netless/flat-stores\";\nimport { useSafePromise } from \"../../utils/hooks/lifecycle\";\nimport { RouteNameType, usePushHistory } from \"../../utils/routes\";\nimport { joinRoomHandler } from \"../../utils/join-room-handler\";\nimport { useTranslate } from \"@netless/flat-i18n\";\nimport { FLAT_WEB_BASE_URL } from \"../../constants/process\";\n\nexport interface MainRoomListProps {\n    listRoomsType: ListRoomsType;\n    isLogin: boolean;\n}\n\nexport const MainRoomList = observer<MainRoomListProps>(function MainRoomList({\n    listRoomsType,\n    isLogin,\n}) {\n    const t = useTranslate();\n    const roomStore = useContext(RoomStoreContext);\n    const [skeletonsVisible, setSkeletonsVisible] = useState(false);\n    const [roomUUIDs, setRoomUUIDs] = useState<string[]>();\n    const [cancelModalVisible, setCancelModalVisible] = useState(false);\n    const [inviteModalVisible, setInviteModalVisible] = useState(false);\n    const [removeHistoryVisible, setRemoveHistoryVisible] = useState(false);\n    const [removeHistoryLoading, setRemoveHistoryLoading] = useState(false);\n    const [currentRoom, setCurrentRoom] = useState<RoomItem | undefined>(undefined);\n    const pushHistory = usePushHistory();\n    const sp = useSafePromise();\n    const globalStore = useContext(GlobalStoreContext);\n    const isHistoryList = listRoomsType === ListRoomsType.History;\n\n    // Wait 200ms before showing skeletons to reduce flashing.\n    useEffect(() => {\n        const ticket = window.setTimeout(() => setSkeletonsVisible(true), 200);\n        return () => window.clearTimeout(ticket);\n    }, []);\n\n    const refreshRooms = useCallback(\n        async function refreshRooms(): Promise<void> {\n            try {\n                const roomUUIDs = await sp(roomStore.listRooms(listRoomsType, { page: 1 }));\n                setRoomUUIDs(roomUUIDs);\n            } catch (e) {\n                setRoomUUIDs([]);\n                errorTips(e);\n            }\n        },\n        [listRoomsType, roomStore, sp],\n    );\n\n    useEffect(() => {\n        if (!isLogin) {\n            return;\n        }\n\n        void refreshRooms();\n\n        const ticket = window.setInterval(refreshRooms, 30 * 1000);\n\n        return () => {\n            window.clearInterval(ticket);\n        };\n    }, [refreshRooms, isLogin]);\n\n    if (!roomUUIDs) {\n        return skeletonsVisible ? <RoomListSkeletons /> : null;\n    }\n\n    if (roomUUIDs.length <= 0) {\n        return <RoomListEmpty isHistory={isHistoryList} />;\n    }\n\n    const periodicInfo = currentRoom?.periodicUUID\n        ? roomStore.periodicRooms.get(currentRoom?.periodicUUID)\n        : undefined;\n\n    return (\n        <>\n            {customSort(roomUUIDs.map(roomUUID => roomStore.rooms.get(roomUUID))).map(room => {\n                if (!room) {\n                    return null;\n                }\n\n                const beginTime = room.beginTime ? new Date(room.beginTime) : void 0;\n                const endTime = room.endTime ? new Date(room.endTime) : void 0;\n\n                const primaryAction = (\n                    roomStatus?: RoomStatus,\n                ): RoomListItemPrimaryAction<\"replay\" | \"join\" | \"begin\"> | null => {\n                    let primaryAction: RoomListItemPrimaryAction<\n                        \"replay\" | \"join\" | \"begin\"\n                    > | null;\n                    switch (roomStatus) {\n                        case RoomStatus.Idle: {\n                            const isCreator = room.ownerUUID === globalStore.userUUID;\n                            primaryAction = isCreator\n                                ? {\n                                      key: \"begin\",\n                                      text: t(\"begin\"),\n                                      type: \"primary\",\n                                  }\n                                : {\n                                      key: \"join\",\n                                      text: t(\"join\"),\n                                      type: \"primary\",\n                                  };\n                            break;\n                        }\n                        case RoomStatus.Started:\n                        case RoomStatus.Paused: {\n                            primaryAction = {\n                                key: \"join\",\n                                text: t(\"join\"),\n                                type: \"primary\",\n                            };\n                            break;\n                        }\n                        case RoomStatus.Stopped: {\n                            primaryAction = room.hasRecord\n                                ? {\n                                      key: \"replay\",\n                                      text: t(\"replay\"),\n                                  }\n                                : null;\n                            break;\n                        }\n                        default: {\n                            primaryAction = {\n                                key: \"begin\",\n                                text: t(\"begin\"),\n                                type: \"primary\",\n                            };\n                            break;\n                        }\n                    }\n                    return primaryAction;\n                };\n\n                return (\n                    <Fragment key={room.roomUUID}>\n                        <RoomListItem\n                            beginTime={beginTime}\n                            endTime={endTime}\n                            isPeriodic={!!room.periodicUUID}\n                            menuActions={getSubActions(room)}\n                            ownerAvatar={room.ownerAvatarURL}\n                            ownerName={room.ownerName}\n                            primaryAction={primaryAction(room.roomStatus)}\n                            status={getRoomStatus(room.roomStatus)}\n                            title={room.title!}\n                            onAction={key => {\n                                switch (key) {\n                                    case \"details\": {\n                                        pushHistory(RouteNameType.RoomDetailPage, {\n                                            roomUUID: room.roomUUID,\n                                            periodicUUID: room.periodicUUID,\n                                        });\n                                        break;\n                                    }\n                                    case \"modify\": {\n                                        pushHistory(RouteNameType.ModifyOrdinaryRoomPage, {\n                                            roomUUID: room.roomUUID,\n                                            periodicUUID: room.periodicUUID,\n                                        });\n                                        break;\n                                    }\n                                    case \"cancel\": {\n                                        setCurrentRoom(room);\n                                        setCancelModalVisible(true);\n                                        break;\n                                    }\n                                    case \"invite\": {\n                                        setCurrentRoom(room);\n                                        setInviteModalVisible(true);\n                                        break;\n                                    }\n                                    case \"delete-history\": {\n                                        setCurrentRoom(room);\n                                        setRemoveHistoryVisible(true);\n                                        break;\n                                    }\n                                    case \"replay\": {\n                                        replayRoom({\n                                            ownerUUID: room.ownerUUID,\n                                            roomUUID: room.roomUUID,\n                                            roomType: room.roomType || RoomType.OneToOne,\n                                        });\n                                        break;\n                                    }\n                                    case \"join\":\n                                    case \"begin\": {\n                                        void joinRoom(room.roomUUID);\n                                        break;\n                                    }\n                                    default:\n                                }\n                            }}\n                        />\n                    </Fragment>\n                );\n            })}\n            <RoomListAllLoaded />\n            {currentRoom && (\n                <RemoveRoomModal\n                    cancelModalVisible={cancelModalVisible}\n                    isCreator={currentRoom.ownerUUID === globalStore.userUUID}\n                    isPeriodicDetailsPage={false}\n                    periodicUUID={currentRoom.periodicUUID}\n                    roomUUID={currentRoom.roomUUID}\n                    onCancel={hideCancelModal}\n                    onCancelRoom={removeRoomHandler}\n                />\n            )}\n            {currentRoom && (\n                <InviteModal\n                    baseUrl={FLAT_WEB_BASE_URL}\n                    periodicWeeks={periodicInfo?.periodic.weeks}\n                    room={currentRoom}\n                    userName={globalStore.userName ?? \"\"}\n                    visible={inviteModalVisible}\n                    onCancel={hideInviteModal}\n                    onCopy={onCopy}\n                />\n            )}\n            {currentRoom && (\n                <RemoveHistoryRoomModal\n                    loading={removeHistoryLoading}\n                    visible={removeHistoryVisible}\n                    onCancel={hideRemoveHistoryModal}\n                    onConfirm={removeConfirm}\n                />\n            )}\n        </>\n    );\n\n    async function joinRoom(roomUUID: string): Promise<void> {\n        if (globalStore.isTurnOffDeviceTest || window.isElectron) {\n            await joinRoomHandler(roomUUID, pushHistory);\n        } else {\n            pushHistory(RouteNameType.DevicesTestPage, { roomUUID });\n        }\n    }\n\n    function replayRoom(config: { roomUUID: string; ownerUUID: string; roomType: RoomType }): void {\n        const { roomUUID, ownerUUID, roomType } = config;\n        if (window.isElectron) {\n            pushHistory(RouteNameType.ReplayPage, { roomType, roomUUID, ownerUUID });\n        } else {\n            window.open(`/replay/${roomType}/${roomUUID}/${ownerUUID}/`, \"_blank\");\n        }\n    }\n\n    function hideCancelModal(): void {\n        setCancelModalVisible(false);\n    }\n\n    function hideInviteModal(): void {\n        setInviteModalVisible(false);\n    }\n\n    function hideRemoveHistoryModal(): void {\n        setRemoveHistoryVisible(false);\n    }\n\n    async function onCopy(text: string): Promise<void> {\n        try {\n            await navigator.clipboard.writeText(text);\n            void message.success(t(\"copy-success\"));\n        } catch {\n            void message.error(t(\"copy-fail\"));\n        } finally {\n            hideInviteModal();\n        }\n    }\n\n    async function removeRoomHandler(isCancelAll: boolean): Promise<void> {\n        const { ownerUUID, roomUUID, periodicUUID } = currentRoom!;\n        const isCreator = ownerUUID === globalStore.userUUID;\n        try {\n            if (!isCreator && periodicUUID) {\n                await roomStore.cancelRoom({\n                    all: true,\n                    periodicUUID,\n                });\n            } else {\n                await roomStore.cancelRoom({\n                    all: isCancelAll || (!roomUUID && !!periodicUUID),\n                    roomUUID,\n                    periodicUUID,\n                });\n            }\n            setCancelModalVisible(false);\n            void refreshRooms();\n            const content = isCreator\n                ? t(\"the-room-has-been-cancelled\")\n                : t(\"the-room-has-been-removed\");\n            void message.success(content);\n        } catch (e) {\n            console.error(e);\n            errorTips(e);\n        }\n    }\n\n    async function removeConfirm(): Promise<void> {\n        setRemoveHistoryLoading(true);\n        try {\n            await sp(\n                roomStore.cancelRoom({\n                    isHistory: true,\n                    roomUUID: currentRoom!.roomUUID,\n                }),\n            );\n            hideRemoveHistoryModal();\n            void refreshRooms();\n        } catch (e) {\n            console.error(e);\n            errorTips(e);\n        } finally {\n            setRemoveHistoryLoading(false);\n        }\n    }\n\n    type SubActions =\n        | Array<{ key: \"details\" | \"delete-history\"; text: string }>\n        | Array<{ key: \"details\" | \"modify\" | \"cancel\" | \"invite\"; text: string }>;\n\n    function getSubActions(room: RoomItem): SubActions {\n        const result = [{ key: \"details\", text: t(\"room-detail\") }];\n        if (isHistoryList) {\n            if (room.roomUUID) {\n                result.push({ key: \"delete-history\", text: t(\"delete-records\") });\n            }\n        } else {\n            const ownerUUID = room.ownerUUID;\n            const isCreator = ownerUUID === globalStore.userUUID;\n            if (\n                (room.roomUUID || room.periodicUUID) &&\n                isCreator &&\n                room.roomStatus === RoomStatus.Idle\n            ) {\n                result.push({ key: \"modify\", text: t(\"modify-room\") });\n            }\n            if (!isCreator || room.roomStatus === RoomStatus.Idle) {\n                result.push({\n                    key: \"cancel\",\n                    text: isCreator ? t(\"cancel-room\") : t(\"remove-room\"),\n                });\n            }\n            if (room.roomUUID) {\n                result.push({ key: \"invite\", text: t(\"invitation\") });\n            }\n        }\n        return result as SubActions;\n    }\n\n    function customSort(rooms: Array<RoomItem | undefined>): Array<RoomItem | undefined> {\n        if (listRoomsType === ListRoomsType.History) {\n            return rooms.sort((a, b) => (a && b ? Number(b.beginTime) - Number(a.beginTime) : 0));\n        } else {\n            return rooms;\n        }\n    }\n\n    function getRoomStatus(roomStatus?: RoomStatus): RoomStatusType {\n        switch (roomStatus) {\n            case RoomStatus.Idle: {\n                return \"upcoming\";\n            }\n            case RoomStatus.Started:\n            case RoomStatus.Paused: {\n                return \"running\";\n            }\n            case RoomStatus.Stopped: {\n                return \"stopped\";\n            }\n            default: {\n                return \"upcoming\";\n            }\n        }\n    }\n});\n","import React, { useMemo, useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { RoomList } from \"flat-components\";\nimport { MainRoomList } from \"./MainRoomList\";\nimport { ListRoomsType } from \"@netless/flat-server-api\";\nimport { useTranslate } from \"@netless/flat-i18n\";\n\nexport const MainRoomListPanel = observer<{ isLogin: boolean }>(function MainRoomListPanel({\n    isLogin,\n}) {\n    const t = useTranslate();\n    const [activeTab, setActiveTab] = useState<\"all\" | \"today\" | \"periodic\">(\"all\");\n    const filters = useMemo<Array<{ key: \"all\" | \"today\" | \"periodic\"; title: string }>>(\n        () => [\n            {\n                key: \"all\",\n                title: t(\"all\"),\n            },\n            {\n                key: \"today\",\n                title: t(\"today\"),\n            },\n            {\n                key: \"periodic\",\n                title: t(\"periodic\"),\n            },\n        ],\n        [t],\n    );\n\n    return (\n        <RoomList\n            activeTab={activeTab}\n            filters={filters}\n            title={t(\"room-list\")}\n            onTabActive={setActiveTab}\n        >\n            <MainRoomList isLogin={isLogin} listRoomsType={activeTab as ListRoomsType} />\n        </RoomList>\n    );\n});\n\nexport default MainRoomListPanel;\n","// import \"../MainRoomListPanel/MainRoomList.less\";\n\nimport React from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { MainRoomList } from \"../MainRoomListPanel/MainRoomList\";\nimport { ListRoomsType } from \"@netless/flat-server-api\";\nimport { RoomList } from \"flat-components\";\nimport { useTranslate } from \"@netless/flat-i18n\";\n\nexport const MainRoomHistoryPanel = observer<{ isLogin: boolean }>(function MainRoomHistoryPanel({\n    isLogin,\n}) {\n    const t = useTranslate();\n    return (\n        <RoomList title={t(\"history\")}>\n            <MainRoomList isLogin={isLogin} listRoomsType={ListRoomsType.History} />\n        </RoomList>\n    );\n});\n\nexport default MainRoomHistoryPanel;\n","import \"./style.less\";\n\nimport React, { useContext, useEffect } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { MainRoomMenu } from \"./MainRoomMenu\";\nimport { MainRoomListPanel } from \"./MainRoomListPanel\";\nimport { MainRoomHistoryPanel } from \"./MainRoomHistoryPanel\";\nimport { useLoginCheck } from \"../utils/use-login-check\";\nimport { PageStoreContext } from \"../components/StoreProvider\";\nimport { AppUpgradeModal } from \"../components/AppUpgradeModal\";\n\nexport const HomePage = observer(function HomePage() {\n    const pageStore = useContext(PageStoreContext);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => pageStore.configure(), []);\n\n    const isLogin = useLoginCheck();\n\n    return (\n        <div className=\"homepage-layout-horizontal-container\">\n            <MainRoomMenu />\n            <div className=\"homepage-layout-horizontal-content\">\n                <MainRoomListPanel isLogin={isLogin} />\n                <MainRoomHistoryPanel isLogin={isLogin} />\n            </div>\n            <AppUpgradeModal />\n        </div>\n    );\n});\n\nexport default HomePage;\n"],"names":["REGEX","validate","uuid","version","SVGJoin","_jsx","SVGBegin","SVGSchedule","HomePageHeroButtonIcons","join","begin","schedule","HomePageHeroButton","type","onClick","t","useTranslate","Button","React","createElement","RoomListItemMenus","actions","onAction","Dropdown","Menu","map","action","key","label","text","SVGMore","RoomListItem","title","beginTime","endTime","ownerName","ownerAvatar","status","isPeriodic","menuActions","primaryAction","classNames","pointer","_jsxs","format","disabled","emptyHistorySVG","emptyRoomSVG","emptyHistoryDarkSVG","emptyRoomDarkSVG","RoomListEmpty","isHistory","darkMode","useContext","DarkModeContext","RoomListSkeletons","Array","fill","_","i","Skeleton","rows","width","RoomListAllLoaded","RoomList","filters","activeTab","onTabActive","children","style","activeTabTitle","useMemo","find","tab","SVGDown","RemoveHistoryRoomModal","observer","visible","onCancel","onConfirm","loading","Modal","CreateRoomBox","onCreateRoom","sp","useSafePromise","globalStore","GlobalStoreContext","preferencesStore","PreferencesStoreContext","form","Form","useForm","isLoading","setLoading","useState","isShowModal","showModal","isFormValidated","setIsFormValidated","roomRegion","setRoomRegion","getRegion","classType","setClassType","RoomType","BigClass","roomTitleInputRef","useRef","defaultValues","roomTitle","userInfo","name","roomType","autoMicOn","autoCameraOn","useEffect","ticket","NaN","window","setTimeout","current","focus","select","clearTimeout","regionMenu","regions","region","Fragment","RegionSVG","paddingLeft","e","_Fragment","setFieldsValue","formValidateStatus","handleCancel","handleOk","required","message","max","Input","cursor","marginRight","submitOnEnter","ClassPicker","Checkbox","ev","ctrlKey","shiftKey","altKey","metaKey","preventDefault","validateFields","then","values","getFieldsValue","updateAutoCameraOn","console","error","getFieldsError","every","field","errors","length","updateAutoMicOn","uuidRE","JoinRoomBox","onJoinRoom","roomUUID","handleShowModal","getFieldValue","trim","extractUUIDFromClipboard","navigator","clipboard","readText","m","exec","ScheduleRoomBox","memo","pushHistory","usePushHistory","RouteNameType","UserScheduledPage","MainRoomMenu","roomStore","RoomStoreContext","isTurnOffDeviceTest","isElectron","joinRoomHandler","DevicesTestPage","Row","Col","createOrdinaryRoom","Date","now","errorTips","MainRoomList","listRoomsType","isLogin","skeletonsVisible","setSkeletonsVisible","roomUUIDs","setRoomUUIDs","cancelModalVisible","setCancelModalVisible","inviteModalVisible","setInviteModalVisible","removeHistoryVisible","setRemoveHistoryVisible","removeHistoryLoading","setRemoveHistoryLoading","currentRoom","setCurrentRoom","undefined","isHistoryList","ListRoomsType","History","refreshRooms","useCallback","listRooms","page","setInterval","clearInterval","periodicInfo","periodicUUID","periodicRooms","get","customSort","rooms","room","roomStatus","RoomStatus","Idle","ownerUUID","userUUID","Started","Paused","Stopped","hasRecord","getSubActions","ownerAvatarURL","getRoomStatus","RoomDetailPage","ModifyOrdinaryRoomPage","replayRoom","OneToOne","joinRoom","RemoveRoomModal","hideCancelModal","removeRoomHandler","InviteModal","FLAT_WEB_BASE_URL","periodic","weeks","userName","hideInviteModal","onCopy","hideRemoveHistoryModal","removeConfirm","config","ReplayPage","open","writeText","success","isCancelAll","isCreator","cancelRoom","all","content","result","push","sort","a","b","Number","MainRoomListPanel","setActiveTab","MainRoomHistoryPanel","HomePage","pageStore","PageStoreContext","configure","useLoginCheck","AppUpgradeModal"],"mappings":"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"}