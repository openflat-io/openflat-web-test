{"version":3,"file":"index.94cd8c30.js","sources":["../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/context.js","../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/util.js","../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/Handles/Handle.js","../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/Handles/index.js","../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/hooks/useDrag.js","../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/Tracks/Track.js","../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/Tracks/index.js","../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/Marks/Mark.js","../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/Marks/index.js","../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/Steps/Dot.js","../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/Steps/index.js","../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/hooks/useOffset.js","../../../../node_modules/.pnpm/rc-slider@10.0.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/rc-slider/es/Slider.js","../../../../node_modules/.pnpm/antd@4.23.2_sfoxds7t5ydpegc3knd667wn6m/node_modules/antd/es/slider/SliderTooltip.js","../../../../node_modules/.pnpm/antd@4.23.2_sfoxds7t5ydpegc3knd667wn6m/node_modules/antd/es/slider/index.js","../../../../packages/flat-components/src/components/FlatIcons/icons/SVGPause.tsx","../../../../packages/flat-components/src/components/FlatIcons/icons/SVGPlay.tsx","../../../../packages/flat-components/src/components/FlatIcons/icons/SVGRecordList.tsx","../../../../node_modules/.pnpm/@netless+sync-player@1.0.7_white-web-sdk-esm@2.16.41/node_modules/@netless/sync-player/dist/sync-player.mjs","../../../../packages/flat-stores/src/classroom-replay-store/utils.ts","../../../../packages/flat-stores/src/classroom-replay-store/index.ts","../../../../packages/flat-pages/src/components/ExitReplayConfirm.tsx","../../../../packages/flat-pages/src/utils/use-classroom-replay-store.ts","../../../../packages/flat-pages/src/ReplayPage/ReplayList.tsx","../../../../packages/flat-pages/src/ReplayPage/ReplayVideo.tsx","../../../../packages/flat-pages/src/ReplayPage/ReplayWhiteboard.tsx","../../../../packages/flat-pages/src/ReplayPage/index.tsx"],"sourcesContent":["import * as React from 'react';\nvar SliderContext = /*#__PURE__*/React.createContext({\n  min: 0,\n  max: 0,\n  direction: 'ltr',\n  step: 1,\n  includedStart: 0,\n  includedEnd: 0,\n  tabIndex: 0\n});\nexport default SliderContext;","export function getOffset(value, min, max) {\n  return (value - min) / (max - min);\n}\nexport function getDirectionStyle(direction, value, min, max) {\n  var offset = getOffset(value, min, max);\n  var positionStyle = {};\n\n  switch (direction) {\n    case 'rtl':\n      positionStyle.right = \"\".concat(offset * 100, \"%\");\n      positionStyle.transform = 'translateX(50%)';\n      break;\n\n    case 'btt':\n      positionStyle.bottom = \"\".concat(offset * 100, \"%\");\n      positionStyle.transform = 'translateY(50%)';\n      break;\n\n    case 'ttb':\n      positionStyle.top = \"\".concat(offset * 100, \"%\");\n      positionStyle.transform = 'translateY(-50%)';\n      break;\n\n    default:\n      positionStyle.left = \"\".concat(offset * 100, \"%\");\n      positionStyle.transform = 'translateX(-50%)';\n      break;\n  }\n\n  return positionStyle;\n}\n/** Return index value if is list or return value directly */\n\nexport function getIndex(value, index) {\n  return Array.isArray(value) ? value[index] : value;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"value\", \"valueIndex\", \"onStartMove\", \"style\", \"render\", \"dragging\", \"onOffsetChange\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport SliderContext from '../context';\nimport { getDirectionStyle, getIndex } from '../util';\nvar Handle = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _classNames, _getIndex;\n\n  var prefixCls = props.prefixCls,\n      value = props.value,\n      valueIndex = props.valueIndex,\n      onStartMove = props.onStartMove,\n      style = props.style,\n      render = props.render,\n      dragging = props.dragging,\n      onOffsetChange = props.onOffsetChange,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var _React$useContext = React.useContext(SliderContext),\n      min = _React$useContext.min,\n      max = _React$useContext.max,\n      direction = _React$useContext.direction,\n      disabled = _React$useContext.disabled,\n      range = _React$useContext.range,\n      tabIndex = _React$useContext.tabIndex,\n      ariaLabelForHandle = _React$useContext.ariaLabelForHandle,\n      ariaLabelledByForHandle = _React$useContext.ariaLabelledByForHandle,\n      ariaValueTextFormatterForHandle = _React$useContext.ariaValueTextFormatterForHandle;\n\n  var handlePrefixCls = \"\".concat(prefixCls, \"-handle\"); // ============================ Events ============================\n\n  var onInternalStartMove = function onInternalStartMove(e) {\n    if (!disabled) {\n      onStartMove(e, valueIndex);\n    }\n  }; // =========================== Keyboard ===========================\n\n\n  var onKeyDown = function onKeyDown(e) {\n    if (!disabled) {\n      var offset = null; // Change the value\n\n      switch (e.which || e.keyCode) {\n        case KeyCode.LEFT:\n          offset = direction === 'ltr' || direction === 'btt' ? -1 : 1;\n          break;\n\n        case KeyCode.RIGHT:\n          offset = direction === 'ltr' || direction === 'btt' ? 1 : -1;\n          break;\n        // Up is plus\n\n        case KeyCode.UP:\n          offset = direction !== 'ttb' ? 1 : -1;\n          break;\n        // Down is minus\n\n        case KeyCode.DOWN:\n          offset = direction !== 'ttb' ? -1 : 1;\n          break;\n\n        case KeyCode.HOME:\n          offset = 'min';\n          break;\n\n        case KeyCode.END:\n          offset = 'max';\n          break;\n\n        case KeyCode.PAGE_UP:\n          offset = 2;\n          break;\n\n        case KeyCode.PAGE_DOWN:\n          offset = -2;\n          break;\n      }\n\n      if (offset !== null) {\n        e.preventDefault();\n        onOffsetChange(offset, valueIndex);\n      }\n    }\n  }; // ============================ Offset ============================\n\n\n  var positionStyle = getDirectionStyle(direction, value, min, max); // ============================ Render ============================\n\n  var handleNode = /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    className: classNames(handlePrefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(handlePrefixCls, \"-\").concat(valueIndex + 1), range), _defineProperty(_classNames, \"\".concat(handlePrefixCls, \"-dragging\"), dragging), _classNames)),\n    style: _objectSpread(_objectSpread({}, positionStyle), style),\n    onMouseDown: onInternalStartMove,\n    onTouchStart: onInternalStartMove,\n    onKeyDown: onKeyDown,\n    tabIndex: disabled ? null : getIndex(tabIndex, valueIndex),\n    role: \"slider\",\n    \"aria-valuemin\": min,\n    \"aria-valuemax\": max,\n    \"aria-valuenow\": value,\n    \"aria-disabled\": disabled,\n    \"aria-label\": getIndex(ariaLabelForHandle, valueIndex),\n    \"aria-labelledby\": getIndex(ariaLabelledByForHandle, valueIndex),\n    \"aria-valuetext\": (_getIndex = getIndex(ariaValueTextFormatterForHandle, valueIndex)) === null || _getIndex === void 0 ? void 0 : _getIndex(value)\n  }, restProps)); // Customize\n\n  if (render) {\n    handleNode = render(handleNode, {\n      index: valueIndex,\n      prefixCls: prefixCls,\n      value: value,\n      dragging: dragging\n    });\n  }\n\n  return handleNode;\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Handle.displayName = 'Handle';\n}\n\nexport default Handle;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"style\", \"onStartMove\", \"onOffsetChange\", \"values\", \"handleRender\", \"draggingIndex\"];\nimport * as React from 'react';\nimport Handle from './Handle';\nimport { getIndex } from '../util';\nvar Handles = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var prefixCls = props.prefixCls,\n      style = props.style,\n      onStartMove = props.onStartMove,\n      onOffsetChange = props.onOffsetChange,\n      values = props.values,\n      handleRender = props.handleRender,\n      draggingIndex = props.draggingIndex,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var handlesRef = React.useRef({});\n  React.useImperativeHandle(ref, function () {\n    return {\n      focus: function focus(index) {\n        var _handlesRef$current$i;\n\n        (_handlesRef$current$i = handlesRef.current[index]) === null || _handlesRef$current$i === void 0 ? void 0 : _handlesRef$current$i.focus();\n      }\n    };\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, values.map(function (value, index) {\n    return /*#__PURE__*/React.createElement(Handle, _extends({\n      ref: function ref(node) {\n        if (!node) {\n          delete handlesRef.current[index];\n        } else {\n          handlesRef.current[index] = node;\n        }\n      },\n      dragging: draggingIndex === index,\n      prefixCls: prefixCls,\n      style: getIndex(style, index),\n      key: index,\n      value: value,\n      valueIndex: index,\n      onStartMove: onStartMove,\n      onOffsetChange: onOffsetChange,\n      render: handleRender\n    }, restProps));\n  }));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Handles.displayName = 'Handles';\n}\n\nexport default Handles;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\n\nfunction getPosition(e) {\n  var obj = 'touches' in e ? e.touches[0] : e;\n  return {\n    pageX: obj.pageX,\n    pageY: obj.pageY\n  };\n}\n\nexport default function useDrag(containerRef, direction, rawValues, min, max, formatValue, triggerChange, finishChange, offsetValues) {\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      draggingValue = _React$useState2[0],\n      setDraggingValue = _React$useState2[1];\n\n  var _React$useState3 = React.useState(-1),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      draggingIndex = _React$useState4[0],\n      setDraggingIndex = _React$useState4[1];\n\n  var _React$useState5 = React.useState(rawValues),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      cacheValues = _React$useState6[0],\n      setCacheValues = _React$useState6[1];\n\n  var _React$useState7 = React.useState(rawValues),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      originValues = _React$useState8[0],\n      setOriginValues = _React$useState8[1];\n\n  var mouseMoveEventRef = React.useRef(null);\n  var mouseUpEventRef = React.useRef(null);\n  React.useEffect(function () {\n    if (draggingIndex === -1) {\n      setCacheValues(rawValues);\n    }\n  }, [rawValues, draggingIndex]); // Clean up event\n\n  React.useEffect(function () {\n    return function () {\n      document.removeEventListener('mousemove', mouseMoveEventRef.current);\n      document.removeEventListener('mouseup', mouseUpEventRef.current);\n      document.removeEventListener('touchmove', mouseMoveEventRef.current);\n      document.removeEventListener('touchend', mouseUpEventRef.current);\n    };\n  }, []);\n\n  var flushValues = function flushValues(nextValues, nextValue) {\n    // Perf: Only update state when value changed\n    if (cacheValues.some(function (val, i) {\n      return val !== nextValues[i];\n    })) {\n      if (nextValue !== undefined) {\n        setDraggingValue(nextValue);\n      }\n\n      setCacheValues(nextValues);\n      triggerChange(nextValues);\n    }\n  };\n\n  var updateCacheValue = function updateCacheValue(valueIndex, offsetPercent) {\n    // Basic point offset\n    if (valueIndex === -1) {\n      // >>>> Dragging on the track\n      var startValue = originValues[0];\n      var endValue = originValues[originValues.length - 1];\n      var maxStartOffset = min - startValue;\n      var maxEndOffset = max - endValue; // Get valid offset\n\n      var offset = offsetPercent * (max - min);\n      offset = Math.max(offset, maxStartOffset);\n      offset = Math.min(offset, maxEndOffset); // Use first value to revert back of valid offset (like steps marks)\n\n      var formatStartValue = formatValue(startValue + offset);\n      offset = formatStartValue - startValue;\n      var cloneCacheValues = originValues.map(function (val) {\n        return val + offset;\n      });\n      flushValues(cloneCacheValues);\n    } else {\n      // >>>> Dragging on the handle\n      var offsetDist = (max - min) * offsetPercent; // Always start with the valueIndex origin value\n\n      var cloneValues = _toConsumableArray(cacheValues);\n\n      cloneValues[valueIndex] = originValues[valueIndex];\n      var next = offsetValues(cloneValues, offsetDist, valueIndex, 'dist');\n      flushValues(next.values, next.value);\n    }\n  }; // Resolve closure\n\n\n  var updateCacheValueRef = React.useRef(updateCacheValue);\n  updateCacheValueRef.current = updateCacheValue;\n\n  var onStartMove = function onStartMove(e, valueIndex) {\n    e.stopPropagation();\n    var originValue = rawValues[valueIndex];\n    setDraggingIndex(valueIndex);\n    setDraggingValue(originValue);\n    setOriginValues(rawValues);\n\n    var _getPosition = getPosition(e),\n        startX = _getPosition.pageX,\n        startY = _getPosition.pageY; // Moving\n\n\n    var onMouseMove = function onMouseMove(event) {\n      event.preventDefault();\n\n      var _getPosition2 = getPosition(event),\n          moveX = _getPosition2.pageX,\n          moveY = _getPosition2.pageY;\n\n      var offsetX = moveX - startX;\n      var offsetY = moveY - startY;\n\n      var _containerRef$current = containerRef.current.getBoundingClientRect(),\n          width = _containerRef$current.width,\n          height = _containerRef$current.height;\n\n      var offSetPercent;\n\n      switch (direction) {\n        case 'btt':\n          offSetPercent = -offsetY / height;\n          break;\n\n        case 'ttb':\n          offSetPercent = offsetY / height;\n          break;\n\n        case 'rtl':\n          offSetPercent = -offsetX / width;\n          break;\n\n        default:\n          offSetPercent = offsetX / width;\n      }\n\n      updateCacheValueRef.current(valueIndex, offSetPercent);\n    }; // End\n\n\n    var onMouseUp = function onMouseUp(event) {\n      event.preventDefault();\n      document.removeEventListener('mouseup', onMouseUp);\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('touchend', onMouseUp);\n      document.removeEventListener('touchmove', onMouseMove);\n      mouseMoveEventRef.current = null;\n      mouseUpEventRef.current = null;\n      setDraggingIndex(-1);\n      finishChange();\n    };\n\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('touchend', onMouseUp);\n    document.addEventListener('touchmove', onMouseMove);\n    mouseMoveEventRef.current = onMouseMove;\n    mouseUpEventRef.current = onMouseUp;\n  }; // Only return cache value when it mapping with rawValues\n\n\n  var returnValues = React.useMemo(function () {\n    var sourceValues = _toConsumableArray(rawValues).sort(function (a, b) {\n      return a - b;\n    });\n\n    var targetValues = _toConsumableArray(cacheValues).sort(function (a, b) {\n      return a - b;\n    });\n\n    return sourceValues.every(function (val, index) {\n      return val === targetValues[index];\n    }) ? cacheValues : rawValues;\n  }, [rawValues, cacheValues]);\n  return [draggingIndex, draggingValue, returnValues, onStartMove];\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport SliderContext from '../context';\nimport { getOffset } from '../util';\nexport default function Track(props) {\n  var prefixCls = props.prefixCls,\n      style = props.style,\n      start = props.start,\n      end = props.end,\n      index = props.index,\n      onStartMove = props.onStartMove;\n\n  var _React$useContext = React.useContext(SliderContext),\n      direction = _React$useContext.direction,\n      min = _React$useContext.min,\n      max = _React$useContext.max,\n      disabled = _React$useContext.disabled,\n      range = _React$useContext.range;\n\n  var trackPrefixCls = \"\".concat(prefixCls, \"-track\");\n  var offsetStart = getOffset(start, min, max);\n  var offsetEnd = getOffset(end, min, max); // ============================ Events ============================\n\n  var onInternalStartMove = function onInternalStartMove(e) {\n    if (!disabled && onStartMove) {\n      onStartMove(e, -1);\n    }\n  }; // ============================ Render ============================\n\n\n  var positionStyle = {};\n\n  switch (direction) {\n    case 'rtl':\n      positionStyle.right = \"\".concat(offsetStart * 100, \"%\");\n      positionStyle.width = \"\".concat(offsetEnd * 100 - offsetStart * 100, \"%\");\n      break;\n\n    case 'btt':\n      positionStyle.bottom = \"\".concat(offsetStart * 100, \"%\");\n      positionStyle.height = \"\".concat(offsetEnd * 100 - offsetStart * 100, \"%\");\n      break;\n\n    case 'ttb':\n      positionStyle.top = \"\".concat(offsetStart * 100, \"%\");\n      positionStyle.height = \"\".concat(offsetEnd * 100 - offsetStart * 100, \"%\");\n      break;\n\n    default:\n      positionStyle.left = \"\".concat(offsetStart * 100, \"%\");\n      positionStyle.width = \"\".concat(offsetEnd * 100 - offsetStart * 100, \"%\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(trackPrefixCls, range && \"\".concat(trackPrefixCls, \"-\").concat(index + 1)),\n    style: _objectSpread(_objectSpread({}, positionStyle), style),\n    onMouseDown: onInternalStartMove,\n    onTouchStart: onInternalStartMove\n  });\n}","import * as React from 'react';\nimport SliderContext from '../context';\nimport Track from './Track';\nimport { getIndex } from '../util';\nexport default function Tracks(props) {\n  var prefixCls = props.prefixCls,\n      style = props.style,\n      values = props.values,\n      startPoint = props.startPoint,\n      onStartMove = props.onStartMove;\n\n  var _React$useContext = React.useContext(SliderContext),\n      included = _React$useContext.included,\n      range = _React$useContext.range,\n      min = _React$useContext.min;\n\n  var trackList = React.useMemo(function () {\n    if (!range) {\n      // null value do not have track\n      if (values.length === 0) {\n        return [];\n      }\n\n      var startValue = startPoint !== null && startPoint !== void 0 ? startPoint : min;\n      var endValue = values[0];\n      return [{\n        start: Math.min(startValue, endValue),\n        end: Math.max(startValue, endValue)\n      }];\n    } // Multiple\n\n\n    var list = [];\n\n    for (var i = 0; i < values.length - 1; i += 1) {\n      list.push({\n        start: values[i],\n        end: values[i + 1]\n      });\n    }\n\n    return list;\n  }, [values, range, startPoint, min]);\n  return included ? trackList.map(function (_ref, index) {\n    var start = _ref.start,\n        end = _ref.end;\n    return /*#__PURE__*/React.createElement(Track, {\n      index: index,\n      prefixCls: prefixCls,\n      style: getIndex(style, index),\n      start: start,\n      end: end,\n      key: index,\n      onStartMove: onStartMove\n    });\n  }) : null;\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { getDirectionStyle } from '../util';\nimport SliderContext from '../context';\nexport default function Mark(props) {\n  var prefixCls = props.prefixCls,\n      style = props.style,\n      children = props.children,\n      value = props.value,\n      _onClick = props.onClick;\n\n  var _React$useContext = React.useContext(SliderContext),\n      min = _React$useContext.min,\n      max = _React$useContext.max,\n      direction = _React$useContext.direction,\n      includedStart = _React$useContext.includedStart,\n      includedEnd = _React$useContext.includedEnd,\n      included = _React$useContext.included;\n\n  var textCls = \"\".concat(prefixCls, \"-text\"); // ============================ Offset ============================\n\n  var positionStyle = getDirectionStyle(direction, value, min, max);\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(textCls, _defineProperty({}, \"\".concat(textCls, \"-active\"), included && includedStart <= value && value <= includedEnd)),\n    style: _objectSpread(_objectSpread({}, positionStyle), style),\n    onMouseDown: function onMouseDown(e) {\n      e.stopPropagation();\n    },\n    onClick: function onClick() {\n      _onClick(value);\n    }\n  }, children);\n}","import * as React from 'react';\nimport Mark from './Mark';\nexport default function Marks(props) {\n  var prefixCls = props.prefixCls,\n      marks = props.marks,\n      onClick = props.onClick;\n  var markPrefixCls = \"\".concat(prefixCls, \"-mark\"); // Not render mark if empty\n\n  if (!marks.length) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: markPrefixCls\n  }, marks.map(function (_ref) {\n    var value = _ref.value,\n        style = _ref.style,\n        label = _ref.label;\n    return /*#__PURE__*/React.createElement(Mark, {\n      key: value,\n      prefixCls: markPrefixCls,\n      style: style,\n      value: value,\n      onClick: onClick\n    }, label);\n  }));\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { getDirectionStyle } from '../util';\nimport SliderContext from '../context';\nexport default function Dot(props) {\n  var prefixCls = props.prefixCls,\n      value = props.value,\n      style = props.style,\n      activeStyle = props.activeStyle;\n\n  var _React$useContext = React.useContext(SliderContext),\n      min = _React$useContext.min,\n      max = _React$useContext.max,\n      direction = _React$useContext.direction,\n      included = _React$useContext.included,\n      includedStart = _React$useContext.includedStart,\n      includedEnd = _React$useContext.includedEnd;\n\n  var dotClassName = \"\".concat(prefixCls, \"-dot\");\n  var active = included && includedStart <= value && value <= includedEnd; // ============================ Offset ============================\n\n  var mergedStyle = _objectSpread(_objectSpread({}, getDirectionStyle(direction, value, min, max)), style);\n\n  if (active) {\n    mergedStyle = _objectSpread(_objectSpread({}, mergedStyle), activeStyle);\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(dotClassName, _defineProperty({}, \"\".concat(dotClassName, \"-active\"), active)),\n    style: mergedStyle\n  });\n}","import * as React from 'react';\nimport SliderContext from '../context';\nimport Dot from './Dot';\nexport default function Steps(props) {\n  var prefixCls = props.prefixCls,\n      marks = props.marks,\n      dots = props.dots,\n      style = props.style,\n      activeStyle = props.activeStyle;\n\n  var _React$useContext = React.useContext(SliderContext),\n      min = _React$useContext.min,\n      max = _React$useContext.max,\n      step = _React$useContext.step;\n\n  var stepDots = React.useMemo(function () {\n    var dotSet = new Set(); // Add marks\n\n    marks.forEach(function (mark) {\n      dotSet.add(mark.value);\n    }); // Fill dots\n\n    if (dots) {\n      var current = min;\n\n      while (current <= max) {\n        dotSet.add(current);\n        current += step;\n      }\n    }\n\n    return Array.from(dotSet);\n  }, [min, max, step, dots, marks]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-step\")\n  }, stepDots.map(function (dotValue) {\n    return /*#__PURE__*/React.createElement(Dot, {\n      prefixCls: prefixCls,\n      key: dotValue,\n      value: dotValue,\n      style: style,\n      activeStyle: activeStyle\n    });\n  }));\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nexport default function useOffset(min, max, step, markList, allowCross, pushable) {\n  var formatRangeValue = React.useCallback(function (val) {\n    var formatNextValue = isFinite(val) ? val : min;\n    formatNextValue = Math.min(max, val);\n    formatNextValue = Math.max(min, formatNextValue);\n    return formatNextValue;\n  }, [min, max]);\n  var formatStepValue = React.useCallback(function (val) {\n    if (step !== null) {\n      var stepValue = min + Math.round((formatRangeValue(val) - min) / step) * step; // Cut number in case to be like 0.30000000000000004\n\n      var getDecimal = function getDecimal(num) {\n        return (String(num).split('.')[1] || '').length;\n      };\n\n      var maxDecimal = Math.max(getDecimal(step), getDecimal(max), getDecimal(min));\n      var fixedValue = Number(stepValue.toFixed(maxDecimal));\n      return min <= fixedValue && fixedValue <= max ? fixedValue : null;\n    }\n\n    return null;\n  }, [step, min, max, formatRangeValue]);\n  var formatValue = React.useCallback(function (val) {\n    var formatNextValue = formatRangeValue(val); // List align values\n\n    var alignValues = markList.map(function (mark) {\n      return mark.value;\n    });\n\n    if (step !== null) {\n      alignValues.push(formatStepValue(val));\n    } // min & max\n\n\n    alignValues.push(min, max); // Align with marks\n\n    var closeValue = alignValues[0];\n    var closeDist = max - min;\n    alignValues.forEach(function (alignValue) {\n      var dist = Math.abs(formatNextValue - alignValue);\n\n      if (dist <= closeDist) {\n        closeValue = alignValue;\n        closeDist = dist;\n      }\n    });\n    return closeValue;\n  }, [min, max, markList, step, formatRangeValue, formatStepValue]); // ========================== Offset ==========================\n  // Single Value\n\n  var offsetValue = function offsetValue(values, offset, valueIndex) {\n    var mode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'unit';\n\n    if (typeof offset === 'number') {\n      var nextValue;\n      var originValue = values[valueIndex]; // Only used for `dist` mode\n\n      var targetDistValue = originValue + offset; // Compare next step value & mark value which is best match\n\n      var potentialValues = [];\n      markList.forEach(function (mark) {\n        potentialValues.push(mark.value);\n      }); // Min & Max\n\n      potentialValues.push(min, max); // In case origin value is align with mark but not with step\n\n      potentialValues.push(formatStepValue(originValue)); // Put offset step value also\n\n      var sign = offset > 0 ? 1 : -1;\n\n      if (mode === 'unit') {\n        potentialValues.push(formatStepValue(originValue + sign * step));\n      } else {\n        potentialValues.push(formatStepValue(targetDistValue));\n      } // Find close one\n\n\n      potentialValues = potentialValues.filter(function (val) {\n        return val !== null;\n      }) // Remove reverse value\n      .filter(function (val) {\n        return offset < 0 ? val <= originValue : val >= originValue;\n      });\n\n      if (mode === 'unit') {\n        // `unit` mode can not contain itself\n        potentialValues = potentialValues.filter(function (val) {\n          return val !== originValue;\n        });\n      }\n\n      var compareValue = mode === 'unit' ? originValue : targetDistValue;\n      nextValue = potentialValues[0];\n      var valueDist = Math.abs(nextValue - compareValue);\n      potentialValues.forEach(function (potentialValue) {\n        var dist = Math.abs(potentialValue - compareValue);\n\n        if (dist < valueDist) {\n          nextValue = potentialValue;\n          valueDist = dist;\n        }\n      }); // Out of range will back to range\n\n      if (nextValue === undefined) {\n        return offset < 0 ? min : max;\n      } // `dist` mode\n\n\n      if (mode === 'dist') {\n        return nextValue;\n      } // `unit` mode may need another round\n\n\n      if (Math.abs(offset) > 1) {\n        var cloneValues = _toConsumableArray(values);\n\n        cloneValues[valueIndex] = nextValue;\n        return offsetValue(cloneValues, offset - sign, valueIndex, mode);\n      }\n\n      return nextValue;\n    } else if (offset === 'min') {\n      return min;\n    } else if (offset === 'max') {\n      return max;\n    }\n  };\n  /** Same as `offsetValue` but return `changed` mark to tell value changed */\n\n\n  var offsetChangedValue = function offsetChangedValue(values, offset, valueIndex) {\n    var mode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'unit';\n    var originValue = values[valueIndex];\n    var nextValue = offsetValue(values, offset, valueIndex, mode);\n    return {\n      value: nextValue,\n      changed: nextValue !== originValue\n    };\n  };\n\n  var needPush = function needPush(dist) {\n    return pushable === null && dist === 0 || typeof pushable === 'number' && dist < pushable;\n  }; // Values\n\n\n  var offsetValues = function offsetValues(values, offset, valueIndex) {\n    var mode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'unit';\n    var nextValues = values.map(formatValue);\n    var originValue = nextValues[valueIndex];\n    var nextValue = offsetValue(nextValues, offset, valueIndex, mode);\n    nextValues[valueIndex] = nextValue;\n\n    if (allowCross === false) {\n      // >>>>> Allow Cross\n      var pushNum = pushable || 0; // ============ AllowCross ===============\n\n      if (valueIndex > 0 && nextValues[valueIndex - 1] !== originValue) {\n        nextValues[valueIndex] = Math.max(nextValues[valueIndex], nextValues[valueIndex - 1] + pushNum);\n      }\n\n      if (valueIndex < nextValues.length - 1 && nextValues[valueIndex + 1] !== originValue) {\n        nextValues[valueIndex] = Math.min(nextValues[valueIndex], nextValues[valueIndex + 1] - pushNum);\n      }\n    } else if (typeof pushable === 'number' || pushable === null) {\n      // >>>>> Pushable\n      // =============== Push ==================\n      // >>>>>> Basic push\n      // End values\n      for (var i = valueIndex + 1; i < nextValues.length; i += 1) {\n        var changed = true;\n\n        while (needPush(nextValues[i] - nextValues[i - 1]) && changed) {\n          var _offsetChangedValue = offsetChangedValue(nextValues, 1, i);\n\n          nextValues[i] = _offsetChangedValue.value;\n          changed = _offsetChangedValue.changed;\n        }\n      } // Start values\n\n\n      for (var _i = valueIndex; _i > 0; _i -= 1) {\n        var _changed = true;\n\n        while (needPush(nextValues[_i] - nextValues[_i - 1]) && _changed) {\n          var _offsetChangedValue2 = offsetChangedValue(nextValues, -1, _i - 1);\n\n          nextValues[_i - 1] = _offsetChangedValue2.value;\n          _changed = _offsetChangedValue2.changed;\n        }\n      } // >>>>> Revert back to safe push range\n      // End to Start\n\n\n      for (var _i2 = nextValues.length - 1; _i2 > 0; _i2 -= 1) {\n        var _changed2 = true;\n\n        while (needPush(nextValues[_i2] - nextValues[_i2 - 1]) && _changed2) {\n          var _offsetChangedValue3 = offsetChangedValue(nextValues, -1, _i2 - 1);\n\n          nextValues[_i2 - 1] = _offsetChangedValue3.value;\n          _changed2 = _offsetChangedValue3.changed;\n        }\n      } // Start to End\n\n\n      for (var _i3 = 0; _i3 < nextValues.length - 1; _i3 += 1) {\n        var _changed3 = true;\n\n        while (needPush(nextValues[_i3 + 1] - nextValues[_i3]) && _changed3) {\n          var _offsetChangedValue4 = offsetChangedValue(nextValues, 1, _i3 + 1);\n\n          nextValues[_i3 + 1] = _offsetChangedValue4.value;\n          _changed3 = _offsetChangedValue4.changed;\n        }\n      }\n    }\n\n    return {\n      value: nextValues[valueIndex],\n      values: nextValues\n    };\n  };\n\n  return [formatValue, offsetValues];\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Handles from './Handles';\nimport useDrag from './hooks/useDrag';\nimport SliderContext from './context';\nimport Tracks from './Tracks';\nimport Marks from './Marks';\nimport Steps from './Steps';\nimport useOffset from './hooks/useOffset';\nimport warning from \"rc-util/es/warning\";\nvar Slider = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _classNames;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-slider' : _props$prefixCls,\n      className = props.className,\n      style = props.style,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      autoFocus = props.autoFocus,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      _props$min = props.min,\n      min = _props$min === void 0 ? 0 : _props$min,\n      _props$max = props.max,\n      max = _props$max === void 0 ? 100 : _props$max,\n      _props$step = props.step,\n      step = _props$step === void 0 ? 1 : _props$step,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      range = props.range,\n      count = props.count,\n      onChange = props.onChange,\n      onBeforeChange = props.onBeforeChange,\n      onAfterChange = props.onAfterChange,\n      _props$allowCross = props.allowCross,\n      allowCross = _props$allowCross === void 0 ? true : _props$allowCross,\n      _props$pushable = props.pushable,\n      pushable = _props$pushable === void 0 ? false : _props$pushable,\n      draggableTrack = props.draggableTrack,\n      reverse = props.reverse,\n      vertical = props.vertical,\n      _props$included = props.included,\n      included = _props$included === void 0 ? true : _props$included,\n      startPoint = props.startPoint,\n      trackStyle = props.trackStyle,\n      handleStyle = props.handleStyle,\n      railStyle = props.railStyle,\n      dotStyle = props.dotStyle,\n      activeDotStyle = props.activeDotStyle,\n      marks = props.marks,\n      dots = props.dots,\n      handleRender = props.handleRender,\n      _props$tabIndex = props.tabIndex,\n      tabIndex = _props$tabIndex === void 0 ? 0 : _props$tabIndex,\n      ariaLabelForHandle = props.ariaLabelForHandle,\n      ariaLabelledByForHandle = props.ariaLabelledByForHandle,\n      ariaValueTextFormatterForHandle = props.ariaValueTextFormatterForHandle;\n  var handlesRef = React.useRef();\n  var containerRef = React.useRef();\n  var direction = React.useMemo(function () {\n    if (vertical) {\n      return reverse ? 'ttb' : 'btt';\n    }\n\n    return reverse ? 'rtl' : 'ltr';\n  }, [reverse, vertical]); // ============================ Range =============================\n\n  var mergedMin = React.useMemo(function () {\n    return isFinite(min) ? min : 0;\n  }, [min]);\n  var mergedMax = React.useMemo(function () {\n    return isFinite(max) ? max : 100;\n  }, [max]); // ============================= Step =============================\n\n  var mergedStep = React.useMemo(function () {\n    return step !== null && step <= 0 ? 1 : step;\n  }, [step]); // ============================= Push =============================\n\n  var mergedPush = React.useMemo(function () {\n    if (pushable === true) {\n      return mergedStep;\n    }\n\n    return pushable >= 0 ? pushable : false;\n  }, [pushable, mergedStep]); // ============================ Marks =============================\n\n  var markList = React.useMemo(function () {\n    var keys = Object.keys(marks || {});\n    return keys.map(function (key) {\n      var mark = marks[key];\n      var markObj = {\n        value: Number(key)\n      };\n\n      if (mark && _typeof(mark) === 'object' && ! /*#__PURE__*/React.isValidElement(mark) && ('label' in mark || 'style' in mark)) {\n        markObj.style = mark.style;\n        markObj.label = mark.label;\n      } else {\n        markObj.label = mark;\n      }\n\n      return markObj;\n    }).filter(function (_ref) {\n      var label = _ref.label;\n      return label || typeof label === 'number';\n    }).sort(function (a, b) {\n      return a.value - b.value;\n    });\n  }, [marks]); // ============================ Format ============================\n\n  var _useOffset = useOffset(mergedMin, mergedMax, mergedStep, markList, allowCross, mergedPush),\n      _useOffset2 = _slicedToArray(_useOffset, 2),\n      formatValue = _useOffset2[0],\n      offsetValues = _useOffset2[1]; // ============================ Values ============================\n\n\n  var _useMergedState = useMergedState(defaultValue, {\n    value: value\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedValue = _useMergedState2[0],\n      setValue = _useMergedState2[1];\n\n  var rawValues = React.useMemo(function () {\n    var valueList = mergedValue === null || mergedValue === undefined ? [] : Array.isArray(mergedValue) ? mergedValue : [mergedValue];\n\n    var _valueList = _slicedToArray(valueList, 1),\n        _valueList$ = _valueList[0],\n        val0 = _valueList$ === void 0 ? mergedMin : _valueList$;\n\n    var returnValues = mergedValue === null ? [] : [val0]; // Format as range\n\n    if (range) {\n      returnValues = _toConsumableArray(valueList); // When count provided or value is `undefined`, we fill values\n\n      if (count || mergedValue === undefined) {\n        var pointCount = count >= 0 ? count + 1 : 2;\n        returnValues = returnValues.slice(0, pointCount); // Fill with count\n\n        while (returnValues.length < pointCount) {\n          var _returnValues;\n\n          returnValues.push((_returnValues = returnValues[returnValues.length - 1]) !== null && _returnValues !== void 0 ? _returnValues : mergedMin);\n        }\n      }\n\n      returnValues.sort(function (a, b) {\n        return a - b;\n      });\n    } // Align in range\n\n\n    returnValues.forEach(function (val, index) {\n      returnValues[index] = formatValue(val);\n    });\n    return returnValues;\n  }, [mergedValue, range, mergedMin, count, formatValue]); // =========================== onChange ===========================\n\n  var rawValuesRef = React.useRef(rawValues);\n  rawValuesRef.current = rawValues;\n\n  var getTriggerValue = function getTriggerValue(triggerValues) {\n    return range ? triggerValues : triggerValues[0];\n  };\n\n  var triggerChange = function triggerChange(nextValues) {\n    // Order first\n    var cloneNextValues = _toConsumableArray(nextValues).sort(function (a, b) {\n      return a - b;\n    }); // Trigger event if needed\n\n\n    if (onChange && !shallowEqual(cloneNextValues, rawValuesRef.current)) {\n      onChange(getTriggerValue(cloneNextValues));\n    } // We set this later since it will re-render component immediately\n\n\n    setValue(cloneNextValues);\n  };\n\n  var changeToCloseValue = function changeToCloseValue(newValue) {\n    if (!disabled) {\n      var valueIndex = 0;\n      var valueDist = mergedMax - mergedMin;\n      rawValues.forEach(function (val, index) {\n        var dist = Math.abs(newValue - val);\n\n        if (dist <= valueDist) {\n          valueDist = dist;\n          valueIndex = index;\n        }\n      }); // Create new values\n\n      var cloneNextValues = _toConsumableArray(rawValues);\n\n      cloneNextValues[valueIndex] = newValue; // Fill value to match default 2\n\n      if (range && !rawValues.length && count === undefined) {\n        cloneNextValues.push(newValue);\n      }\n\n      onBeforeChange === null || onBeforeChange === void 0 ? void 0 : onBeforeChange(getTriggerValue(cloneNextValues));\n      triggerChange(cloneNextValues);\n      onAfterChange === null || onAfterChange === void 0 ? void 0 : onAfterChange(getTriggerValue(cloneNextValues));\n    }\n  }; // ============================ Click =============================\n\n\n  var onSliderMouseDown = function onSliderMouseDown(e) {\n    e.preventDefault();\n\n    var _containerRef$current = containerRef.current.getBoundingClientRect(),\n        width = _containerRef$current.width,\n        height = _containerRef$current.height,\n        left = _containerRef$current.left,\n        top = _containerRef$current.top,\n        bottom = _containerRef$current.bottom,\n        right = _containerRef$current.right;\n\n    var clientX = e.clientX,\n        clientY = e.clientY;\n    var percent;\n\n    switch (direction) {\n      case 'btt':\n        percent = (bottom - clientY) / height;\n        break;\n\n      case 'ttb':\n        percent = (clientY - top) / height;\n        break;\n\n      case 'rtl':\n        percent = (right - clientX) / width;\n        break;\n\n      default:\n        percent = (clientX - left) / width;\n    }\n\n    var nextValue = mergedMin + percent * (mergedMax - mergedMin);\n    changeToCloseValue(formatValue(nextValue));\n  }; // =========================== Keyboard ===========================\n\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      keyboardValue = _React$useState2[0],\n      setKeyboardValue = _React$useState2[1];\n\n  var onHandleOffsetChange = function onHandleOffsetChange(offset, valueIndex) {\n    if (!disabled) {\n      var next = offsetValues(rawValues, offset, valueIndex);\n      onBeforeChange === null || onBeforeChange === void 0 ? void 0 : onBeforeChange(getTriggerValue(rawValues));\n      triggerChange(next.values);\n      onAfterChange === null || onAfterChange === void 0 ? void 0 : onAfterChange(getTriggerValue(next.values));\n      setKeyboardValue(next.value);\n    }\n  };\n\n  React.useEffect(function () {\n    if (keyboardValue !== null) {\n      var valueIndex = rawValues.indexOf(keyboardValue);\n\n      if (valueIndex >= 0) {\n        handlesRef.current.focus(valueIndex);\n      }\n    }\n\n    setKeyboardValue(null);\n  }, [keyboardValue]); // ============================= Drag =============================\n\n  var mergedDraggableTrack = React.useMemo(function () {\n    if (draggableTrack && mergedStep === null) {\n      if (process.env.NODE_ENV !== 'production') {\n        warning(false, '`draggableTrack` is not supported when `step` is `null`.');\n      }\n\n      return false;\n    }\n\n    return draggableTrack;\n  }, [draggableTrack, mergedStep]);\n\n  var finishChange = function finishChange() {\n    onAfterChange === null || onAfterChange === void 0 ? void 0 : onAfterChange(getTriggerValue(rawValuesRef.current));\n  };\n\n  var _useDrag = useDrag(containerRef, direction, rawValues, mergedMin, mergedMax, formatValue, triggerChange, finishChange, offsetValues),\n      _useDrag2 = _slicedToArray(_useDrag, 4),\n      draggingIndex = _useDrag2[0],\n      draggingValue = _useDrag2[1],\n      cacheValues = _useDrag2[2],\n      onStartDrag = _useDrag2[3];\n\n  var onStartMove = function onStartMove(e, valueIndex) {\n    onStartDrag(e, valueIndex);\n    onBeforeChange === null || onBeforeChange === void 0 ? void 0 : onBeforeChange(getTriggerValue(rawValuesRef.current));\n  }; // Auto focus for updated handle\n\n\n  var dragging = draggingIndex !== -1;\n  React.useEffect(function () {\n    if (!dragging) {\n      var valueIndex = rawValues.lastIndexOf(draggingValue);\n      handlesRef.current.focus(valueIndex);\n    }\n  }, [dragging]); // =========================== Included ===========================\n\n  var sortedCacheValues = React.useMemo(function () {\n    return _toConsumableArray(cacheValues).sort(function (a, b) {\n      return a - b;\n    });\n  }, [cacheValues]); // Provide a range values with included [min, max]\n  // Used for Track, Mark & Dot\n\n  var _React$useMemo = React.useMemo(function () {\n    if (!range) {\n      return [mergedMin, sortedCacheValues[0]];\n    }\n\n    return [sortedCacheValues[0], sortedCacheValues[sortedCacheValues.length - 1]];\n  }, [sortedCacheValues, range, mergedMin]),\n      _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n      includedStart = _React$useMemo2[0],\n      includedEnd = _React$useMemo2[1]; // ============================= Refs =============================\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      focus: function focus() {\n        handlesRef.current.focus(0);\n      },\n      blur: function blur() {\n        var _document = document,\n            activeElement = _document.activeElement;\n\n        if (containerRef.current.contains(activeElement)) {\n          activeElement === null || activeElement === void 0 ? void 0 : activeElement.blur();\n        }\n      }\n    };\n  }); // ========================== Auto Focus ==========================\n\n  React.useEffect(function () {\n    if (autoFocus) {\n      handlesRef.current.focus(0);\n    }\n  }, []); // =========================== Context ============================\n\n  var context = React.useMemo(function () {\n    return {\n      min: mergedMin,\n      max: mergedMax,\n      direction: direction,\n      disabled: disabled,\n      step: mergedStep,\n      included: included,\n      includedStart: includedStart,\n      includedEnd: includedEnd,\n      range: range,\n      tabIndex: tabIndex,\n      ariaLabelForHandle: ariaLabelForHandle,\n      ariaLabelledByForHandle: ariaLabelledByForHandle,\n      ariaValueTextFormatterForHandle: ariaValueTextFormatterForHandle\n    };\n  }, [mergedMin, mergedMax, direction, disabled, mergedStep, included, includedStart, includedEnd, range, tabIndex, ariaLabelForHandle, ariaLabelledByForHandle, ariaValueTextFormatterForHandle]); // ============================ Render ============================\n\n  return /*#__PURE__*/React.createElement(SliderContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: containerRef,\n    className: classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-vertical\"), vertical), _defineProperty(_classNames, \"\".concat(prefixCls, \"-horizontal\"), !vertical), _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-marks\"), markList.length), _classNames)),\n    style: style,\n    onMouseDown: onSliderMouseDown\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-rail\"),\n    style: railStyle\n  }), /*#__PURE__*/React.createElement(Tracks, {\n    prefixCls: prefixCls,\n    style: trackStyle,\n    values: sortedCacheValues,\n    startPoint: startPoint,\n    onStartMove: mergedDraggableTrack ? onStartMove : null\n  }), /*#__PURE__*/React.createElement(Steps, {\n    prefixCls: prefixCls,\n    marks: markList,\n    dots: dots,\n    style: dotStyle,\n    activeStyle: activeDotStyle\n  }), /*#__PURE__*/React.createElement(Handles, {\n    ref: handlesRef,\n    prefixCls: prefixCls,\n    style: handleStyle,\n    values: cacheValues,\n    draggingIndex: draggingIndex,\n    onStartMove: onStartMove,\n    onOffsetChange: onHandleOffsetChange,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    handleRender: handleRender\n  }), /*#__PURE__*/React.createElement(Marks, {\n    prefixCls: prefixCls,\n    marks: markList,\n    onClick: changeToCloseValue\n  })));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Slider.displayName = 'Slider';\n}\n\nexport default Slider;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport raf from \"rc-util/es/raf\";\nimport { composeRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\nimport { useRef } from 'react';\nimport Tooltip from '../tooltip';\nvar SliderTooltip = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var open = props.open;\n  var innerRef = useRef(null);\n  var rafRef = useRef(null);\n\n  function cancelKeepAlign() {\n    raf.cancel(rafRef.current);\n    rafRef.current = null;\n  }\n\n  function keepAlign() {\n    rafRef.current = raf(function () {\n      var _a;\n\n      (_a = innerRef.current) === null || _a === void 0 ? void 0 : _a.forcePopupAlign();\n      rafRef.current = null;\n    });\n  }\n\n  React.useEffect(function () {\n    if (open) {\n      keepAlign();\n    } else {\n      cancelKeepAlign();\n    }\n\n    return cancelKeepAlign;\n  }, [open, props.title]);\n  return /*#__PURE__*/React.createElement(Tooltip, _extends({\n    ref: composeRef(innerRef, ref)\n  }, props));\n});\nexport default SliderTooltip;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport classNames from 'classnames';\nimport RcSlider from 'rc-slider';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport warning from '../_util/warning';\nimport SliderTooltip from './SliderTooltip';\nvar Slider = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction,\n      getPopupContainer = _React$useContext.getPopupContainer;\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      opens = _React$useState2[0],\n      setOpens = _React$useState2[1];\n\n  var toggleTooltipOpen = function toggleTooltipOpen(index, open) {\n    setOpens(function (prev) {\n      return _extends(_extends({}, prev), _defineProperty({}, index, open));\n    });\n  };\n\n  var getTooltipPlacement = function getTooltipPlacement(tooltipPlacement, vertical) {\n    if (tooltipPlacement) {\n      return tooltipPlacement;\n    }\n\n    if (!vertical) {\n      return 'top';\n    }\n\n    return direction === 'rtl' ? 'left' : 'right';\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      range = props.range,\n      className = props.className,\n      restProps = __rest(props, [\"prefixCls\", \"range\", \"className\"]);\n\n  var prefixCls = getPrefixCls('slider', customizePrefixCls);\n  var cls = classNames(className, _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl')); // make reverse default on rtl direction\n\n  if (direction === 'rtl' && !restProps.vertical) {\n    restProps.reverse = !restProps.reverse;\n  } // Range config\n\n\n  var _React$useMemo = React.useMemo(function () {\n    if (!range) {\n      return [false];\n    }\n\n    return _typeof(range) === 'object' ? [true, range.draggableTrack] : [true, false];\n  }, [range]),\n      _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n      mergedRange = _React$useMemo2[0],\n      draggableTrack = _React$useMemo2[1]; // Warning for deprecated usage\n\n\n  if (process.env.NODE_ENV !== 'production') {\n    [['tooltipPrefixCls', 'prefixCls'], ['getTooltipPopupContainer', 'getPopupContainer'], ['tipFormatter', 'formatter'], ['tooltipPlacement', 'placement'], ['tooltipVisible', 'open']].forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          deprecatedName = _ref2[0],\n          newName = _ref2[1];\n\n      process.env.NODE_ENV !== \"production\" ? warning(!(deprecatedName in props), 'Slider', \"`\".concat(deprecatedName, \"` is deprecated which will be removed in next major version, please use `tooltip.\").concat(newName, \"` instead.\")) : void 0;\n    });\n  }\n\n  var handleRender = function handleRender(node, info) {\n    var _a;\n\n    var index = info.index,\n        dragging = info.dragging;\n    var rootPrefixCls = getPrefixCls();\n    var _props$tooltip = props.tooltip,\n        tooltip = _props$tooltip === void 0 ? {} : _props$tooltip,\n        vertical = props.vertical;\n\n    var tooltipProps = _extends({\n      formatter: (_a = props.tipFormatter) !== null && _a !== void 0 ? _a : // eslint-disable-next-line func-names\n      function (value) {\n        return typeof value === 'number' ? value.toString() : '';\n      },\n      open: props.tooltipVisible,\n      placement: props.tooltipPlacement,\n      getPopupContainer: props.getTooltipPopupContainer\n    }, tooltip);\n\n    var tooltipOpen = tooltipProps.open,\n        tooltipPlacement = tooltipProps.placement,\n        getTooltipPopupContainer = tooltipProps.getPopupContainer,\n        customizeTooltipPrefixCls = tooltipProps.prefixCls,\n        tipFormatter = tooltipProps.formatter;\n    var isTipFormatter = tipFormatter ? opens[index] || dragging : false;\n    var open = tooltipOpen || tooltipOpen === undefined && isTipFormatter;\n\n    var passedProps = _extends(_extends({}, node.props), {\n      onMouseEnter: function onMouseEnter() {\n        return toggleTooltipOpen(index, true);\n      },\n      onMouseLeave: function onMouseLeave() {\n        return toggleTooltipOpen(index, false);\n      }\n    });\n\n    var tooltipPrefixCls = getPrefixCls('tooltip', customizeTooltipPrefixCls);\n    return /*#__PURE__*/React.createElement(SliderTooltip, {\n      prefixCls: tooltipPrefixCls,\n      title: tipFormatter ? tipFormatter(info.value) : '',\n      open: open,\n      placement: getTooltipPlacement(tooltipPlacement, vertical),\n      transitionName: \"\".concat(rootPrefixCls, \"-zoom-down\"),\n      key: index,\n      overlayClassName: \"\".concat(prefixCls, \"-tooltip\"),\n      getPopupContainer: getTooltipPopupContainer || getPopupContainer\n    }, /*#__PURE__*/React.cloneElement(node, passedProps));\n  };\n\n  return /*#__PURE__*/React.createElement(RcSlider, _extends({}, restProps, {\n    step: restProps.step,\n    range: mergedRange,\n    draggableTrack: draggableTrack,\n    className: cls,\n    ref: ref,\n    prefixCls: prefixCls,\n    handleRender: handleRender\n  }));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Slider.displayName = 'Slider';\n}\n\nexport default Slider;","import \"../style.less\";\nimport React from \"react\";\nimport { FlatIconProps } from \"../types\";\n\nexport const SVGPause: React.FC<FlatIconProps> = ({ active, className = \"\", ...restProps }) => {\n    return (\n        <svg\n            className={`${className} flat-icon ${active ? \"is-active\" : \"\"}`}\n            fill=\"none\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            width=\"24\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            {...restProps}\n        >\n            <path\n                className=\"flat-icon-fill-color\"\n                clipRule=\"evenodd\"\n                d=\"M10 5H6v14h4V5Zm8 0h-4v14h4V5Z\"\n                fill=\"#5D6066\"\n                fillRule=\"evenodd\"\n            ></path>\n        </svg>\n    );\n};\n\nexport default SVGPause;\n","import \"../style.less\";\nimport React from \"react\";\nimport { FlatIconProps } from \"../types\";\n\nexport const SVGPlay: React.FC<FlatIconProps> = ({ active, className = \"\", ...restProps }) => {\n    return (\n        <svg\n            className={`${className} flat-icon ${active ? \"is-active\" : \"\"}`}\n            fill=\"none\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            width=\"24\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            {...restProps}\n        >\n            <path\n                className=\"flat-icon-fill-color\"\n                clipRule=\"evenodd\"\n                d=\"M6.5 5v14l11-7-11-7Z\"\n                fill=\"#5D6066\"\n                fillRule=\"evenodd\"\n            ></path>\n        </svg>\n    );\n};\n\nexport default SVGPlay;\n","import \"../style.less\";\nimport React from \"react\";\nimport { FlatIconProps } from \"../types\";\n\nexport const SVGRecordList: React.FC<FlatIconProps> = ({\n    active,\n    className = \"\",\n    ...restProps\n}) => {\n    return (\n        <svg\n            className={`${className} flat-icon ${active ? \"is-active\" : \"\"}`}\n            fill=\"none\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            width=\"24\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            {...restProps}\n        >\n            <circle className=\"flat-icon-fill-color\" cx=\"19\" cy=\"8\" fill=\"#5D6066\" r=\"1\" />\n            <circle className=\"flat-icon-fill-color\" cx=\"19\" cy=\"12\" fill=\"#5D6066\" r=\"1\" />\n            <circle className=\"flat-icon-fill-color\" cx=\"19\" cy=\"16\" fill=\"#5D6066\" r=\"1\" />\n            <path\n                className=\"flat-icon-stroke-color\"\n                d=\"M4 8H16\"\n                stroke=\"#5D6066\"\n                strokeWidth=\"1.25\"\n            />\n            <path\n                className=\"flat-icon-stroke-color\"\n                d=\"M4 12H16\"\n                stroke=\"#5D6066\"\n                strokeWidth=\"1.25\"\n            />\n            <path\n                className=\"flat-icon-stroke-color\"\n                d=\"M4 16H16\"\n                stroke=\"#5D6066\"\n                strokeWidth=\"1.25\"\n            />\n        </svg>\n    );\n};\n\nexport default SVGRecordList;\n","import EventEmitter from \"eventemitter3\";\nimport { SideEffectManager } from \"side-effect-manager\";\nimport { PlayerPhase } from \"white-web-sdk\";\nvar SyncPlayerStatus = /* @__PURE__ */ ((SyncPlayerStatus2) => {\n  SyncPlayerStatus2[\"Ready\"] = \"Ready\";\n  SyncPlayerStatus2[\"Pause\"] = \"Pause\";\n  SyncPlayerStatus2[\"Buffering\"] = \"Buffering\";\n  SyncPlayerStatus2[\"Playing\"] = \"Playing\";\n  SyncPlayerStatus2[\"Ended\"] = \"Ended\";\n  return SyncPlayerStatus2;\n})(SyncPlayerStatus || {});\nfunction normalizePlaybackRate(rate) {\n  return Math.floor(rate * 1e3) / 1e3;\n}\nfunction isPlaybackRateEqual(rate1, rate2) {\n  return Math.floor(rate1 * 1e3) === Math.floor(rate2 * 1e3);\n}\nclass AtomPlayer extends EventEmitter {\n  constructor(config) {\n    super();\n    this._offset = 0;\n    this._visible = true;\n    this.ignoreSetStatus = false;\n    this._sideEffect = new SideEffectManager();\n    this._status = SyncPlayerStatus.Ready;\n    this._currentTime = 0;\n    this._duration = 0;\n    this._playbackRate = 1;\n    this._initStatus = AtomPlayerInitStatus.Idle;\n    this.name = config == null ? void 0 : config.name;\n    this.loadInit = this.init();\n  }\n  get offset() {\n    return this._offset;\n  }\n  get visible() {\n    return this._visible;\n  }\n  set visible(value) {\n    if (this._visible !== value) {\n      this._visible = value;\n      this.emit(\"visibilitychange\");\n    }\n  }\n  get isReady() {\n    return this._initStatus === AtomPlayerInitStatus.Ready;\n  }\n  get isPlaying() {\n    return this._status === SyncPlayerStatus.Playing || this._status === SyncPlayerStatus.Buffering;\n  }\n  get status() {\n    return this._status;\n  }\n  set status(value) {\n    if (!this.ignoreSetStatus && this._status !== value) {\n      this._status = value;\n      this.emit(\"status\");\n    }\n  }\n  get currentTime() {\n    return this._currentTime;\n  }\n  set currentTime(ms) {\n    ms = Math.floor(ms);\n    if (this._currentTime !== ms) {\n      this._currentTime = ms;\n      this.emit(\"timeupdate\");\n    }\n  }\n  get duration() {\n    return this._duration;\n  }\n  set duration(ms) {\n    ms = Math.floor(ms);\n    if (this._duration !== ms) {\n      this._duration = ms;\n      this.emit(\"durationchange\");\n    }\n  }\n  get playbackRate() {\n    return this._playbackRate;\n  }\n  set playbackRate(value) {\n    const rate = normalizePlaybackRate(value);\n    if (!isPlaybackRateEqual(this._playbackRate, rate)) {\n      this.setPlaybackRateImpl(rate);\n      this._playbackRate = rate;\n      this.emit(\"ratechange\");\n    }\n  }\n  setPlaybackRate(value) {\n    this.playbackRate = value;\n  }\n  async play() {\n    if (!this.isReady) {\n      this.status = SyncPlayerStatus.Buffering;\n      await this.loadInit;\n    }\n    if (this._status !== SyncPlayerStatus.Playing) {\n      try {\n        await this.playImpl();\n      } catch (e) {\n        if (this._status !== SyncPlayerStatus.Ready && this._status !== SyncPlayerStatus.Pause) {\n          throw e;\n        }\n      }\n    }\n  }\n  async pause() {\n    if (!this.isReady) {\n      await this.loadInit;\n    }\n    if (this._status !== SyncPlayerStatus.Pause && this._status !== SyncPlayerStatus.Ended) {\n      this.status = SyncPlayerStatus.Pause;\n      await this.pauseImpl();\n    }\n  }\n  async stop() {\n    if (!this.isReady) {\n      await this.loadInit;\n    }\n    if (this._status !== SyncPlayerStatus.Ended) {\n      this.status = SyncPlayerStatus.Ended;\n      this.ignoreSetStatus = true;\n      await this.readyImpl(true);\n      await this.stopImpl();\n      this.ignoreSetStatus = false;\n    }\n  }\n  async seek(ms) {\n    if (!this.isReady) {\n      await this.loadInit;\n    }\n    ms = Math.floor(ms);\n    if (ms === this._currentTime) {\n      return;\n    }\n    if (ms >= this.duration) {\n      await this.stop();\n      return;\n    }\n    const lastStatus = this._status;\n    await this.seekImpl(ms);\n    switch (lastStatus) {\n      case SyncPlayerStatus.Ready:\n      case SyncPlayerStatus.Ended: {\n        await this.ready();\n        break;\n      }\n      case SyncPlayerStatus.Pause: {\n        await this.pause();\n        break;\n      }\n      case SyncPlayerStatus.Buffering:\n      case SyncPlayerStatus.Playing: {\n        await this.play();\n        break;\n      }\n    }\n  }\n  async ready(silently) {\n    if (this._status !== SyncPlayerStatus.Ready) {\n      if (silently !== void 0) {\n        this.ignoreSetStatus = silently;\n      }\n      this.status = SyncPlayerStatus.Ready;\n      await this.readyImpl(silently);\n      if (silently !== void 0) {\n        this.ignoreSetStatus = false;\n      }\n    }\n  }\n  destroy() {\n    this._sideEffect.flushAll();\n  }\n  initImpl() {\n    return Promise.resolve();\n  }\n  async init() {\n    switch (this._initStatus) {\n      case AtomPlayerInitStatus.Ready: {\n        return;\n      }\n      case AtomPlayerInitStatus.Initializing: {\n        return new Promise((resolve) => this.once(\"ready\", resolve));\n      }\n      default: {\n        this.ignoreSetStatus = true;\n        this._initStatus = AtomPlayerInitStatus.Initializing;\n        await new Promise((r) => setTimeout(r));\n        await this.initImpl();\n        this._initStatus = AtomPlayerInitStatus.Ready;\n        this.emit(\"ready\");\n        this.ignoreSetStatus = false;\n      }\n    }\n  }\n}\nvar AtomPlayerInitStatus = /* @__PURE__ */ ((AtomPlayerInitStatus2) => {\n  AtomPlayerInitStatus2[AtomPlayerInitStatus2[\"Idle\"] = 0] = \"Idle\";\n  AtomPlayerInitStatus2[AtomPlayerInitStatus2[\"Initializing\"] = 1] = \"Initializing\";\n  AtomPlayerInitStatus2[AtomPlayerInitStatus2[\"Ready\"] = 2] = \"Ready\";\n  return AtomPlayerInitStatus2;\n})(AtomPlayerInitStatus || {});\nclass ClusterPlayer extends AtomPlayer {\n  constructor(config) {\n    super({\n      name: config.name || `{${config.rowPlayer.name || \"unknown\"}-${config.colPlayer.name || \"unknown\"}}`\n    });\n    this.rowPlayer = config.rowPlayer;\n    this.colPlayer = config.colPlayer;\n    this.longerPlayer = this.rowPlayer.duration >= this.colPlayer.duration ? this.rowPlayer : this.colPlayer;\n    this.duration = this.longerPlayer.duration;\n    this.playbackRate = this.longerPlayer.playbackRate;\n    const addAtomListener = (event, listener) => {\n      this._sideEffect.add(() => {\n        const handler = () => {\n          listener(this.rowPlayer, this.colPlayer);\n        };\n        this.rowPlayer.on(event, handler);\n        return () => {\n          this.rowPlayer.off(event, handler);\n        };\n      });\n      this._sideEffect.add(() => {\n        const handler = () => {\n          listener(this.colPlayer, this.rowPlayer);\n        };\n        this.colPlayer.on(event, handler);\n        return () => {\n          this.colPlayer.off(event, handler);\n        };\n      });\n    };\n    addAtomListener(\"status\", (emitter, receptor) => {\n      var _a;\n      if (!this.ignoreSetStatus) {\n        this.syncSubPlayer(emitter, receptor);\n        this.updateStatus(emitter, receptor);\n        if (this.rowPlayer.status === SyncPlayerStatus.Playing && this.colPlayer.status === SyncPlayerStatus.Playing) {\n          this.startFrameDropCheck();\n        } else {\n          (_a = this.stopFrameDropCheck) == null ? void 0 : _a.call(this);\n        }\n      }\n    });\n    addAtomListener(\"timeupdate\", (emitter) => {\n      if (this.longerPlayer === emitter && emitter.status !== SyncPlayerStatus.Ended) {\n        this.currentTime = emitter.currentTime;\n      }\n    });\n    addAtomListener(\"durationchange\", (emitter, receptor) => {\n      if (emitter.duration >= this.longerPlayer.duration) {\n        if (emitter !== this.longerPlayer) {\n          this.longerPlayer = emitter;\n        }\n      } else {\n        this.longerPlayer = receptor;\n      }\n      this.duration = this.longerPlayer.duration;\n    });\n    addAtomListener(\"ratechange\", (emitter) => {\n      if (!isPlaybackRateEqual(emitter.playbackRate, this.playbackRate)) {\n        this.playbackRate = emitter.playbackRate;\n      }\n    });\n  }\n  destroy() {\n    var _a;\n    super.destroy();\n    (_a = this.stopFrameDropCheck) == null ? void 0 : _a.call(this);\n    this.rowPlayer.destroy();\n    this.colPlayer.destroy();\n  }\n  get isReady() {\n    return this.rowPlayer.isReady && this.colPlayer.isReady;\n  }\n  async ready(silently) {\n    await this.readyImpl(silently);\n  }\n  async play() {\n    if (this.status !== SyncPlayerStatus.Ended) {\n      await this.playImpl();\n    }\n  }\n  async pause() {\n    await this.pauseImpl();\n  }\n  async stop() {\n    await this.stopImpl();\n  }\n  async seek(ms) {\n    await this.seekImpl(ms);\n  }\n  async readyImpl(silently) {\n    await this.invokeSubPlayers((player) => player.ready(silently));\n  }\n  async playImpl() {\n    await this.invokeSubPlayers((player) => player.play());\n  }\n  async pauseImpl() {\n    await this.invokeSubPlayers((player) => player.pause());\n  }\n  async stopImpl() {\n    await this.invokeSubPlayers((player) => player.stop());\n  }\n  async seekImpl(ms) {\n    await Promise.all([this.rowPlayer.seek(ms), this.colPlayer.seek(ms)]);\n  }\n  setPlaybackRateImpl(value) {\n    this.rowPlayer.setPlaybackRate(value);\n    this.colPlayer.setPlaybackRate(value);\n  }\n  updateStatus(emitter, receptor) {\n    switch (emitter.status) {\n      case SyncPlayerStatus.Ready: {\n        switch (receptor.status) {\n          case SyncPlayerStatus.Ready:\n          case SyncPlayerStatus.Ended: {\n            this.status = SyncPlayerStatus.Ready;\n            break;\n          }\n        }\n        break;\n      }\n      case SyncPlayerStatus.Pause: {\n        if (receptor.status !== SyncPlayerStatus.Playing) {\n          this.status = SyncPlayerStatus.Pause;\n        }\n        break;\n      }\n      case SyncPlayerStatus.Buffering: {\n        if (receptor.status !== SyncPlayerStatus.Pause) {\n          this.status = SyncPlayerStatus.Buffering;\n        }\n        break;\n      }\n      case SyncPlayerStatus.Playing: {\n        switch (receptor.status) {\n          case SyncPlayerStatus.Playing:\n          case SyncPlayerStatus.Ended: {\n            this.status = SyncPlayerStatus.Playing;\n            break;\n          }\n        }\n        break;\n      }\n      case SyncPlayerStatus.Ended: {\n        this.status = receptor.status;\n        break;\n      }\n    }\n  }\n  async syncSubPlayer(emitter, receptor) {\n    switch (emitter.status) {\n      case SyncPlayerStatus.Pause: {\n        if (receptor.isPlaying) {\n          await receptor.pause();\n        }\n        break;\n      }\n      case SyncPlayerStatus.Buffering: {\n        if (receptor.status === SyncPlayerStatus.Playing) {\n          await receptor.ready();\n        }\n        break;\n      }\n      case SyncPlayerStatus.Playing: {\n        if (receptor.status === SyncPlayerStatus.Buffering) {\n          await emitter.ready();\n        } else if (receptor.status === SyncPlayerStatus.Ready && (receptor.duration <= 0 || emitter.currentTime < receptor.duration)) {\n          await receptor.play();\n        }\n        break;\n      }\n    }\n  }\n  startFrameDropCheck() {\n    if (this.stopFrameDropCheck) {\n      return;\n    }\n    let frameDropCount = 0;\n    const ticket = setInterval(async () => {\n      if (this.status !== SyncPlayerStatus.Playing) {\n        frameDropCount = 0;\n      } else {\n        const diff = this.rowPlayer.currentTime - this.colPlayer.currentTime;\n        frameDropCount = Math.abs(diff) > 1e3 ? frameDropCount + 1 : 0;\n        if (frameDropCount >= 2) {\n          if (diff < 0) {\n            await this.rowPlayer.seek(this.colPlayer.currentTime);\n          } else {\n            await this.colPlayer.seek(this.rowPlayer.currentTime);\n          }\n          frameDropCount = 0;\n        }\n      }\n    }, 2e3);\n    this.stopFrameDropCheck = () => {\n      this.stopFrameDropCheck = void 0;\n      clearInterval(ticket);\n    };\n  }\n  async invokeSubPlayers(action) {\n    await Promise.all(\n      [this.rowPlayer, this.colPlayer].filter((player) => player.status !== SyncPlayerStatus.Ended).map(action)\n    );\n  }\n}\nfunction addEventListener(target, type, listener, options) {\n  target.addEventListener(type, listener, options);\n  return () => target.removeEventListener(type, listener, options);\n}\nconst listen = addEventListener;\nclass NativeVideoPlayer extends AtomPlayer {\n  constructor(config) {\n    super(config);\n    this.video = config.video;\n    this.video.controls = false;\n    const addVideoListener = (type, listener) => {\n      this._sideEffect.push(listen(this.video, type, listener));\n    };\n    [\n      \"waiting\",\n      \"canplay\",\n      \"pause\",\n      \"suspend\",\n      \"playing\",\n      \"play\",\n      \"seeking\",\n      \"seeked\",\n      \"stalled\",\n      \"canplaythrough\"\n    ].forEach((eventName) => {\n      addVideoListener(eventName, (e) => {\n        if (this.status === SyncPlayerStatus.Ended) {\n          return;\n        }\n        const eventType = e.type;\n        if (this.video.paused || eventType === \"seeking\") {\n          if (this.status !== SyncPlayerStatus.Pause && this.status !== SyncPlayerStatus.Ready) {\n            if (eventType === \"pause\") {\n              this.status = SyncPlayerStatus.Ready;\n            } else {\n              this.status = SyncPlayerStatus.Buffering;\n            }\n          }\n        } else {\n          this.status = SyncPlayerStatus.Playing;\n        }\n      });\n    });\n    addVideoListener(\"error\", () => {\n      if (this.status === SyncPlayerStatus.Playing && this.video.paused) {\n        this.status = SyncPlayerStatus.Buffering;\n      }\n    });\n    addVideoListener(\"ended\", () => {\n      this.status = SyncPlayerStatus.Ended;\n    });\n    const setCurrentTime = () => {\n      this.currentTime = this.video.currentTime * 1e3;\n    };\n    setCurrentTime();\n    addVideoListener(\"timeupdate\", setCurrentTime);\n    const setDuration = () => {\n      this.duration = this.video.duration * 1e3;\n    };\n    setDuration();\n    addVideoListener(\"durationchange\", setDuration);\n  }\n  async readyImpl() {\n    this.video.pause();\n  }\n  async playImpl() {\n    try {\n      await this.video.play();\n    } catch {\n    }\n  }\n  async pauseImpl() {\n    this.video.pause();\n  }\n  async stopImpl() {\n    this.video.currentTime = this.duration / 1e3 - 0.5;\n  }\n  async seekImpl(ms) {\n    this.video.currentTime = ms / 1e3;\n  }\n  setPlaybackRateImpl(value) {\n    this.video.playbackRate = value;\n  }\n}\nclass ChromeAtomPlayer extends AtomPlayer {\n  constructor(config) {\n    super(config);\n    this.video = config.video;\n    this.video.controls(false);\n    const addVideoListener = (type, listener) => {\n      this.video.on(type, listener);\n      this._sideEffect.addDisposer(() => this.video.off(type, listener));\n    };\n    addVideoListener(\n      [\n        \"waiting\",\n        \"canplay\",\n        \"pause\",\n        \"suspend\",\n        \"playing\",\n        \"play\",\n        \"seeking\",\n        \"seeked\",\n        \"stalled\",\n        \"canplaythrough\"\n      ],\n      (e) => {\n        if (this.status === SyncPlayerStatus.Ended) {\n          return;\n        }\n        const eventType = e == null ? void 0 : e.type;\n        if (this.video.paused() || eventType === \"seeking\") {\n          if (this.status !== SyncPlayerStatus.Pause && this.status !== SyncPlayerStatus.Ready) {\n            if (eventType === \"pause\") {\n              this.status = SyncPlayerStatus.Ready;\n            } else {\n              this.status = SyncPlayerStatus.Buffering;\n            }\n          }\n        } else {\n          this.status = SyncPlayerStatus.Playing;\n        }\n      }\n    );\n    addVideoListener(\"error\", () => {\n      if (this.status === SyncPlayerStatus.Playing && this.video.paused()) {\n        this.status = SyncPlayerStatus.Buffering;\n      }\n    });\n    addVideoListener(\"ended\", () => {\n      this.status = SyncPlayerStatus.Ended;\n    });\n    const setCurrentTime = () => {\n      this.currentTime = (this.video.currentTime() || 0) * 1e3;\n    };\n    setCurrentTime();\n    addVideoListener(\"timeupdate\", setCurrentTime);\n    const setDuration = () => {\n      this.duration = (this.video.duration() || 0) * 1e3;\n    };\n    setDuration();\n    addVideoListener(\"durationchange\", setDuration);\n  }\n  async readyImpl() {\n    try {\n      this.video.pause();\n    } catch {\n    }\n  }\n  async playImpl() {\n    try {\n      await this.video.play();\n    } catch {\n    }\n  }\n  async pauseImpl() {\n    try {\n      this.video.pause();\n    } catch {\n    }\n  }\n  async stopImpl() {\n    try {\n      this.video.currentTime(this.duration / 1e3 - 0.5);\n    } catch {\n    }\n  }\n  async seekImpl(ms) {\n    try {\n      this.video.currentTime(ms / 1e3);\n    } catch {\n    }\n  }\n  setPlaybackRateImpl(value) {\n    try {\n      this.video.playbackRate(value);\n    } catch {\n    }\n  }\n}\nclass SafariAtomPlayer extends AtomPlayer {\n  constructor(config) {\n    super(config);\n    this.checkCurrentTime = () => {\n      if (Number.isNaN(this.checkTimeInterval)) {\n        this.checkTimeInterval = window.setInterval(() => {\n          if (this.lastCurrentTime === this.currentTime) {\n            if (this.status === SyncPlayerStatus.Playing) {\n              this.status = SyncPlayerStatus.Buffering;\n            }\n          } else {\n            this.lastCurrentTime = this.currentTime;\n          }\n        }, 500);\n      }\n    };\n    this.cleanCheckCurrentTime = () => {\n      if (!Number.isNaN(this.checkTimeInterval)) {\n        window.clearTimeout(this.checkTimeInterval);\n        this.checkTimeInterval = NaN;\n      }\n    };\n    this.checkTimeInterval = NaN;\n    this.video = config.video;\n    this.video.controls(false);\n    const addVideoListener = (type, listener) => {\n      this.video.on(type, listener);\n      this._sideEffect.addDisposer(() => this.video.off(type, listener));\n    };\n    addVideoListener(\n      [\n        \"waiting\",\n        \"canplay\",\n        \"pause\",\n        \"suspend\",\n        \"playing\",\n        \"play\",\n        \"seeking\",\n        \"seeked\",\n        \"stalled\",\n        \"canplaythrough\"\n      ],\n      (e) => {\n        if (this.status === SyncPlayerStatus.Ended) {\n          return;\n        }\n        const eventType = e == null ? void 0 : e.type;\n        if (this.video.paused() || eventType === \"seeking\") {\n          if (this.status !== SyncPlayerStatus.Pause && this.status !== SyncPlayerStatus.Ready) {\n            if (eventType === \"pause\") {\n              this.status = SyncPlayerStatus.Ready;\n            } else {\n              this.status = SyncPlayerStatus.Buffering;\n            }\n          }\n        } else {\n          this.checkCurrentTime();\n          this.status = SyncPlayerStatus.Playing;\n        }\n      }\n    );\n    addVideoListener(\"error\", () => {\n      if (this.status === SyncPlayerStatus.Playing && this.video.paused()) {\n        this.status = SyncPlayerStatus.Buffering;\n      }\n    });\n    addVideoListener(\"ended\", () => {\n      this.status = SyncPlayerStatus.Ended;\n    });\n    const setCurrentTime = () => {\n      this.currentTime = (this.video.currentTime() || 0) * 1e3;\n    };\n    setCurrentTime();\n    addVideoListener(\"timeupdate\", setCurrentTime);\n    const setDuration = () => {\n      this.duration = (this.video.duration() || 0) * 1e3;\n    };\n    setDuration();\n    addVideoListener(\"durationchange\", setDuration);\n    this.lastCurrentTime = this.currentTime;\n    this._sideEffect.add(() => {\n      const handler = () => {\n        if (this.status === SyncPlayerStatus.Playing) {\n          this.checkCurrentTime();\n        } else {\n          this.cleanCheckCurrentTime();\n        }\n      };\n      this.on(\"status\", handler);\n      return () => {\n        this.cleanCheckCurrentTime();\n        this.off(\"status\", handler);\n      };\n    });\n  }\n  async readyImpl() {\n    this.video.pause();\n  }\n  async playImpl() {\n    await this.video.play();\n  }\n  async pauseImpl() {\n    this.video.pause();\n  }\n  async stopImpl() {\n    this.video.currentTime(this.duration / 1e3 - 0.5);\n  }\n  async seekImpl(ms) {\n    this.video.currentTime(ms / 1e3);\n  }\n  setPlaybackRateImpl(value) {\n    this.video.playbackRate(value);\n  }\n}\nconst VideoPlayer = function VideoPlayer2(config) {\n  return /apple/i.test(navigator.vendor) ? new SafariAtomPlayer(config) : new ChromeAtomPlayer(config);\n};\nclass WhiteboardPlayer extends AtomPlayer {\n  constructor(config) {\n    super(config);\n    this.player = config.player;\n    this._sideEffect.add(() => {\n      const handler = (phase) => {\n        if (this.status === SyncPlayerStatus.Ended) {\n          return;\n        }\n        switch (phase) {\n          case PlayerPhase.Ended:\n          case PlayerPhase.Stopped: {\n            this.status = SyncPlayerStatus.Ended;\n            break;\n          }\n          case PlayerPhase.Playing: {\n            this.status = SyncPlayerStatus.Playing;\n            break;\n          }\n          default: {\n            if (this.status !== SyncPlayerStatus.Pause && this.status !== SyncPlayerStatus.Ready) {\n              this.status = SyncPlayerStatus.Buffering;\n            }\n            break;\n          }\n        }\n      };\n      this.player.callbacks.on(\"onPhaseChanged\", handler);\n      return () => this.player.callbacks.off(\"onPhaseChanged\", handler);\n    });\n    this.duration = this.player.timeDuration || 0;\n    this.playbackRate = this.player.playbackSpeed;\n    this._sideEffect.add(() => {\n      const handler = () => {\n        this.duration = this.player.timeDuration || 0;\n        this.playbackRate = this.player.playbackSpeed;\n      };\n      this.player.callbacks.on(\"onLoadFirstFrame\", handler);\n      return () => this.player.callbacks.off(\"onLoadFirstFrame\", handler);\n    });\n    this._sideEffect.add(() => {\n      const handler = (currentTime) => {\n        this.currentTime = currentTime;\n      };\n      this.player.callbacks.on(\"onProgressTimeChanged\", handler);\n      return () => this.player.callbacks.off(\"onProgressTimeChanged\", handler);\n    });\n  }\n  async initImpl() {\n    const p = new Promise((resolve) => {\n      const { player } = this;\n      const disposerID = this._sideEffect.add(() => {\n        const handler = (phase) => {\n          if (phase === PlayerPhase.Playing) {\n            try {\n              player.pause();\n            } catch {\n            }\n          }\n          if (phase === PlayerPhase.Pause) {\n            this._sideEffect.flush(disposerID);\n            return resolve();\n          }\n        };\n        player.callbacks.on(\"onPhaseChanged\", handler);\n        return () => player.callbacks.off(\"onPhaseChanged\", handler);\n      });\n    });\n    this._safeSeek(0);\n    await p;\n  }\n  async readyImpl() {\n    this._safePause();\n  }\n  async playImpl() {\n    const p = new Promise((resolve) => {\n      const { player } = this;\n      const disposerID = this._sideEffect.add(() => {\n        const handler = (phase) => {\n          if (phase === PlayerPhase.Playing) {\n            this._sideEffect.flush(disposerID);\n            resolve();\n          }\n        };\n        player.callbacks.on(\"onPhaseChanged\", handler);\n        return () => player.callbacks.off(\"onPhaseChanged\", handler);\n      });\n    });\n    this._safePlay();\n    await p;\n  }\n  async pauseImpl() {\n    this._safePause();\n  }\n  async stopImpl() {\n    this._safeSeek(this.duration);\n  }\n  async seekImpl(ms) {\n    this._safeSeek(ms);\n  }\n  setPlaybackRateImpl(value) {\n    try {\n      this.player.playbackSpeed = value;\n    } catch {\n    }\n  }\n  _safeSeek(ms) {\n    try {\n      this.player.seekToProgressTime(ms);\n    } catch {\n    }\n  }\n  _safePause() {\n    try {\n      this.player.pause();\n    } catch {\n    }\n  }\n  _safePlay() {\n    try {\n      this.player.play();\n    } catch {\n    }\n  }\n}\nclass TickPlayer extends AtomPlayer {\n  constructor({ duration, ...config }) {\n    super(config);\n    this.duration = duration;\n    let playRafTicket = NaN;\n    this._startTimer = (startTime, playbackRate) => {\n      window.cancelAnimationFrame(playRafTicket);\n      const startTimestamp = Date.now();\n      const playRaf = () => {\n        this.currentTime = (Date.now() - startTimestamp) * playbackRate + startTime;\n        if (this.currentTime >= this.duration) {\n          this.stop();\n        } else {\n          playRafTicket = window.requestAnimationFrame(playRaf);\n        }\n      };\n      playRaf();\n    };\n    this._stopTimer = () => {\n      window.cancelAnimationFrame(playRafTicket);\n      playRafTicket = NaN;\n    };\n    this._resetTimer = (startTime, playbackRate) => {\n      if (playRafTicket) {\n        this._startTimer(startTime, playbackRate);\n      } else {\n        this.currentTime = startTime;\n      }\n    };\n    this._sideEffect.addDisposer(this._stopTimer);\n  }\n  async readyImpl() {\n    this._stopTimer();\n  }\n  async playImpl() {\n    this._startTimer(this.currentTime, this.playbackRate);\n    this.status = SyncPlayerStatus.Playing;\n  }\n  async pauseImpl() {\n    this._stopTimer();\n  }\n  async stopImpl() {\n    this._stopTimer();\n    this.currentTime = this.duration;\n  }\n  async seekImpl(ms) {\n    this._resetTimer(ms, this.playbackRate);\n  }\n  setPlaybackRateImpl(playbackRate) {\n    this._resetTimer(this.currentTime, playbackRate);\n  }\n}\nclass OffsetPlayer extends AtomPlayer {\n  constructor({ offset, player, ...config }) {\n    super({ ...config, name: config.name || `Offset<${player.name}>` });\n    this.player = player;\n    this._offset = offset || 0;\n    this.timer = new TickPlayer({\n      name: `Tick<${this.name}>`,\n      duration: this._offset\n    });\n    this.playbackRate = this.player.playbackRate;\n    this._currentPlayer = this._offset > 0 ? this.timer : this.player;\n    this.status = this.currentPlayer.status;\n    this.duration = this.timer.duration + this.player.duration;\n    if (this.currentPlayer === this.timer) {\n      this.currentTime = this.timer.currentTime;\n      this._visible = false;\n    } else {\n      this.currentTime = this.player.currentTime + this.offset;\n    }\n    this.playbackRate = this.currentPlayer.playbackRate;\n    const syncAtomProps = (player2, event, listener) => {\n      player2.on(event, listener);\n      this._sideEffect.addDisposer(() => {\n        player2.off(event, listener);\n      });\n    };\n    syncAtomProps(this.player, \"status\", () => {\n      if (this.currentPlayer !== this.player) {\n        return;\n      }\n      if (this.status === SyncPlayerStatus.Ended) {\n        return;\n      }\n      switch (this.player.status) {\n        case SyncPlayerStatus.Playing: {\n          this.status = SyncPlayerStatus.Playing;\n          break;\n        }\n        case SyncPlayerStatus.Buffering: {\n          this.status = SyncPlayerStatus.Buffering;\n          break;\n        }\n        case SyncPlayerStatus.Ready: {\n          this.status = SyncPlayerStatus.Ready;\n          break;\n        }\n      }\n    });\n    syncAtomProps(this.player, \"timeupdate\", () => {\n      if (this.currentPlayer === this.player) {\n        this.currentTime = this.player.currentTime + this.offset;\n      }\n    });\n    syncAtomProps(this.player, \"durationchange\", () => {\n      this.duration = this.timer.duration + this.player.duration;\n    });\n    syncAtomProps(this.player, \"ratechange\", () => {\n      if (this.currentPlayer === this.player) {\n        this.playbackRate = this.player.playbackRate;\n      }\n    });\n    syncAtomProps(this.timer, \"status\", async () => {\n      if (this.currentPlayer !== this.timer) {\n        return;\n      }\n      if (this.timer.status === SyncPlayerStatus.Ended) {\n        this.currentPlayer = this.player;\n        if (this.status === SyncPlayerStatus.Playing) {\n          await this.player.seek(0);\n          await this.player.play();\n          return;\n        }\n      }\n      if (this.status === SyncPlayerStatus.Ended) {\n        return;\n      }\n      switch (this.timer.status) {\n        case SyncPlayerStatus.Playing: {\n          this.status = SyncPlayerStatus.Playing;\n          break;\n        }\n        case SyncPlayerStatus.Ready: {\n          this.status = SyncPlayerStatus.Ready;\n          break;\n        }\n      }\n    });\n    syncAtomProps(this.timer, \"timeupdate\", () => {\n      if (this.currentPlayer === this.timer) {\n        this.currentTime = this.timer.currentTime;\n      }\n    });\n    syncAtomProps(this.timer, \"durationchange\", () => {\n      this.duration = this.timer.duration + this.player.duration;\n    });\n    syncAtomProps(this.timer, \"ratechange\", () => {\n      if (this.currentPlayer === this.timer) {\n        this.playbackRate = this.timer.playbackRate;\n      }\n    });\n  }\n  get currentPlayer() {\n    return this._currentPlayer;\n  }\n  set currentPlayer(player) {\n    if (this._currentPlayer !== player) {\n      this._currentPlayer = player;\n      this.visible = player !== this.timer;\n    }\n  }\n  async readyImpl(silently) {\n    await Promise.all([\n      this.player.ready(silently),\n      this.timer.ready(silently)\n    ]);\n  }\n  playImpl() {\n    return this.currentPlayer.play();\n  }\n  async pauseImpl() {\n    await this.timer.pause();\n    await this.player.pause();\n  }\n  async stopImpl() {\n    await this.timer.stop();\n    await this.player.stop();\n  }\n  async seekImpl(ms) {\n    if (ms <= this.offset) {\n      this.currentPlayer = this.timer;\n      if (this.player.status === SyncPlayerStatus.Playing) {\n        await this.player.ready(true);\n      }\n      if (this.player.currentTime !== 0) {\n        await this.player.seek(0);\n      }\n      await this.timer.seek(ms);\n    } else {\n      this.currentPlayer = this.player;\n      if (this.timer.currentTime !== 0) {\n        await this.timer.stop();\n      }\n      await this.player.seek(ms - this.offset);\n    }\n  }\n  setPlaybackRateImpl(value) {\n    this.player.setPlaybackRate(value);\n    this.timer.setPlaybackRate(value);\n  }\n}\nclass SelectionPlayer extends AtomPlayer {\n  constructor({\n    player,\n    selectionList,\n    ...config\n  }) {\n    super({ ...config, name: config.name || `Selection<${player.name}>` });\n    this.player = player;\n    const selectionItems = sanitizeSelectionList(selectionList);\n    this.selectionItems = this.sliceSelectionItems(selectionItems);\n    this.status = this.player.status;\n    this.playbackRate = this.player.playbackRate;\n    this.duration = this.calcDuration();\n    this.currentTime = this.syncCurrentTime();\n    const syncAtomProps = (player2, event, listener) => {\n      player2.on(event, listener);\n      this._sideEffect.addDisposer(() => {\n        player2.off(event, listener);\n      });\n    };\n    syncAtomProps(this.player, \"status\", () => {\n      this.status = this.player.status;\n    });\n    syncAtomProps(this.player, \"ratechange\", () => {\n      this.playbackRate = this.player.playbackRate;\n    });\n    syncAtomProps(this.player, \"timeupdate\", () => {\n      this.currentTime = this.syncCurrentTime();\n    });\n    syncAtomProps(this.player, \"durationchange\", () => {\n      this.selectionItems = this.sliceSelectionItems(selectionItems);\n      this.duration = this.calcDuration();\n      this.currentTime = this.syncCurrentTime();\n    });\n  }\n  readyImpl(silently) {\n    return this.player.ready(silently);\n  }\n  playImpl() {\n    return this.player.play();\n  }\n  pauseImpl() {\n    return this.player.pause();\n  }\n  async stopImpl() {\n    await this.player.stop();\n    const lastItem = this.selectionItems[this.selectionItems.length - 1];\n    if (lastItem) {\n      await this.player.seek(lastItem.start + lastItem.duration);\n    }\n  }\n  setPlaybackRateImpl(value) {\n    return this.player.setPlaybackRate(value);\n  }\n  async seekImpl(ms) {\n    if (this.selectionItems.length <= 0) {\n      return this.player.seek(ms);\n    }\n    if (ms <= 0) {\n      return this.player.seek(0);\n    }\n    if (ms >= this.duration) {\n      return this.player.seek(this.player.duration);\n    }\n    for (let i = this.selectionItems.length - 1; i >= 0; i--) {\n      const item = this.selectionItems[i];\n      if (ms >= item.rStart) {\n        return this.player.seek(ms - item.rStart + item.start);\n      }\n    }\n  }\n  syncCurrentTime() {\n    const currentTime = this.player.currentTime;\n    if (this.selectionItems.length <= 0) {\n      return currentTime;\n    }\n    for (let i = 0; i < this.selectionItems.length; i++) {\n      const item = this.selectionItems[i];\n      if (currentTime <= item.start + item.duration) {\n        if (currentTime < item.start) {\n          this.player.seek(item.start);\n          return item.rStart;\n        }\n        return currentTime - item.start + item.rStart;\n      }\n    }\n    this.stop();\n    return this.duration;\n  }\n  calcDuration() {\n    if (this.player.duration <= 0) {\n      return 0;\n    }\n    const lastItem = this.selectionItems[this.selectionItems.length - 1];\n    return lastItem ? lastItem.rStart + lastItem.duration : this.player.duration;\n  }\n  sliceSelectionItems(selectionItems) {\n    if (this.player.duration <= 0) {\n      return [];\n    }\n    const result = [];\n    for (let i = 0; i < selectionItems.length; i++) {\n      const item = selectionItems[i];\n      if (item.rStart + item.duration <= this.player.duration) {\n        result.push(item);\n      } else {\n        result.push({ ...item, duration: this.player.duration - item.rStart });\n        break;\n      }\n    }\n    return result;\n  }\n}\nfunction sanitizeSelectionList(selectionList) {\n  selectionList = selectionList.sort((a, b) => a.start - b.start);\n  const result = [];\n  let lastItem = null;\n  for (let i = 0; i < selectionList.length; i++) {\n    const item = selectionList[i];\n    if (lastItem && item.start <= lastItem.start + lastItem.duration) {\n      lastItem.duration = Math.max(\n        lastItem.start + lastItem.duration,\n        item.start + item.duration\n      ) - lastItem.start;\n    } else {\n      lastItem = {\n        start: item.start,\n        duration: item.duration,\n        rStart: lastItem ? lastItem.rStart + lastItem.duration : 0\n      };\n      result.push(lastItem);\n    }\n  }\n  return result;\n}\nconst SyncPlayer = function SyncPlayer2(config) {\n  return config.players.reduce(\n    (combinedPlayer, player) => new ClusterPlayer({ rowPlayer: combinedPlayer, colPlayer: player })\n  );\n};\nexport {\n  AtomPlayer,\n  NativeVideoPlayer,\n  OffsetPlayer,\n  SelectionPlayer,\n  SyncPlayer,\n  SyncPlayerStatus,\n  VideoPlayer,\n  WhiteboardPlayer\n};\n//# sourceMappingURL=sync-player.mjs.map\n","import { usersInfo } from \"@netless/flat-server-api\";\nimport { toJS } from \"mobx\";\nimport Hls from \"hls.js\";\n\nimport { RoomRecording, roomStore } from \"../room-store\";\n\nexport interface UserRecordingInfo {\n    name: string;\n    rtcUID: number;\n    avatarURL: string;\n    videoURL: string;\n}\n\n// use RoomRecording instead\n/** @deprecated because we do not use individual recording mode, use RoomRecording instead */\nexport interface Recording extends RoomRecording {\n    users?: Record<string, UserRecordingInfo>;\n}\n\nexport async function existsUrl(url: string): Promise<boolean> {\n    try {\n        const r = await fetch(url, { method: \"HEAD\" });\n        return r.ok;\n    } catch {\n        return false;\n    }\n}\n\n/** @deprecated because we do not use individual recording mode */\nexport async function getRecordings(roomUUID: string): Promise<Recording[]> {\n    await roomStore.syncRecordInfo(roomUUID);\n    const room = roomStore.rooms.get(roomUUID)!;\n    const data = await usersInfo({ roomUUID });\n    const recordings = toJS(room?.recordings) || [];\n\n    const result = [];\n    for (const r of recordings) {\n        // 0. Old recording data\n        if (!r.videoURL || (await existsUrl(r.videoURL))) {\n            result.push(r);\n            continue;\n        }\n        // 1. Remove the url when it does not exist.\n        const baseURL = r.videoURL;\n        r.videoURL = \"\";\n        // 2. Find all url of each user.\n        let existUsers = 0;\n        const users: Record<string, UserRecordingInfo> = {};\n        for (const userUUID in data) {\n            const { rtcUID } = data[userUUID];\n            const videoURL = baseURL.replace(/\\.m3u8$/i, `__uid_s_${rtcUID}__uid_e_av.m3u8`);\n            if (await existsUrl(videoURL)) {\n                existUsers++;\n                users[userUUID] = Object.assign({ videoURL }, data[userUUID]);\n            }\n        }\n        // 3. If we have users' videos, return them, otherwise as if no video.\n        if (existUsers) {\n            result.push(Object.assign({ users }, r));\n        } else {\n            result.push(r);\n        }\n    }\n\n    return result;\n}\n\nexport async function getRoomRecordings(roomUUID: string): Promise<RoomRecording[]> {\n    await roomStore.syncRecordInfo(roomUUID);\n    const room = roomStore.rooms.get(roomUUID)!;\n    return toJS(room?.recordings) || [];\n}\n\nconst M3U8_EXT = /\\.m3u8$/i;\n\nexport function makeVideoPlayer(url: string): HTMLVideoElement {\n    const $video = document.createElement(\"video\");\n    const $source = document.createElement(\"source\");\n    $source.src = url;\n    $video.appendChild($source);\n\n    if (M3U8_EXT.test(url)) {\n        if (Hls.isSupported()) {\n            const hls = new Hls();\n            hls.loadSource(url);\n            hls.attachMedia($video);\n        } else if ($video.canPlayType(\"application/vnd.apple.mpegurl\")) {\n            $video.src = url;\n        }\n    }\n\n    return $video;\n}\n","import { FastboardPlayer, replayFastboard, Storage } from \"@netless/fastboard\";\nimport { RoomType } from \"@netless/flat-server-api\";\nimport { AtomPlayer, NativeVideoPlayer, SyncPlayer, WhiteboardPlayer } from \"@netless/sync-player\";\nimport { action, makeAutoObservable, observable, runInAction } from \"mobx\";\nimport { SideEffectManager } from \"side-effect-manager\";\n\nimport { OnStageUsersStorageState } from \"../classroom-store\";\nimport { ClassroomReplayEventData } from \"../classroom-store/event\";\nimport { WHITEBOARD_RATIO } from \"../constants\";\nimport { globalStore } from \"../global-store\";\nimport { RoomItem, RoomRecording, roomStore } from \"../room-store\";\nimport { getRoomRecordings, makeVideoPlayer } from \"./utils\";\n\nexport interface ClassroomReplayStoreConfig {\n    roomUUID: string;\n    ownerUUID: string;\n    roomType: RoomType;\n}\n\nexport class ClassroomReplayStore {\n    public readonly sideEffect = new SideEffectManager();\n\n    public readonly roomUUID: string;\n    public readonly ownerUUID: string;\n    public readonly userUUID: string;\n    public readonly roomType: RoomType;\n\n    public readonly recordings = observable.array<RoomRecording>();\n\n    public currentRecording: RoomRecording | null = null;\n\n    public video: HTMLVideoElement | null = null;\n    public fastboard: FastboardPlayer<ClassroomReplayEventData> | null = null;\n    public syncPlayer: AtomPlayer | null = null;\n    public onStageUsersStorage: Storage<OnStageUsersStorageState> | null = null;\n    public onStageUsers = observable.array<string>([]);\n\n    public isPlaying = false;\n    public isBuffering = false;\n    public tempTimestamp = 0; // used for displaying instant timestamp before debounced seeking\n\n    public currentTime = 0; // mirror syncPlayer.currentTime\n    public duration = 0; // mirror syncPlayer.duration\n\n    public get currentTimestamp(): number {\n        return this.tempTimestamp || this.realTimestamp;\n    }\n\n    public get realTimestamp(): number {\n        return (this.currentRecording?.beginTime || 0) + this.currentTime;\n    }\n\n    private _isLoadingRecording: { current: boolean; next: RoomRecording | null } = {\n        current: false,\n        next: null,\n    };\n\n    public constructor(config: ClassroomReplayStoreConfig) {\n        if (!globalStore.userUUID) {\n            throw new Error(\"Missing userUUID\");\n        }\n\n        (window as any).classroomReplayStore = this;\n\n        this.roomUUID = config.roomUUID;\n        this.ownerUUID = config.ownerUUID;\n        this.userUUID = globalStore.userUUID;\n        this.roomType = config.roomType;\n\n        makeAutoObservable<this, \"_isLoadingRecording\">(this, {\n            sideEffect: false,\n            fastboard: observable.ref,\n            syncPlayer: observable.ref,\n            currentRecording: observable.ref,\n            _isLoadingRecording: false,\n        });\n    }\n\n    public get roomInfo(): RoomItem | undefined {\n        return roomStore.rooms.get(this.roomUUID);\n    }\n\n    public get isCreator(): boolean {\n        return this.ownerUUID === this.userUUID;\n    }\n\n    public async init(): Promise<void> {\n        this.updateRecordings(await getRoomRecordings(this.roomUUID));\n    }\n\n    public async destroy(): Promise<void> {\n        this.syncPlayer?.pause();\n        this.sideEffect.flushAll();\n        this.fastboard?.destroy();\n\n        (window as any).classroomReplayStore = undefined;\n    }\n\n    public updateRecordings(recordings: RoomRecording[]): void {\n        this.recordings.replace(recordings);\n    }\n\n    public async loadRecording(recording: RoomRecording): Promise<void> {\n        if (!process.env.NETLESS_APP_IDENTIFIER) {\n            throw new Error(\"Missing NETLESS_APP_IDENTIFIER\");\n        }\n\n        if (!globalStore.whiteboardRoomUUID || !globalStore.whiteboardRoomToken) {\n            throw new Error(\"Missing whiteboard UUID and Token\");\n        }\n\n        if (recording === this.currentRecording) {\n            return;\n        }\n\n        if (this._isLoadingRecording.current) {\n            this._isLoadingRecording.next = recording;\n            return;\n        }\n\n        this._isLoadingRecording = { current: true, next: null };\n        this.currentRecording = recording;\n        this.isPlaying = false;\n        this.currentTime = 0;\n        this.video = null;\n\n        if (this.fastboard) {\n            await this.fastboard.destroy();\n        }\n\n        const fastboard = await replayFastboard<ClassroomReplayEventData>({\n            sdkConfig: {\n                appIdentifier: process.env.NETLESS_APP_IDENTIFIER,\n                region: globalStore.region ?? \"cn-hz\",\n                pptParams: {\n                    useServerWrap: true,\n                },\n            },\n            replayRoom: {\n                room: globalStore.whiteboardRoomUUID,\n                roomToken: globalStore.whiteboardRoomToken,\n                beginTimestamp: recording.beginTime,\n                duration: recording.endTime - recording.beginTime,\n            },\n            managerConfig: {\n                cursor: true,\n                containerSizeRatio: WHITEBOARD_RATIO,\n                viewMode: \"scroll\",\n            },\n        });\n\n        const onStageUsersStorage = fastboard.syncedStore.connectStorage<OnStageUsersStorageState>(\n            \"onStageUsers\",\n            {},\n        );\n        this.sideEffect.push(\n            onStageUsersStorage.on(\"stateChanged\", () => {\n                this.updateOnStageUsers(onStageUsersStorage.state);\n            }),\n            \"onStageUsers\",\n        );\n\n        const next = this._isLoadingRecording.next;\n        if (next) {\n            this._isLoadingRecording = { current: false, next: null };\n            await fastboard.destroy();\n            return this.loadRecording(next);\n        }\n\n        this._isLoadingRecording = { current: false, next: null };\n\n        this.sideEffect.push(\n            fastboard.phase.subscribe(phase => {\n                runInAction(() => {\n                    this.isBuffering = phase === \"buffering\";\n                    if (phase === \"ended\") {\n                        this.pause();\n                    }\n                });\n            }),\n            \"isBuffering\",\n        );\n\n        this.updateFastboard(fastboard, onStageUsersStorage);\n\n        const players: AtomPlayer[] = [];\n\n        const whiteboardPlayer = new WhiteboardPlayer({\n            name: \"whiteboard\",\n            player: fastboard.player,\n        });\n        players.push(whiteboardPlayer);\n\n        if (recording.videoURL) {\n            const video = makeVideoPlayer(recording.videoURL);\n            const videoPlayer = new NativeVideoPlayer({ name: \"main\", video });\n            players.push(videoPlayer);\n            this.updateVideo(video);\n        } else {\n            this.updateVideo(null);\n        }\n\n        const syncPlayer = new SyncPlayer({ players });\n        this.sideEffect.add(() => {\n            const updateDuration = action(() => {\n                this.duration = syncPlayer.duration;\n            });\n            syncPlayer.on(\"durationchange\", updateDuration);\n            const updateCurrentTime = action(() => {\n                this.currentTime = syncPlayer.currentTime;\n            });\n            syncPlayer.on(\"timeupdate\", updateCurrentTime);\n            return () => {\n                syncPlayer.off(\"durationchange\", updateDuration);\n                syncPlayer.off(\"timeupdate\", updateCurrentTime);\n            };\n        }, \"syncCurrentTime\");\n\n        this.updateSyncPlayer(syncPlayer);\n    }\n\n    public updateVideo(video: HTMLVideoElement | null): void {\n        this.video = video;\n    }\n\n    public updateSyncPlayer(player: AtomPlayer | null): void {\n        this.syncPlayer?.pause();\n        this.syncPlayer = player;\n    }\n\n    public updateFastboard(\n        fastboard: FastboardPlayer,\n        onStageUsersStorage: Storage<OnStageUsersStorageState>,\n    ): void {\n        this.fastboard = fastboard;\n        this.onStageUsersStorage = onStageUsersStorage;\n    }\n\n    public updateOnStageUsers(state: Record<string, boolean>): void {\n        this.onStageUsers.replace(Object.keys(state).filter(userUUID => state[userUUID]));\n    }\n\n    public play(): void {\n        this.syncPlayer?.play();\n        this.isPlaying = true;\n    }\n\n    public pause(): void {\n        this.isPlaying = false;\n        this.syncPlayer?.pause();\n    }\n\n    public seek = (timestamp: number): void => {\n        this.tempTimestamp = timestamp;\n        this.sideEffect.setTimeout(this.seekNow, 100, \"seek\");\n    };\n\n    private seekNow = (): void => {\n        if (this.currentRecording && this.syncPlayer) {\n            this.syncPlayer.seek(this.tempTimestamp - this.currentRecording.beginTime);\n            this.tempTimestamp = 0;\n        }\n    };\n\n    public togglePlayPause = (): void => {\n        if (this.isPlaying) {\n            this.pause();\n        } else {\n            this.play();\n        }\n    };\n}\n","import React, { useContext, useEffect } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { useTranslate } from \"@netless/flat-i18n\";\nimport { Button, Modal } from \"antd\";\nimport { WindowsSystemBtnContext } from \"./StoreProvider\";\n\ninterface ExitReplayConfirmProps {\n    visible: boolean;\n    onCancel: () => void;\n    onConfirm: () => void;\n    onSendWindowWillClose: () => void;\n}\n\nexport const ExitReplayConfirm = observer<ExitReplayConfirmProps>(function ExitReplayConfirm({\n    visible,\n    onCancel,\n    onConfirm,\n    onSendWindowWillClose,\n}) {\n    const t = useTranslate();\n\n    const windowsBtn = useContext(WindowsSystemBtnContext);\n\n    useEffect(() => {\n        if (windowsBtn) {\n            windowsBtn.sendWindowWillCloseEvent(onSendWindowWillClose);\n            return () => {\n                windowsBtn.removeWindowWillCloseEvent();\n            };\n        }\n        return;\n    });\n    return (\n        <Modal\n            footer={[\n                <Button key=\"exit-cancel\" onClick={onCancel}>\n                    {t(\"cancel\")}\n                </Button>,\n                <Button key=\"exit-confirm\" onClick={onConfirm}>\n                    {t(\"confirm\")}\n                </Button>,\n            ]}\n            open={visible}\n            title={t(\"exit-replay\")}\n            onCancel={onCancel}\n        >\n            {t(\"exit-reply-tips\")}\n        </Modal>\n    );\n});\n\nexport default ExitReplayConfirm;\n","import { RoomType } from \"@netless/flat-server-api\";\nimport { ClassroomReplayStore } from \"@netless/flat-stores\";\nimport { errorTips, useSafePromise } from \"flat-components\";\nimport { useEffect, useState } from \"react\";\nimport { RouteNameType } from \"../route-config\";\nimport { usePushHistory } from \"./routes\";\n\nexport interface UseClassroomReplayStoreConfig {\n    roomUUID: string;\n    ownerUUID: string;\n    roomType: RoomType;\n}\n\nexport function useClassroomReplayStore(\n    config: UseClassroomReplayStoreConfig,\n): ClassroomReplayStore | undefined {\n    const sp = useSafePromise();\n    const pushHistory = usePushHistory();\n    const [classroomReplayStore, setClassroomReplayStore] = useState<ClassroomReplayStore>();\n\n    const title = classroomReplayStore?.roomInfo?.title;\n    useEffect(() => {\n        if (title) {\n            document.title = title;\n        }\n    }, [title]);\n\n    useEffect(() => {\n        const classroomReplayStore = new ClassroomReplayStore(config);\n        // TODO: add whiteboard service\n        // const flatServices = FlatServices.getInstance();\n\n        setClassroomReplayStore(classroomReplayStore);\n        sp(classroomReplayStore.init()).catch(e => {\n            errorTips(e);\n            pushHistory(RouteNameType.HomePage);\n        });\n\n        return () => {\n            classroomReplayStore?.destroy().catch(e => {\n                if (process.env.NODE_ENV !== \"production\") {\n                    console.error(e);\n                }\n            });\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return classroomReplayStore;\n}\n","import { Button, Dropdown, DropdownProps, Menu, Slider, Spin, Tag } from \"antd\";\nimport type { SliderTooltipProps } from \"antd/lib/slider\";\nimport format from \"date-fns/format\";\nimport { observer } from \"mobx-react-lite\";\nimport React, { useCallback, useEffect, useState } from \"react\";\n\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { FlatI18nTFunction, useTranslate } from \"@netless/flat-i18n\";\nimport { ClassroomReplayStore, RoomRecording } from \"@netless/flat-stores\";\nimport { SVGPause, SVGPlay, SVGRecordList, useSafePromise } from \"flat-components\";\n\nexport interface ReplayListProps {\n    classroomReplayStore: ClassroomReplayStore;\n}\n\nconst Trigger: DropdownProps[\"trigger\"] = [\"click\"];\n\nexport const ReplayList = observer<ReplayListProps>(function ReplayList({ classroomReplayStore }) {\n    const t = useTranslate();\n    const sp = useSafePromise();\n    const { currentRecording, recordings } = classroomReplayStore;\n    const [loadingRecording, setLoading] = useState(false);\n    const currentRecordingIndex = currentRecording ? recordings.indexOf(currentRecording) : -1;\n\n    const loadRecording = useCallback(\n        async (recording: RoomRecording): Promise<void> => {\n            setLoading(true);\n            await sp(classroomReplayStore.loadRecording(recording));\n            setLoading(false);\n        },\n        [classroomReplayStore, sp],\n    );\n\n    const loading = loadingRecording || classroomReplayStore.isBuffering;\n\n    useEffect(() => {\n        if (!currentRecording && recordings.length > 0) {\n            loadRecording(recordings[0]);\n        }\n    }, [currentRecording, loadRecording, recordings, recordings.length]);\n\n    const tooltipFormatter: SliderTooltipProps[\"formatter\"] = useCallback(\n        time => time && currentRecording && renderPlayerTime(time - currentRecording.beginTime),\n        [currentRecording],\n    );\n\n    return (\n        <div className=\"replay-playlist\">\n            {currentRecording && (\n                <Slider\n                    className=\"replay-progress\"\n                    max={currentRecording.endTime}\n                    min={currentRecording.beginTime}\n                    tooltip={{ formatter: tooltipFormatter }}\n                    value={classroomReplayStore.currentTimestamp}\n                    onChange={classroomReplayStore.seek}\n                />\n            )}\n            <Button\n                disabled={!currentRecording || loading}\n                onClick={classroomReplayStore.togglePlayPause}\n            >\n                {classroomReplayStore.isPlaying ? <SVGPause /> : <SVGPlay />}\n            </Button>\n            {currentRecording && (\n                <Tag color={loading ? \"yellow\" : \"blue\"}>\n                    <div className=\"replay-current-recording\">\n                        {loading && <Spin indicator={<LoadingOutlined spin />} />}\n                        {loading ? t(\"replay-page.loading\") : t(\"replay-page.playing\")}\n                        {\": \"}\n                        {renderTime(t, currentRecordingIndex, currentRecording)}\n                    </div>\n                </Tag>\n            )}\n            <div className=\"replay-splitter\"></div>\n            {classroomReplayStore.duration > 0 && (\n                <div className=\"replay-time\">\n                    {renderPlayerTime(classroomReplayStore.currentTime)}/\n                    {renderPlayerTime(classroomReplayStore.duration)}\n                </div>\n            )}\n            <span className=\"replay-playlist-dropdown-wrapper\">\n                <Dropdown\n                    className=\"replay-playlist-dropdown\"\n                    overlay={\n                        <Menu\n                            items={recordings.map((r, i) => ({\n                                key: i,\n                                label: renderTime(t, i, r),\n                            }))}\n                            onClick={({ key }) => loadRecording(recordings[+key])}\n                        />\n                    }\n                    placement=\"topRight\"\n                    trigger={Trigger}\n                >\n                    <Button className=\"replay-select-playlist\" disabled={loading}>\n                        <SVGRecordList />\n                    </Button>\n                </Dropdown>\n            </span>\n        </div>\n    );\n});\n\nfunction renderTime(\n    t: FlatI18nTFunction,\n    i: number,\n    record?: Record<\"beginTime\" | \"endTime\", number>,\n): string {\n    let string = t(\"record-nth\", { nth: i + 1 });\n    if (record) {\n        const { beginTime, endTime } = record;\n        string += \" (\" + format(beginTime, \"HH:mm:ss\") + \" ~ \" + format(endTime, \"HH:mm:ss\") + \")\";\n    }\n    return string;\n}\n\nfunction renderPlayerTime(ms: number): string {\n    const seconds = (ms / 1000) | 0;\n    const minutes = (seconds / 60) | 0;\n    const hours = (minutes / 60) | 0;\n    return `${pad2(hours)}:${pad2(minutes % 60)}:${pad2(seconds % 60)}`;\n}\n\nfunction pad2(i: number): string {\n    return i.toString().padStart(2, \"0\");\n}\n","import { ClassroomReplayStore } from \"@netless/flat-stores\";\nimport { observer } from \"mobx-react-lite\";\nimport React, { useEffect, useRef } from \"react\";\n\nexport interface ReplayVideoProps {\n    classroomReplayStore: ClassroomReplayStore;\n}\n\nexport const ReplayVideo = observer<ReplayVideoProps>(function ReplayVideo({\n    classroomReplayStore,\n}) {\n    const ref = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (ref.current) {\n            if (ref.current.firstChild) {\n                ref.current.removeChild(ref.current.firstChild);\n            }\n            if (classroomReplayStore.video) {\n                ref.current.appendChild(classroomReplayStore.video);\n            }\n        }\n    }, [classroomReplayStore.video]);\n\n    return <div ref={ref} className=\"replay-video\" />;\n});\n","import { ClassroomReplayStore } from \"@netless/flat-stores\";\nimport { DarkModeContext } from \"flat-components\";\nimport { observer } from \"mobx-react-lite\";\nimport React, { useContext, useEffect, useRef } from \"react\";\n\nexport interface ReplayWhiteboardProps {\n    classroomReplayStore: ClassroomReplayStore;\n}\n\nexport const ReplayWhiteboard = observer<ReplayWhiteboardProps>(function ReplayWhiteboard({\n    classroomReplayStore,\n}) {\n    const isDark = useContext(DarkModeContext);\n    const whiteboardRef = useRef<HTMLDivElement>(null);\n    const fastboard = classroomReplayStore?.fastboard;\n\n    useEffect(() => {\n        if (fastboard && whiteboardRef.current) {\n            fastboard.bindContainer(whiteboardRef.current);\n        }\n    }, [fastboard]);\n\n    useEffect(() => {\n        if (fastboard) {\n            fastboard.manager.setPrefersColorScheme(isDark ? \"dark\" : \"light\");\n        }\n    }, [fastboard, isDark]);\n\n    return <div ref={whiteboardRef} className=\"replay-whiteboard\" />;\n});\n","import \"./ReplayPage.less\";\n\nimport classNames from \"classnames\";\nimport { observer } from \"mobx-react-lite\";\nimport React, { useContext, useState } from \"react\";\nimport { RouteComponentProps, useHistory } from \"react-router-dom\";\n\nimport { RoomType } from \"@netless/flat-server-api\";\nimport { LoadingPage, TopBar } from \"flat-components\";\n\nimport ExitReplayConfirm from \"../components/ExitReplayConfirm\";\nimport { WindowsSystemBtnContext } from \"../components/StoreProvider\";\nimport { useClassroomReplayStore } from \"../utils/use-classroom-replay-store\";\nimport { useLoginCheck } from \"../utils/use-login-check\";\nimport { ReplayList } from \"./ReplayList\";\nimport { ReplayVideo } from \"./ReplayVideo\";\nimport { ReplayWhiteboard } from \"./ReplayWhiteboard\";\n\nexport type ReplayPageProps = RouteComponentProps<{\n    roomUUID: string;\n    ownerUUID: string;\n    roomType: RoomType;\n}>;\n\nexport const ReplayPage = observer<ReplayPageProps>(function ReplayPage({ match }) {\n    useLoginCheck();\n\n    const history = useHistory();\n    const classroomReplayStore = useClassroomReplayStore(match.params);\n    const [showExitReplayModal, setShowExitReplayModal] = useState(false);\n\n    const windowsBtn = useContext(WindowsSystemBtnContext);\n\n    if (!classroomReplayStore) {\n        return <LoadingPage />;\n    }\n\n    return (\n        <div className=\"replay-container\">\n            {windowsBtn && (\n                <TopBar\n                    showWindowsSystemBtn={windowsBtn.showWindowsBtn}\n                    onClickWindowsSystemBtn={windowsBtn.onClickWindowsSystemBtn}\n                    onDoubleClick={windowsBtn.clickWindowMaximize}\n                />\n            )}\n            <div className=\"replay-videos is-horizontal\">\n                <ReplayVideo classroomReplayStore={classroomReplayStore} />\n            </div>\n            <div className=\"replay-content\">\n                <ReplayWhiteboard classroomReplayStore={classroomReplayStore} />\n                <div className=\"replay-share-screen\">{/* TODO */}</div>\n                <div\n                    className={classNames(\"replay-bottom\", {\n                        \"is-playing\": classroomReplayStore.isPlaying,\n                    })}\n                >\n                    <ReplayList classroomReplayStore={classroomReplayStore} />\n                </div>\n            </div>\n            <ExitReplayConfirm\n                visible={showExitReplayModal}\n                onCancel={() => setShowExitReplayModal(false)}\n                onConfirm={() => history.goBack()}\n                onSendWindowWillClose={() => setShowExitReplayModal(true)}\n            />\n        </div>\n    );\n});\n\nexport default ReplayPage;\n"],"names":["SliderContext","React.createContext","getOffset","value","min","max","getDirectionStyle","direction","offset","positionStyle","getIndex","index","_excluded","Handle","React","props","ref","_classNames","_getIndex","prefixCls","valueIndex","onStartMove","style","render","dragging","onOffsetChange","restProps","_objectWithoutProperties","_React$useContext","disabled","range","tabIndex","ariaLabelForHandle","ariaLabelledByForHandle","ariaValueTextFormatterForHandle","handlePrefixCls","concat","onInternalStartMove","e","onKeyDown","which","keyCode","KeyCode","LEFT","RIGHT","UP","DOWN","HOME","END","PAGE_UP","PAGE_DOWN","preventDefault","handleNode","_jsx","classNames","_defineProperty","_objectSpread","Handles","values","handleRender","draggingIndex","handlesRef","focus","_handlesRef$current$i","current","_Fragment","map","node","getPosition","obj","useDrag","containerRef","rawValues","formatValue","triggerChange","finishChange","offsetValues","_React$useState","React.useState","_React$useState2","_slicedToArray","draggingValue","setDraggingValue","_React$useState3","_React$useState4","setDraggingIndex","_React$useState5","_React$useState6","cacheValues","setCacheValues","_React$useState7","_React$useState8","originValues","setOriginValues","mouseMoveEventRef","React.useRef","mouseUpEventRef","React.useEffect","flushValues","nextValues","nextValue","val","i","updateCacheValue","offsetPercent","startValue","endValue","maxStartOffset","maxEndOffset","formatStartValue","cloneCacheValues","offsetDist","cloneValues","_toConsumableArray","next","updateCacheValueRef","originValue","_getPosition","startX","startY","onMouseMove","event","_getPosition2","moveX","moveY","offsetX","offsetY","_containerRef$current","width","height","offSetPercent","onMouseUp","returnValues","React.useMemo","sourceValues","a","b","targetValues","Track","start","end","trackPrefixCls","offsetStart","offsetEnd","right","bottom","top","left","Tracks","startPoint","included","trackList","length","Math","list","push","_ref","Mark","children","_onClick","onClick","includedStart","includedEnd","textCls","stopPropagation","Marks","marks","markPrefixCls","label","Dot","activeStyle","dotClassName","active","mergedStyle","Steps","dots","step","stepDots","dotSet","Set","forEach","mark","add","Array","from","dotValue","useOffset","markList","allowCross","pushable","formatRangeValue","React.useCallback","formatNextValue","formatStepValue","stepValue","getDecimal","num","maxDecimal","fixedValue","alignValues","closeValue","closeDist","alignValue","dist","offsetValue","mode","targetDistValue","potentialValues","sign","compareValue","valueDist","potentialValue","offsetChangedValue","needPush","pushNum","changed","_offsetChangedValue","_i","_changed","_offsetChangedValue2","_i2","_changed2","_offsetChangedValue3","_i3","_changed3","_offsetChangedValue4","Slider","_props$prefixCls","className","_props$disabled","autoFocus","onFocus","onBlur","_props$min","_props$max","_props$step","defaultValue","count","onChange","onBeforeChange","onAfterChange","_props$allowCross","_props$pushable","draggableTrack","reverse","vertical","_props$included","trackStyle","handleStyle","railStyle","dotStyle","activeDotStyle","_props$tabIndex","mergedMin","isFinite","mergedMax","mergedStep","mergedPush","keys","Object","key","markObj","Number","_typeof","filter","sort","_useOffset","_useOffset2","_useMergedState","useMergedState","_useMergedState2","mergedValue","setValue","valueList","isArray","_valueList","_valueList$","val0","undefined","pointCount","slice","_returnValues","rawValuesRef","getTriggerValue","triggerValues","cloneNextValues","shallowEqual","changeToCloseValue","newValue","abs","onSliderMouseDown","getBoundingClientRect","clientX","clientY","percent","keyboardValue","setKeyboardValue","onHandleOffsetChange","indexOf","mergedDraggableTrack","_useDrag","_useDrag2","onStartDrag","lastIndexOf","sortedCacheValues","_React$useMemo","_React$useMemo2","blur","_document","document","activeElement","contains","context","_jsxs","SliderTooltip","open","innerRef","useRef","rafRef","cancelKeepAlign","raf","cancel","keepAlign","_a","forcePopupAlign","title","Tooltip","composeRef","SliderTooltip$1","__rest","this","s","t","p","prototype","hasOwnProperty","call","getOwnPropertySymbols","propertyIsEnumerable","ConfigContext","getPrefixCls","getPopupContainer","opens","setOpens","toggleTooltipOpen","prev","_extends","getTooltipPlacement","tooltipPlacement","customizePrefixCls","cls","mergedRange","info","rootPrefixCls","_props$tooltip","tooltip","tooltipProps","formatter","tipFormatter","toString","tooltipVisible","placement","getTooltipPopupContainer","tooltipOpen","customizeTooltipPrefixCls","isTipFormatter","passedProps","onMouseEnter","onMouseLeave","tooltipPrefixCls","RcSlider","Slider$1","SVGPause","SVGPlay","SVGRecordList","SyncPlayerStatus","SyncPlayerStatus2","normalizePlaybackRate","rate","isPlaybackRateEqual","rate1","rate2","AtomPlayer","EventEmitter","config","SideEffectManager","AtomPlayerInitStatus","ms","lastStatus","silently","resolve","r","AtomPlayerInitStatus2","ClusterPlayer","addAtomListener","listener","handler","emitter","receptor","player","frameDropCount","ticket","diff","action","addEventListener","target","type","options","listen","NativeVideoPlayer","addVideoListener","eventName","eventType","setCurrentTime","setDuration","WhiteboardPlayer","phase","PlayerPhase","currentTime","disposerID","SyncPlayer","combinedPlayer","getRoomRecordings","roomUUID","roomStore","room","toJS","M3U8_EXT","makeVideoPlayer","url","$video","$source","Hls","hls","ClassroomReplayStore","__publicField","observable","timestamp","globalStore","makeAutoObservable","_b","recordings","recording","fastboard","replayFastboard","WHITEBOARD_RATIO","onStageUsersStorage","runInAction","players","whiteboardPlayer","video","videoPlayer","syncPlayer","updateDuration","updateCurrentTime","state","userUUID","ExitReplayConfirm","observer","visible","onCancel","onConfirm","onSendWindowWillClose","useTranslate","windowsBtn","useContext","WindowsSystemBtnContext","useEffect","sendWindowWillCloseEvent","removeWindowWillCloseEvent","Modal","Button","useClassroomReplayStore","sp","useSafePromise","pushHistory","usePushHistory","classroomReplayStore","setClassroomReplayStore","useState","errorTips","RouteNameType","Trigger","ReplayList","currentRecording","loadingRecording","setLoading","currentRecordingIndex","loadRecording","useCallback","loading","isBuffering","tooltipFormatter","time","renderPlayerTime","beginTime","endTime","currentTimestamp","seek","togglePlayPause","isPlaying","Tag","Spin","LoadingOutlined","renderTime","duration","Dropdown","Menu","record","string","nth","format","seconds","minutes","hours","pad2","padStart","ReplayVideo","firstChild","removeChild","appendChild","ReplayWhiteboard","isDark","DarkModeContext","whiteboardRef","bindContainer","manager","setPrefersColorScheme","ReplayPage","match","useLoginCheck","history","useHistory","params","showExitReplayModal","setShowExitReplayModal","TopBar","showWindowsBtn","onClickWindowsSystemBtn","clickWindowMaximize","goBack","LoadingPage"],"mappings":"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"}